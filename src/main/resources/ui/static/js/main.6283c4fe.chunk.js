(this["webpackJsonpakhq-front-end"]=this["webpackJsonpakhq-front-end"]||[]).push([[0],{150:function(e,t,a){},164:function(e,t,a){"use strict";(function(e){var n=a(16),r=a(3),c=a.n(r),s=a(11),o=a(39),i=a(7),l=a(10),u=a(61),d=a(9),m=a(8),p=a(102),h=a(57),f=a(0),g=a.n(f),b=a(19),v=a(175),y=(a(315),a(33)),E=a(21),S=a(5),N=a(97),O=a(34),k=a.n(O),T=a(51),D=a(35),C=a.n(D),w=a(4),I=a(31),j=a.n(I),x=a(38),A=(a(65),a(59),a(730),a(18)),M=(a(27),a(17)),L=a(75),_=a(22),P=a(47),R=a(74),V=a(120),F=a.n(V),G=function(t){Object(d.a)(r,t);var a=Object(m.a)(r);function r(){var t,n;Object(i.a)(this,r);for(var c=arguments.length,s=new Array(c),l=0;l<c;l++)s[l]=arguments[l];return(n=a.call.apply(a,[this].concat(s))).state={sortBy:"Oldest",sortOptions:["Oldest","Newest"],partitionCount:0,partition:"All",partitionOptions:[],offsetsOptions:[],timestamp:"",search:{key:{text:"",type:"C"},value:{text:"",type:"C"},headerKey:{text:"",type:"C"},headerValue:{text:"",type:"C"}},offsets:{},offsetsSearch:"",openDateModal:!1,messages:[],pageNumber:1,nextPage:"",recordCount:0,showFilters:"",showDeleteModal:!1,deleteMessage:"",compactMessageToDelete:"",selectedCluster:n.props.clusterId,selectedTopic:n.props.topicId,cleanupPolicy:"",datetime:"",roles:JSON.parse(sessionStorage.getItem("roles")),canDeleteRecords:!1,percent:0,loading:!0,canDownload:!1,dateTimeFormat:w.o.SETTINGS_VALUES.TOPIC_DATA.DATE_TIME_FORMAT.RELATIVE},n.searchFilterTypes=[{_id:"C",name:"Contains"},{_id:"N",name:"Not Contains"},{_id:"E",name:"Equals"}],n.componentDidMount=function(){n._checkProps()},n.componentWillUnmount=function(){Object(p.a)((t=Object(u.a)(n),Object(h.a)(r.prototype)),"componentWillUnmount",t).call(t),n._stopEventSource()},n._startEventSource=function(e){var t=n.state,a=t.selectedCluster,r=t.selectedTopic,c=t.nextPage,s=Object(u.a)(n);n.setState({sortBy:"Oldest",messages:[],pageNumber:1,percent:0,isSearching:!0,recordCount:0},(function(){var t=n._buildFilters();e?n._setUrlHistory(t+"&after="+c):n._setUrlHistory(t),n.eventSource=new EventSource(Object(S.V)(a,r,t,e?c:void 0)),n.eventSource.addEventListener("searchBody",(function(e){var t=JSON.parse(e.data),a=t.records||[],n=t.after?t.after:s.state.nextPage;s.setState({nextPage:n,recordCount:s.state.recordCount+a.length,percent:t.percent.toFixed(2)},(function(){s._handleMessages(a,!0)}))})),n.eventSource.addEventListener("searchEnd",(function(e){s.eventSource.close(),s.setState({percent:100,isSearching:!1,loading:!1})}))}))},n._stopEventSource=function(){n.eventSource&&n.eventSource.close(),n.setState({isSearching:!1})},n._clearSearch=function(){n.setState({search:{key:{text:"",type:"C"},value:{text:"",type:"C"},headerKey:{text:"",type:"C"},headerValue:{text:"",type:"C"}}},(function(){n._searchMessages()}))},n._showDeleteModal=function(e){n.setState({showDeleteModal:!0,deleteMessage:e})},n._closeDeleteModal=function(){n.setState({showDeleteModal:!1,deleteMessage:""})},n._deleteCompactMessage=function(){var t=n.state,a=t.selectedCluster,r=t.selectedTopic,c=t.compactMessageToDelete,s=new e(c.key).toString("base64"),o={partition:parseInt(c.partition),key:s};n.removeApi(Object(S.T)(a,r,parseInt(c.partition),s),o).then((function(){A.b.success("Record '".concat(c.partition,"-").concat(c.offset,"' will be deleted on compaction")),n.setState({showDeleteModal:!1,compactMessageToDelete:""},(function(){n._getMessages()}))})).catch((function(){n.setState({showDeleteModal:!1,messageToDelete:{}})}))},n._handleMessages=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?n.state.messages:[];return e.forEach((function(e){var t={key:e.key||"",value:e.truncated?e.value+"...\nToo large message. Full body in share button."||!1:e.value||"",timestamp:e.timestamp,partition:JSON.stringify(e.partition)||"",offset:JSON.stringify(e.offset)||"",headers:e.headers||{},schema:{key:e.keySchemaId,value:e.valueSchemaId},exceptions:e.exceptions||[]};a.push(t)})),a},n._getNextPageOffsets=function(e){var t=e.substring(e.indexOf("after=")+6),a=t.substring(0,t.indexOf("&"));return n._getOffsetsByAfterString(a)},n._getOffsetsByAfterString=function(e){var t=[];return e.split("_").forEach((function(e){var a=e.split("-");t["partition".concat(a[0])]=a[1]})),t},n._getOffsetsByOffset=function(e,t){var a=[];return a["partition".concat(e)]=t,a},n._createPartitionOptions=function(){for(var e=n.state.partitionCount,t=["All"],a=0;a<e;a++)t.push("".concat(a));return t},n._createOffsetsOptions=function(){for(var e=n.state.partitionCount,t=[],a=0;a<e;a++)t.push("Partition ".concat(a));return t},n._renderPartitionOptions=function(){var e,t=n._createPartitionOptions(),a=[],r=Object(o.a)(t);try{var c=function(){var t=e.value;a.push(g.a.createElement(b.a.Item,{key:t,onClick:function(){return n.setState({partition:t},(function(){n._searchMessages()}))}},g.a.createElement("i",{className:"fa fa-fw pull-left","aria-hidden":"true"})," ",t))};for(r.s();!(e=r.n()).done;)c()}catch(s){r.e(s)}finally{r.f()}return a},n._renderOffsetsOptions=function(){var e,t=n._createOffsetsOptions(),a=[],r=n.state.offsets,c=function(){var c=t[e],s=C.a.camelCase(c);void 0===r[s]&&(r[s]="",n.setState({offsets:r})),a.push(g.a.createElement("tr",{key:c},g.a.createElement("td",{className:"offset-navbar-partition-label offset-navbar-partition-td"},c," : "),g.a.createElement("td",{className:"offset-navbar-partition-td"},g.a.createElement("input",{className:"form-control",type:"number",min:"0",name:"".concat(e),value:r[s],onChange:function(e){var t=e.currentTarget,a=n.state.offsets;a[s]=t.value,n.setState(a)}}))))};for(e=0;e<t.length;e++)c();return a},n}return Object(l.a)(r,[{key:"_checkProps",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t,a,n,r,s,o=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params,a=t.clusterId,n=t.topicId,r=new URLSearchParams(this.props.location.search),e.next=4,Object(_.b)(a);case 4:s=e.sent,this.setState((function(e){return{selectedCluster:a,selectedTopic:n,sortBy:r.get("sort")?r.get("sort"):s&&s.topicData&&s.topicData.sort?s.topicData.sort:o.state.sortBy,partition:r.get("partition")?r.get("partition"):o.state.partition,datetime:r.get("timestamp")?new Date(r.get("timestamp")):o.state.datetime,offsetsSearch:r.get("after")?r.get("after"):o.state.offsetsSearch,search:o._buildSearchFromQueryString(r),offsets:r.get("offset")?o._getOffsetsByOffset(r.get("partition"),r.get("offset")):r.get("after")?o._getOffsetsByAfterString(r.get("after")):o.state.offsets,dateTimeFormat:s&&s.topicData&&s.topicData.dateTimeFormat?s.topicData.dateTimeFormat:e.dateTimeFormat}}),(function(){null!==r.get("single")?(o._getSingleMessage(r.get("partition"),r.get("offset")),o.setState({canDownload:!0})):o._getMessages()}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_buildSearchFromQueryString",value:function(e){var t=this.state.search;return Object.keys(t).forEach((function(a){var n=e.get("searchBy".concat(Object(_.a)(a)));if(n){var r=n.lastIndexOf("_");t[a].text=n.substr(0,r),t[a].type=n.substr(r+1)}})),t}},{key:"_hasAnyFilterFilled",value:function(){var e=this.state.search;return void 0!==Object.keys(e).find((function(t){return e[t].text.length>0}))}},{key:"_buildFilters",value:function(){var e=this.state,t=e.sortBy,a=e.partition,n=e.datetime,r=e.offsetsSearch,c=e.search,s=[];if(t&&s.push("sort=".concat(t)),r&&s.push("after=".concat(r)),a&&s.push("partition=".concat(a)),n){var o=n.toString().length>0?k()(n):"";o=Object(E.c)({year:o.year(),monthValue:o.month(),dayOfMonth:o.date(),hour:o.hour(),minute:o.minute(),second:o.second(),milli:o.millisecond()},"YYYY-MM-DDTHH:mm:ss.SSS",!0)+"Z",s.push("timestamp=".concat(o))}return Object.keys(c).filter((function(e){return c[e].text.length>0})).forEach((function(e){s.push("searchBy".concat(Object(_.a)(e),"=").concat(encodeURIComponent(c[e].text),"_").concat(c[e].type))})),s.join("&")}},{key:"_searchMessages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._stopEventSource(),this._hasAnyFilterFilled()?this._startEventSource(e):this._getMessages(e)}},{key:"_getSingleMessage",value:function(e,t){var a=this.state,n=a.selectedCluster,r=a.selectedTopic,c=[this.getApi(Object(S.W)(n,r,e,t)),this.getApi(Object(S.jb)(n,r))];this._fetchMessages(c)}},{key:"_getMessages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state,a=t.selectedCluster,n=t.selectedTopic,r=t.nextPage,c=this._buildFilters(),s=[this.getApi(Object(S.S)(a,n,c,e?r:void 0)),this.getApi(Object(S.jb)(a,n))];this._fetchMessages(s,e),e?this._setUrlHistory(r.substring(r.indexOf("?")+1,r.length)):this._setUrlHistory(c)}},{key:"_fetchMessages",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,r=n.nextPage,c=n.pageNumber,s=n.partitionCount,o=n.recordCount,i=n.offsets;Promise.all(e).then((function(e){var n,l,u,d,m,p=[],h=e[0].data,f=e[1].data;h.results?p=t._handleMessages(h.results):n=1,f&&(a&&(l=t._getNextPageOffsets(r)),u=f.length,d=h.after,m=h.size),t.setState({messages:p,canDeleteRecords:h.canDeleteRecords,pageNumber:n||c,partitionCount:u||s,nextPage:d||r,recordCount:m||o,offsets:l||i,loading:!1})}))}},{key:"_handleOnDelete",value:function(e){var t=this;this.setState({compactMessageToDelete:e},(function(){t._showDeleteModal(g.a.createElement(g.a.Fragment,null,"Do you want to delete message: ",g.a.createElement("code",null,e.key)," ?"))}))}},{key:"_copyToClipboard",value:function(e){var t=document.createElement("textarea");t.innerText=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove()}},{key:"_handleOnShare",value:function(e){var t=this.state,a=t.selectedCluster,n=t.selectedTopic,r="".concat(S.a,"/ui/").concat(a,"/topic/").concat(n,"/data?single=true&partition=").concat(e.partition,"&offset=").concat(e.offset);try{this._copyToClipboard("".concat(window.location.host).concat(r)),A.b.info("Message url is copied to your clipboard!")}catch(c){console.error("Failed to copy: ",c)}this.setState({canDownload:!0}),this.props.history.push(r),this._getSingleMessage(e.partition,e.offset)}},{key:"_handleDownload",value:function(e){var t=e.key,a=e.value,n=t&&null!==t&&"null"!==t,r=document.createElement("a");r.href=URL.createObjectURL(new Blob([a],{type:"text/json"})),r.download="".concat(n?t:"file",".json"),r.click(),r.remove()}},{key:"_handleOnDateTimeFormatChanged",value:function(){var e=Object(s.a)(c.a.mark((function e(t){var a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.match.params.clusterId,this.setState({dateTimeFormat:t}),e.next=4,Object(_.b)(a);case 4:r=e.sent,s=Object(n.a)(Object(n.a)({},r),{},{topicData:Object(n.a)(Object(n.a)({},r.topicData),{},{dateTimeFormat:t})}),Object(P.d)(a,s);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_handleCopy",value:function(e){var t={partition:e.partition,key:e.key,header:e.headers,keySchemaId:e.schema.key,valueSchemaId:e.schema.value,value:e.value};Object(P.c)(t);var a=this.props.match.params,n=a.clusterId,r=a.topicId;this.props.history.push("/ui/".concat(n,"/topic/").concat(r,"/produce"))}},{key:"_setUrlHistory",value:function(e){var t=this.state,a=t.selectedCluster,n=t.selectedTopic;this.props.history.push({pathname:"/ui/".concat(a,"/topic/").concat(n,"/data"),search:e})}},{key:"_redirectToSchema",value:function(e){var t=this,a=this.state.selectedCluster;this.getApi(Object(S.R)(a,e)).then((function(n){n.data?t.props.history.push({pathname:"/ui/".concat(a,"/schema/details/").concat(n.data.subject),schemaId:n.data.subject}):A.b.warn("Unable to find the registry schema with id  ".concat(e," !"))}))}},{key:"_renderSortOptions",value:function(){var e,t=this,a=this.state.sortOptions,n=[],r=Object(o.a)(a);try{var c=function(){var a=e.value;n.push(g.a.createElement(b.a.Item,{key:a,onClick:function(){return t.setState({sortBy:a},(function(){t._clearSearch()}))}},g.a.createElement("i",{className:"fa fa-fw fa-sort-numeric-desc pull-left","aria-hidden":"true"})," ",a))};for(r.s();!(e=r.n()).done;)c()}catch(s){r.e(s)}finally{r.f()}return n}},{key:"_openAndCloseFilters",value:function(){"show"===this.state.showFilters?this.setState({showFilters:""}):this.setState({showFilters:"show"})}},{key:"_renderSearchFilter",value:function(e,t){var a=this,n=this.state.search;return g.a.createElement("div",{className:"search-input-fields"},g.a.createElement("label",null,t),g.a.createElement("input",{className:"form-control",name:"".concat(e,"_text"),type:"text",value:n[e].text,onChange:function(t){var r=t.currentTarget;n[e].text=r.value,a.setState({search:n})}}),g.a.createElement(R.a,{name:"".concat(e,"_select"),selectClass:"col-xs-2",value:n[e].type,label:"",items:this.searchFilterTypes,onChange:function(t){n[e].type=t.target.value,a.setState({search:n})}}))}},{key:"_renderSearchGroup",value:function(){var e=this,t=this.state.isSearching;return g.a.createElement("div",{style:{minWidth:"400px"},className:"input-group"},this._renderSearchFilter("key","Key"),this._renderSearchFilter("value","Value"),this._renderSearchFilter("headerKey","Header Key"),this._renderSearchFilter("headerValue","Header Value"),g.a.createElement("div",{style:{display:"flex"}},g.a.createElement("button",{className:"btn btn-primary inline-block search",type:"button",onClick:function(){return e._searchMessages()}},t?g.a.createElement("i",{className:"fa fa-spinner fa-spin"}):g.a.createElement("i",{className:"fa fa-search"})),g.a.createElement("button",{className:"btn btn-primary btn-border inline-block",type:"button",disabled:!t,onClick:function(){return e._stopEventSource()}},"Stop"),g.a.createElement("button",{className:"btn btn-primary btn-border inline-block",type:"button",disabled:t,onClick:function(){return e._clearSearch()}},"Clear")))}},{key:"_renderCurrentSearchText",value:function(){var e=this.state.search,t=Object.keys(e).find((function(t){return e[t].text.length>0}));return void 0!==t?e[t].text:""}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortBy,n=t.partition,r=t.offsets,c=t.messages,s=t.pageNumber,o=t.recordCount,i=t.showFilters,l=t.datetime,u=t.isSearching,d=t.canDeleteRecords,m=t.canDownload,p=t.percent,h=t.loading,f=[w.o.TABLE_SHARE,w.o.TABLE_COPY];d&&f.push(w.o.TABLE_DELETE),m&&f.push(w.o.TABLE_DOWNLOAD);var S=k()(l),O=this.props.history;return g.a.createElement(g.a.Fragment,null,g.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light mr-auto khq-data-filter khq-sticky khq-nav"},g.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#topic-data","aria-controls":"topic-data","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){e._openAndCloseFilters()}},g.a.createElement("span",{className:"navbar-toggler-icon"})),g.a.createElement("nav",{className:"pagination-data"},g.a.createElement("div",null,g.a.createElement(N.a,{pageNumber:s,totalRecords:o,totalPageNumber:0===c.length?s:void 0,onChange:function(t){var a=t.currentTarget;e.setState({pageNumber:a.value})},onSubmit:function(){e.setState({pageNumber:s+1},(function(){e._searchMessages(!0)}))},editPageNumber:!1,showTotalPageNumber:!1}))),g.a.createElement("div",{className:"collapse navbar-collapse ".concat(i),id:"topic-data"},g.a.createElement("ul",{className:"navbar-nav mr-auto"},g.a.createElement("li",{className:"nav-item dropdown"},g.a.createElement(b.a,null,g.a.createElement(b.a.Toggle,{className:"nav-link dropdown-toggle"},g.a.createElement("strong",null,"Sort:")," (",a,")"),!h&&g.a.createElement(b.a.Menu,null,this._renderSortOptions()))),g.a.createElement("li",{className:"nav-item dropdown"},g.a.createElement(b.a,null,g.a.createElement(b.a.Toggle,{className:"nav-link dropdown-toggle"},g.a.createElement("strong",null,"Partition:")," (",n,")"),!h&&g.a.createElement(b.a.Menu,null,g.a.createElement("div",{style:{minWidth:"300px"},className:"khq-offset-navbar"},this._renderPartitionOptions())))),g.a.createElement("li",{className:"nav-item dropdown"},g.a.createElement(b.a,null,g.a.createElement(b.a.Toggle,{className:"nav-link dropdown-toggle"},g.a.createElement("strong",null,"Timestamp:"),""!==l&&" "+Object(E.c)({year:S.year(),monthValue:S.month(),dayOfMonth:S.date(),hour:S.hour(),minute:S.minute(),second:S.second()},"DD-MM-YYYY HH:mm")),!h&&g.a.createElement(b.a.Menu,null,g.a.createElement("div",{className:"input-group"},g.a.createElement(T.a,{onClear:function(){e.setState({datetime:""})},showDateTimeInput:!0,showTimeSelect:!0,value:l,onChange:function(t){e.setState({datetime:t},(function(){e._searchMessages()}))}}))))),g.a.createElement("li",{className:"nav-item dropdown"},g.a.createElement(b.a,null,g.a.createElement(b.a.Toggle,{className:"nav-link dropdown-toggle"},g.a.createElement("strong",null,"Search:")," ",this._renderCurrentSearchText()),!h&&g.a.createElement(b.a.Menu,null,this._renderSearchGroup()))),g.a.createElement("li",{className:"nav-item dropdown"},g.a.createElement(b.a,null,g.a.createElement(b.a.Toggle,{className:"nav-link dropdown-toggle"},g.a.createElement("strong",null,"Offsets:")),!h&&g.a.createElement(b.a.Menu,null,g.a.createElement("div",{style:{minWidth:"300px"},className:"khq-offset-navbar"},g.a.createElement("div",{className:"input-group"},g.a.createElement("table",null,this._renderOffsetsOptions()),g.a.createElement("div",{className:"input-group-append"},g.a.createElement("button",{className:"btn btn-primary offsets-ok",type:"button",onClick:function(){for(var t="",a=0;a<Object.keys(r).length;a++)""!==Object.values(r)[a]&&(""!==t&&(t+="_"),t+="".concat(a,"-").concat(Object.values(r)[a]));e.setState({offsetsSearch:t},(function(){e._searchMessages()}))}},"OK"))))))),g.a.createElement("li",null,g.a.createElement(b.a,null,g.a.createElement(b.a.Toggle,{className:"nav-link dropdown-toggle"},g.a.createElement("strong",null,"Time Format:")," (",this.state.dateTimeFormat,")"),g.a.createElement(b.a.Menu,null,g.a.createElement(b.a.Item,{onClick:function(){return e._handleOnDateTimeFormatChanged(w.o.SETTINGS_VALUES.TOPIC_DATA.DATE_TIME_FORMAT.RELATIVE)}},"Show relative time"),g.a.createElement(b.a.Item,{onClick:function(){return e._handleOnDateTimeFormatChanged(w.o.SETTINGS_VALUES.TOPIC_DATA.DATE_TIME_FORMAT.ISO)}},"Show ISO timestamp"))))))),u&&g.a.createElement(v.a,{style:{height:"0.3rem"},animated:!0,now:p}),g.a.createElement("div",{className:"table-responsive"},g.a.createElement(y.a,{loading:h,history:O,reduce:!0,firstHeader:[{colName:"Key",colSpan:1},{colName:"Value",colSpan:1},{colName:"Date",colSpan:1},{colName:"Partition",colSpan:1},{colName:"Offset",colSpan:1},{colName:"Headers",colSpan:1},{colName:"Schema",colSpan:1}],columns:[{id:"key",accessor:"key",colName:"Key",type:"text",cell:function(e,t){var a=""===e[t.accessor]?"null":e[t.accessor];return g.a.createElement("span",null,g.a.createElement("code",{className:"key"},a))}},{id:"value",accessor:"value",colName:"Value",type:"text",extraRow:!0,extraRowContent:function(e,t){var a=e.value;try{var n=F.a.parse(e.value);a=F.a.stringify(n,null,2)}catch(r){}return g.a.createElement(j.a,{mode:"json",id:"value"+t,theme:"merbivore_soft",value:a||"null",readOnly:!0,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},style:{width:"100%",minHeight:"25vh"}})},cell:function(e){return g.a.createElement("div",null,e.exceptions.length>0&&g.a.createElement("div",{className:"alert alert-warning",role:"alert",dangerouslySetInnerHTML:{__html:e.exceptions.join("<br /><br />")}}),g.a.createElement("pre",{className:"mb-0 khq-data-highlight"},g.a.createElement("code",null,e.value||"null")))}},{id:"timestamp",accessor:"timestamp",colName:"Date",type:"text",cell:function(t,a){return g.a.createElement(L.a,{isoDateTimeString:t[a.accessor],dateTimeFormat:e.state.dateTimeFormat})}},{id:"partition",accessor:"partition",colName:"Partition",type:"text",cell:function(e,t){return e[t.accessor]}},{id:"offset",accessor:"offset",colName:"Offset",type:"text",cell:function(e,t){return e[t.accessor]}},{id:"headers",accessor:"headers",colName:"Headers",type:"text",expand:!0,cell:function(e){return g.a.createElement("div",{className:"tail-headers"},Object.keys(e.headers).length)}},{id:"schema",accessor:"schema",colName:"Schema",type:"text",cell:function(t,a){return g.a.createElement("div",{className:"justify-items"},void 0!==t[a.accessor].key&&g.a.createElement("span",{className:"badge badge-primary clickable",onClick:function(){e._redirectToSchema(t.schema.key)}},"Key: ",t[a.accessor].key),void 0!==t[a.accessor].value&&g.a.createElement("span",{className:"badge badge-primary clickable schema-value",onClick:function(){e._redirectToSchema(t.schema.value)}},"Value: ",t[a.accessor].value))}}],extraRow:!0,noStripes:!0,data:c,updateData:function(t){e.setState({messages:t})},onDelete:function(t){e._handleOnDelete(t)},onShare:function(t){e._handleOnShare(t)},onDownload:function(t){e._handleDownload(t)},onCopy:function(t){e._handleCopy(t)},actions:f,onExpand:function(e){return Object.keys(e.headers).map((function(t){return g.a.createElement("tr",{className:"table-sm",style:{display:"flex",flexDirection:"row",width:"100%"}},g.a.createElement("td",{style:{width:"100%",display:"flex",borderStyle:"dashed",borderWidth:"1px",backgroundColor:"#171819"}},t),g.a.createElement("td",{style:{width:"100%",display:"flex",borderStyle:"dashed",borderWidth:"1px",backgroundColor:"#171819"}},e.headers[t]))}))}})),g.a.createElement(x.a,{show:this.state.showDeleteModal,handleCancel:this._closeDeleteModal,handleConfirm:this._deleteCompactMessage,message:this.state.deleteMessage}))}}]),r}(M.a);t.a=G}).call(this,a(311).Buffer)},165:function(e,t,a){e.exports=a.p+"static/media/icon.648ce9c8.svg"},169:function(e,t,a){e.exports=a.p+"static/media/logo.45903e1f.svg"},17:function(e,t,a){"use strict";var n=a(7),r=a(10),c=a(9),s=a(8),o=a(0),i=a(44),l=a.n(i),u=a(48),d=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).cancel=l.a.CancelToken.source(),e}return Object(r.a)(a,[{key:"componentWillUnmount",value:function(){var e=window.location.pathname;"/ui/login"!==e&&sessionStorage.setItem("returnTo",e+(window.location.search||"")),this.cancelAxiosRequests()}},{key:"cancelAxiosRequests",value:function(){void 0!==this.cancel&&this.cancel.cancel("cancel all")}},{key:"renewCancelToken",value:function(){this.cancel=l.a.CancelToken.source()}},{key:"getApi",value:function(e){return Object(u.a)(e,{cancelToken:this.cancel.token})}},{key:"postApi",value:function(e,t){return Object(u.d)(e,t,{cancelToken:this.cancel.token})}},{key:"putApi",value:function(e,t){return Object(u.e)(e,t,{cancelToken:this.cancel.token})}},{key:"removeApi",value:function(e,t){return Object(u.f)(e,t,{cancelToken:this.cancel.token})}}]),a}(o.Component);t.a=d},179:function(e,t,a){e.exports=a(748)},184:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},21:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"f",(function(){return p})),a.d(t,"e",(function(){return f})),a.d(t,"g",(function(){return g})),a.d(t,"h",(function(){return b}));var n=a(35),r=a.n(n),c=a(34),s=a.n(c),o=a(4);function i(e,t){var a=0,n=0,r=0;return e.filter((function(e){return e.topic===t})).forEach((function(e){n=e.offset||0,r=e.lastOffset||0,a+=r-n})),a}function l(e){return(e||[]).reduce((function(e,t){return void 0===e[t.topic]&&(e[t.topic]=[]),e[t.topic].push(t),e}),Object.create(null))}function u(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.milli||0,r=new Date(e.year,e.monthValue,e.dayOfMonth,e.hour,e.minute,e.second,n);return a?s()(r.toISOString()).utc().format(t).toString():s()(r.toISOString()).format(t).toString()}function d(e,t,n){return n=n||"",a(192)(e).from(t).toBest(n)}function m(e){return r.a.lowerCase(e.plural)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(null===e||void 0===e)return"";if(0===e)return"0 B";var a=1024,n=t<0?0:t,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],c=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,c)).toFixed(n))+" "+r[c]}function h(e,t,a){return void 0===e[t]&&(e[t]={}),e[t][a]=!0,e}function f(e){var t={};return e?(e.forEach((function(e){switch(e.substring(0,e.indexOf("/"))){case o.c.TOPIC:t=h(t,o.c.TOPIC,e);break;case o.c.NODE:t=h(t,o.c.NODE,e);break;case o.c.GROUP:t=h(t,o.c.GROUP,e);break;case o.c.REGISTRY:t=h(t,o.c.REGISTRY,e);break;case o.c.ACLS:t=h(t,o.c.ACLS,e);break;case o.c.CONNECT:t=h(t,o.c.CONNECT,e)}})),JSON.stringify(t)):JSON.stringify(t)}function g(e,t,a){return e.map((function(e){return{_id:e[t],name:e[a]}}))}function b(e){return e.map((function(e){return{_id:e,name:e}}))}t.b={showTime:function(e){if(!e)return"0 seconds";var t=d(e,"ms",{exclude:["ms","mu","ns"]}),a=Boolean("s"===t.unit),n=a?"".concat(Number(t.val.toFixed(3))," ").concat(m(t)):"".concat(Math.floor(t.val)," ").concat(m(t)),r=a?"":d(t.val-Math.floor(t.val),t.unit,{exclude:["ms","mu","ns"]}),c=r&&r.val>0?"".concat(Math.floor(r.val)," ").concat(m(r)):"";return"".concat(n," ").concat(c)},showBytes:p}},22:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return m}));var n=a(3),r=a.n(n),c=a(11),s=a(5),o=a(47),i=a(48),l=function(e,t){var a=e.location.pathname.split("/"),n=e.location.pathname.split("/")[a.length-1];return t.includes(n)?n:t[0]};function u(e){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=Object(o.a)(t))||!t){e.next=16;break}return e.prev=2,e.next=5,Object(i.a)(Object(s.mb)(t));case 5:return n=e.sent,Object(o.d)(t,n.data),e.abrupt("return",n.data);case 10:return e.prev=10,e.t0=e.catch(2),console.error("Error:",e.t0),e.abrupt("return",{});case 14:e.next=17;break;case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}var m=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){},315:function(e,t,a){},33:function(e,t,a){"use strict";var n=a(7),r=a(10),c=a(9),s=a(8),o=a(0),i=a.n(o),l=a(4),u=(a(188),a(189),function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"line-spinner"},i.a.createElement("div",{className:"rect1"}),i.a.createElement("div",{className:"rect2"}),i.a.createElement("div",{className:"rect3"}),i.a.createElement("div",{className:"rect4"}),i.a.createElement("div",{className:"rect5"}))}}]),a}(o.Component)),d=a(15),m=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={extraExpanded:[],expanded:[],sortingColumn:"",reverse:!1},e.handleExpand=function(t){var a=e.state.expanded,n=a.includes(t.id)?a.filter((function(e){return e!==t.id})):a.concat(t.id);e.setState({expanded:n})},e.handleExtraExpand=function(t){var a=e.state.extraExpanded,n=a.includes(t.id)?a:a.concat(t.id);e.setState({extraExpanded:n})},e.handleExtraCollapse=function(t){var a=e.state.extraExpanded,n=a.includes(t.id)?a.filter((function(e){return e!==t.id})):a;e.setState({extraExpanded:n})},e}return Object(r.a)(a,[{key:"renderHeader",value:function(){var e=this,t=this.props,a=t.has2Headers,n=t.firstHeader,r=t.columns,c=t.actions,s=t.data;return i.a.createElement(i.a.Fragment,null,a&&i.a.createElement("thead",{id:"firstHeader",className:"thead-dark"},i.a.createElement("tr",{key:"firstHeader"},n.map((function(e,t){return i.a.createElement("th",{id:"headerColumn",className:"header-text",key:"firstHead".concat(e.colName).concat(t),colSpan:e.colSpan},e.colName)})),c&&c.length>0&&s&&s.length>0&&i.a.createElement("th",{colSpan:c.length}))),i.a.createElement("thead",{id:"secondHeader",className:"thead-dark"},i.a.createElement("tr",{key:"secondHeader"},r.map((function(t,a){return t.extraRow?null:i.a.createElement("th",{className:"header-text",key:"secondHead".concat(t.colName).concat(a)},i.a.createElement("div",{className:"header-content"},t.colName,t.sortable&&i.a.createElement("i",{className:"fa fa-sort clickable",onClick:function(){var a=[];e.setState({sortingColumn:t.accessor!==e.state.sortingColumn?t.accessor:e.state.sortingColumn,reverse:!(t.accessor!==e.state.sortingColumn&&e.state.sortingColumn>0)&&!e.state.reverse},(function(){a=e.props.data.sort(l.p(e.state.sortingColumn,e.state.reverse)),e.props.updateData(a)}))}})))})),c&&c.length>0&&s&&s.length>0&&i.a.createElement("th",{colSpan:c.length}))))}},{key:"onDoubleClick",value:function(e,t){var a=this.props,n=a.history,r=a.idCol;if(e){var c=e(r?t[this.props.idCol]:t.id,t);c&&n.push({pathname:c,internal:t.internal})}}},{key:"renderRow",value:function(e,t){var a,n,r=this,c=this.props,s=c.actions,o=c.columns,u=c.extraRow,d=c.onExpand,m=c.noRowBackgroundChange,p=c.onDetails,h=c.handleExtraExpand,f=c.handleExtraCollapse,g=c.reduce,b=this.state.extraExpanded,v=[i.a.createElement("tr",{key:"tableRow".concat(t),className:g?"reduce":""},o.map((function(c,o){var u=[];return m&&u.push({backgroundColor:"#444"}),c.expand&&u.push({cursor:"pointer"}),c.extraRow?(a=c.cell?c.cell(e,c):e[c.accessor],n=c.extraRowContent?c.extraRowContent(e,c):e[c.accessor],null):"function"===typeof c.cell?i.a.createElement("td",{key:"tableCol".concat(t).concat(o),style:c.expand?{cursor:"pointer"}:{},onDoubleClick:function(){s&&s.find((function(e){return e===l.i}))&&!c.expand&&r.onDoubleClick(p,e),c.expand&&r.handleExpand(e)},id:"row_".concat(c.id,"_").concat(o)},r.renderContent(c.cell(e,c))):i.a.createElement("td",{key:"tableCol".concat(t).concat(o),style:c.expand?{cursor:"pointer"}:{},onDoubleClick:function(){s&&s.find((function(e){return e===l.i}))&&!c.expand&&r.onDoubleClick(p,e),c.expand&&r.handleExpand(e)},id:"row_".concat(c.id,"_").concat(o)},r.renderContent(e[c.accessor]))})),s&&s.length>0&&this.renderActions(e))];return JSON.stringify(this.state.expanded.find((function(t){return t===e.id})))&&v.push(i.a.createElement("tr",{key:"row-expandable-"+e.id},i.a.createElement("td",{key:"col-expandable-"+e.id,colSpan:this.colspan(),style:{padding:0}},d(e)))),u&&a&&v.push(i.a.createElement("tr",{onClick:function(){(!b||!JSON.stringify(b.find((function(t){return t.subject?t.subject===e.subject:t===e.id})))||!JSON.stringify(b.find((function(t){return t.subject?t.subject===e.subject:t===e.id}))).length>0)&&("function"===typeof h?r.setState({extraExpanded:h(b,e)}):r.handleExtraExpand(e))},key:"row-expanded-"+e.id},i.a.createElement("td",{style:{backgroundColor:"#171819"},colSpan:this.colspan()}," ",b&&JSON.stringify(b.find((function(t){return t.subject?t.subject===e.subject:t===e.id})))&&JSON.stringify(b.find((function(t){return t.subject?t.subject===e.subject:t===e.id}))).length>0?i.a.createElement("div",{className:"close-container"},i.a.createElement("span",{onClick:function(){"function"===typeof f?r.setState({extraExpanded:f(b,e)}):r.handleExtraCollapse(e)},"aria-hidden":"true"},"\xd7")):null,i.a.createElement("div",{className:b&&JSON.stringify(b.find((function(t){return t.subject?t.subject===e.subject:t===e.id})))&&JSON.stringify(b.find((function(t){return t.subject?t.subject===e.subject:t===e.id}))).length>0?"":"collapsed-extra-row"},b&&JSON.stringify(b.find((function(t){return t.subject?t.subject===e.subject:t===e.id})))&&JSON.stringify(b.find((function(t){return t.subject?t.subject===e.subject:t===e.id}))).length>0?n:a)))),v}},{key:"renderContent",value:function(e){return void 0!==e?e:i.a.createElement(u,null)}},{key:"renderActions",value:function(e){var t=this.props,a=t.actions,n=t.onAdd,r=t.onDetails,c=t.onConfig,s=t.onDelete,o=t.onEdit,u=t.onRestart,m=t.onShare,p=t.onDownload,h=t.onCopy,f=t.idCol?e[this.props.idCol]:e.id;return i.a.createElement(i.a.Fragment,null,a.find((function(e){return e===l.e}))&&i.a.createElement("td",{className:"khq-row-action khq-row-action-main action-hover"},i.a.createElement("span",{title:"Add",id:"add",onClick:function(){n&&n()}},i.a.createElement("i",{className:"fa fa-search"}))),a.find((function(e){return e===l.i}))&&i.a.createElement("td",{className:"khq-row-action khq-row-action-main action-hover"},i.a.createElement(d.b,{to:r&&r(f,e),id:"details",title:"Details"},i.a.createElement("i",{className:"fa fa-search"}))),a.find((function(e){return e===l.f}))&&i.a.createElement("td",{className:"khq-row-action khq-row-action-main action-hover"},i.a.createElement(d.b,{to:c&&c(f,e),id:"config",title:"Config"},i.a.createElement("i",{className:"fa fa-gear"}))),a.find((function(e){return e===l.h}))&&i.a.createElement("td",{className:"khq-row-action khq-row-action-main action-hover"},i.a.createElement("span",{title:"Delete",id:"delete",onClick:function(){s&&s(e)}},i.a.createElement("i",{className:"fa fa-trash"}))),a.find((function(e){return e===l.k}))&&i.a.createElement("td",{className:"khq-row-action khq-row-action-main action-hover"},i.a.createElement("span",{title:"Edit",id:"edit",onClick:function(){o&&o()}},i.a.createElement("i",{className:"fa fa-search"}))),a.find((function(e){return e===l.l}))&&i.a.createElement("td",{className:"khq-row-action khq-row-action-main action-hover"},i.a.createElement("span",{title:"Restart",id:"restart",onClick:function(){u&&u(e)}},i.a.createElement("i",{className:"fa fa-refresh"}))),a.find((function(e){return e===l.g}))&&i.a.createElement("td",{className:"khq-row-action khq-row-action-main action-hover"},i.a.createElement("span",{title:"Copy",id:"copy",onClick:function(){h&&h(e)}},i.a.createElement("i",{className:"fa fa-clone"}))),a.find((function(e){return e===l.m}))&&i.a.createElement("td",{className:"khq-row-action khq-row-action-main action-hover"},i.a.createElement("span",{title:"Share",id:"share",onClick:function(){m&&m(e)}},i.a.createElement("i",{className:"fa fa-share"}))),a.find((function(e){return e===l.j}))&&i.a.createElement("td",{className:"khq-row-action khq-row-action-main action-hover"},i.a.createElement("span",{title:"Download",id:"download",onClick:function(){p&&p(e)}},i.a.createElement("i",{className:"fa fa-download"}))))}},{key:"renderLoading",value:function(){return i.a.createElement("tr",null,i.a.createElement("td",{colSpan:this.colspan(),className:"loading-rows"},i.a.createElement(u,null)))}},{key:"renderNoContent",value:function(){var e=this.props.noContent;return e?"string"===typeof e?i.a.createElement("tr",null,i.a.createElement("td",{colSpan:this.colspan()},i.a.createElement("div",{className:"alert alert-warning mb-0",role:"alert"},e))):e:i.a.createElement("tr",null,i.a.createElement("td",{colSpan:this.colspan()},i.a.createElement("div",{className:"alert alert-warning mb-0",role:"alert"},"No data available")))}},{key:"colspan",value:function(){var e=this.props,t=e.actions;return e.columns.filter((function(e){return!e.extraRow})).length+(t&&t.length?t.length:0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.noStripes,n=t.loading,r=t.rowId,c=[],s=this.props.data||[];s.forEach((function(t,a){void 0!==r&&(a=r(t)),t.id||(t.id=a);var n=e.renderRow(t,a);c=c.concat(n)}));var o="table table-bordered table-hover mb-0";return a||(o+=" table-striped"),a&&(o+=" no-stripes"),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:o},this.renderHeader(),i.a.createElement("tbody",null,n?this.renderLoading():s&&s.length>0?c:this.renderNoContent())))}}]),a}(o.Component);t.a=m},38:function(e,t,a){"use strict";var n=a(73);t.a=n.a},4:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"n",(function(){return c})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"k",(function(){return i})),a.d(t,"h",(function(){return l})),a.d(t,"i",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"l",(function(){return m})),a.d(t,"m",(function(){return p})),a.d(t,"j",(function(){return h})),a.d(t,"g",(function(){return f})),a.d(t,"d",(function(){return g})),a.d(t,"p",(function(){return b}));var n="MILLI",r="BYTES",c="TEXT",s={TOPIC:"topic",NODE:"node",GROUP:"group",REGISTRY:"registry",ACLS:"acls",CONNECT:"connect"},o="add",i="edit",l="delete",u="details",d="config",m="restart",p="share",h="download",f="copy",g={TOPIC:{TOPIC_DEFAULT_VIEW:{ALL:"ALL",HIDE_INTERNAL:"HIDE_INTERNAL",HIDE_INTERNAL_STREAM:"HIDE_INTERNAL_STREAM",HIDE_STREAM:"HIDE_STREAM"}},TOPIC_DATA:{SORT:{OLDEST:"OLDEST",NEWEST:"NEWEST"},DATE_TIME_FORMAT:{RELATIVE:"RELATIVE",ISO:"ISO"}}};t.o={MILLI:n,BYTES:r,TEXT:c,TABLE_ADD:o,TABLE_EDIT:i,TABLE_DELETE:l,TABLE_DETAILS:u,TABLE_CONFIG:d,TABLE_RESTART:m,TABLE_SHARE:p,TABLE_COPY:f,TABLE_DOWNLOAD:h,CLUSTER:"cluster",NODE:"node",TOPIC:"topic",TAIL:"tail",GROUP:"group",ACLS:"acls",SCHEMA:"schema",CONNECT:"connect",TYPES:{STRING:"STRING",LONG:"LONG",CLASS:"CLASS",PASSWORD:"PASSWORD",INT:"INT",LIST:"LIST",BOOLEAN:"BOOLEAN",DOUBLE:"DOUBLE",SHORT:"SHORT"},ROLE_TYPE:s,VERSION:"Beta",SETTINGS:"settings",SETTINGS_VALUES:g};var b=function(e,t,a){var n=a?function(t){return a(t[e])}:function(t){return t[e]};return t=t?-1:1,function(e,a){return e=n(e),a=n(a),t*((e>a)-(a>e))}}},47:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o}));var n=a(32),r=function(e){var t=localStorage.getItem("uiOptions");return null!==t?JSON.parse(t)[e]:null},c=function(e,t){var a=localStorage.getItem("uiOptions");if(null!==a){var r=JSON.parse(a);r[e]=t,localStorage.setItem("uiOptions",JSON.stringify(r))}else localStorage.setItem("uiOptions",JSON.stringify(Object(n.a)({},e,t)))},s=function(){var e=localStorage.getItem("produceToTopicValues");return localStorage.removeItem("produceToTopicValues"),null!==e?JSON.parse(e):{}},o=function(e){localStorage.setItem("produceToTopicValues",JSON.stringify(e))}},48:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"e",(function(){return f})),a.d(t,"d",(function(){return g})),a.d(t,"f",(function(){return b})),a.d(t,"b",(function(){return v})),a.d(t,"c",(function(){return y}));var n=a(16),r=a(0),c=a.n(r),s=a(44),o=a.n(s),i=a(18),l=(a(27),a(40)),u=a(5),d=Object(l.a)({basename:u.a}),m={withCredentials:!0},p=function(e){var t={status:e.response?e.response.status:"",message:e.response?e.response.data.message:"Internal Server Error",stacktrace:e.response&&e.response.data&&e.response.data._embedded&&e.response.data._embedded.stacktrace&&e.response.data._embedded.stacktrace.message?e.response.data._embedded.stacktrace.message:null};if(e.response&&e.response.status<500)return i.b.warn(t.message),401===e.status&&d.replace("/ui/login"),t;var a=c.a.createElement("h4",null,t.message);if(t.stacktrace){var n=c.a.createElement("pre",null,t.stacktrace);a=c.a.createElement("div",null,a,n)}return i.b.error(a,{autoClose:!1,className:"internal-error"}),t},h=function(e,t){return new Promise((function(a,r){o.a.get(e,Object(n.a)(Object(n.a)({},m),t)).then((function(e){a(e)})).catch((function(e){o.a.isCancel(e)||r(p(e))}))}))},f=function(e,t,a){return new Promise((function(r,c){o.a.put(e,t,Object(n.a)(Object(n.a)({},m),a)).then((function(e){r(e)})).catch((function(e){o.a.isCancel(e)||c(p(e))}))}))},g=function(e,t,a){return new Promise((function(r,c){o.a.post(e,t,Object(n.a)(Object(n.a)({},m),a)).then((function(e){r(e)})).catch((function(e){o.a.isCancel(e)||c(p(e))}))}))},b=function(e,t,a){return new Promise((function(r,c){o.a.delete(e,Object(n.a)(Object(n.a)(Object(n.a)({},m),a),{},{data:t})).then((function(e){r(e)})).catch((function(e){o.a.isCancel(e)||c(p(e))}))}))},v=function(e,t){var a={method:"POST",redirect:"manual",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch(e,a)},y=function(e){var t={method:"GET",redirect:"manual"};new Promise((function(a,n){fetch(e,t).then((function(e){a(e)})).catch((function(e){n(p(e))}))}))}},5:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"D",(function(){return o})),a.d(t,"e",(function(){return i})),a.d(t,"K",(function(){return l})),a.d(t,"E",(function(){return u})),a.d(t,"u",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"mb",(function(){return p})),a.d(t,"Z",(function(){return h})),a.d(t,"X",(function(){return f})),a.d(t,"hb",(function(){return g})),a.d(t,"fb",(function(){return b})),a.d(t,"db",(function(){return v})),a.d(t,"kb",(function(){return y})),a.d(t,"z",(function(){return E})),a.d(t,"S",(function(){return S})),a.d(t,"V",(function(){return N})),a.d(t,"W",(function(){return O})),a.d(t,"jb",(function(){return k})),a.d(t,"eb",(function(){return T})),a.d(t,"gb",(function(){return D})),a.d(t,"bb",(function(){return C})),a.d(t,"ab",(function(){return w})),a.d(t,"lb",(function(){return I})),a.d(t,"ib",(function(){return j})),a.d(t,"cb",(function(){return x})),a.d(t,"h",(function(){return A})),a.d(t,"j",(function(){return M})),a.d(t,"i",(function(){return L})),a.d(t,"t",(function(){return _})),a.d(t,"A",(function(){return P})),a.d(t,"g",(function(){return R})),a.d(t,"nb",(function(){return V})),a.d(t,"L",(function(){return F})),a.d(t,"P",(function(){return G})),a.d(t,"N",(function(){return U})),a.d(t,"O",(function(){return B})),a.d(t,"v",(function(){return q})),a.d(t,"R",(function(){return H})),a.d(t,"x",(function(){return J})),a.d(t,"M",(function(){return K})),a.d(t,"y",(function(){return z})),a.d(t,"B",(function(){return Y})),a.d(t,"ob",(function(){return W})),a.d(t,"Q",(function(){return Q})),a.d(t,"G",(function(){return $})),a.d(t,"F",(function(){return X})),a.d(t,"H",(function(){return Z})),a.d(t,"J",(function(){return ee})),a.d(t,"I",(function(){return te})),a.d(t,"s",(function(){return ae})),a.d(t,"k",(function(){return ne})),a.d(t,"o",(function(){return re})),a.d(t,"p",(function(){return ce})),a.d(t,"q",(function(){return se})),a.d(t,"n",(function(){return oe})),a.d(t,"r",(function(){return ie})),a.d(t,"w",(function(){return le})),a.d(t,"d",(function(){return ue})),a.d(t,"l",(function(){return de})),a.d(t,"m",(function(){return me})),a.d(t,"c",(function(){return pe})),a.d(t,"C",(function(){return he})),a.d(t,"T",(function(){return fe})),a.d(t,"U",(function(){return ge})),a.d(t,"Y",(function(){return be}));var n=a(83),r=Object({NODE_ENV:"production",PUBLIC_URL:"./ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BASE_URL||"".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.location.port),c=Object(n.a)(),s=r+Object(n.a)()+"/api",o=function(){return"".concat(c,"/login")},i=function(){return"".concat(s,"/auths")},l=function(e){return"".concat(r).concat(c,"/oauth/login/").concat(e)},u=function(){return"".concat(c,"/logout")},d=function(){return"".concat(s,"/me")},m=function(){return"".concat(s,"/cluster")},p=function(e){return"".concat(s,"/").concat(e,"/ui-options")},h=function(e,t,a,n,r){return 1===r?"".concat(s,"/").concat(e,"/topic?search=").concat(t,"&show=").concat(a,"&page=").concat(n):"".concat(s,"/").concat(e,"/topic?search=").concat(t,"&show=").concat(a,"&page=").concat(n,"&uiPageSize=").concat(r)},f=function(){return"".concat(s,"/topic/defaults-configs")},g=function(e){return"".concat(s,"/").concat(e,"/topic/name")},b=function(e,t){return"".concat(s,"/").concat(e,"/topic/").concat(t)},v=function(e){return"".concat(s,"/").concat(e,"/topic")},y=function(e,t){return"".concat(s,"/").concat(e,"/topic/").concat(t,"/data")},E=function(e,t){return"".concat(s,"/").concat(e,"/topic/").concat(t)},S=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(""!==n)return c+n;var r="".concat(s,"/").concat(e,"/topic/").concat(t,"/data?").concat(a);return r},N=function(e,t,a,n){var r="".concat(s,"/").concat(e,"/topic/").concat(t,"/data/search");return a&&(r+="?".concat(a)),n&&(r+="&after=".concat(n)),r},O=function(e,t,a,n){return"".concat(s,"/").concat(e,"/topic/").concat(t,"/data/record/").concat(a,"/").concat(n)},k=function(e,t){return"".concat(s,"/").concat(e,"/topic/").concat(t,"/partitions")},T=function(e,t){return"".concat(s,"/").concat(e,"/topic/").concat(t,"/groups")},D=function(e,t){return"".concat(s,"/").concat(e,"/topic/").concat(t,"/logs")},C=function(e,t){return"".concat(s,"/").concat(e,"/topic/").concat(t,"/configs")},w=function(e,t){return"".concat(s,"/").concat(e,"/topic/").concat(t,"/acls")},I=function(e,t){return"".concat(s,"/").concat(e,"/topic/").concat(t,"/configs")},j=function(e,t,a){return"".concat(s,"/").concat(e,"/topic/").concat(t,"/offsets/start?timestamp=").concat(a)},x=function(e,t,a,n){return"".concat(s,"/").concat(e,"/topic/").concat(t,"/copy/").concat(a,"/topic/").concat(n)},A=function(e,t,a,n){return"".concat(s,"/").concat(e,"/connect/").concat(t,"?&search=").concat(a,"&page=").concat(n)},M=function(e,t){return"".concat(s,"/").concat(e,"/connect/").concat(t,"/plugins")},L=function(e,t,a){return"".concat(s,"/").concat(e,"/connect/").concat(t,"/plugins/").concat(a)},_=function(e,t){return"".concat(s,"/").concat(e,"/connect/").concat(t)},P=function(e,t,a){return"".concat(s,"/").concat(e,"/connect/").concat(t,"/").concat(a)},R=function(e,t,a){return"".concat(s,"/").concat(e,"/connect/").concat(t,"/").concat(a,"/configs")},V=function(e,t,a){return"".concat(s,"/").concat(e,"/connect/").concat(t,"/").concat(a,"/configs")},F=function(e,t,a){return"".concat(s,"/").concat(e,"/connect/").concat(t,"/").concat(a,"/pause")},G=function(e,t,a){return"".concat(s,"/").concat(e,"/connect/").concat(t,"/").concat(a,"/resume")},U=function(e,t,a){return"".concat(s,"/").concat(e,"/connect/").concat(t,"/").concat(a,"/restart")},B=function(e,t,a,n){return"".concat(s,"/").concat(e,"/connect/").concat(t,"/").concat(a,"/tasks/").concat(n,"/restart")},q=function(e,t,a){return"".concat(s,"/").concat(e,"/connect/").concat(t,"/").concat(a)},H=function(e,t){return"".concat(s,"/").concat(e,"/schema/id/").concat(t)},J=function(e,t){return"".concat(s,"/").concat(e,"/schema/").concat(t)},K=function(e,t){return"".concat(s,"/").concat(e,"/schema/topic/").concat(t)},z=function(e,t,a){return"".concat(s,"/").concat(e,"/schema/").concat(t,"/version/").concat(a)},Y=function(e,t){return"".concat(s,"/").concat(e,"/schema/").concat(t)},W=function(e,t){return"".concat(s,"/").concat(e,"/schema/").concat(t)},Q=function(e){return"".concat(s,"/").concat(e,"/schema")},$=function(e){return"".concat(s,"/").concat(e,"/node")},X=function(e){return"".concat(s,"/").concat(e,"/node/partitions")},Z=function(e,t){return"".concat(s,"/").concat(e,"/node/").concat(t,"/configs")},ee=function(e,t){return"".concat(s,"/").concat(e,"/node/").concat(t,"/configs")},te=function(e,t){return"".concat(s,"/").concat(e,"/node/").concat(t,"/logs")},ae=function(e,t,a){return"".concat(s,"/").concat(e,"/group?search=").concat(t,"&page=").concat(a)},ne=function(e,t){return"".concat(s,"/").concat(e,"/group/").concat(t)},re=function(e,t){return"".concat(s,"/").concat(e,"/group/").concat(t,"/members")},ce=function(e,t){return"".concat(s,"/").concat(e,"/group/").concat(t,"/offsets")},se=function(e,t,a){return"".concat(s,"/").concat(e,"/group/").concat(t,"/offsets/start?timestamp=").concat(a)},oe=function(e,t){return"".concat(s,"/").concat(e,"/group/").concat(t)},ie=function(e,t){return"".concat(s,"/").concat(e,"/group/").concat(t,"/offsets")},le=function(e,t,a){return"".concat(s,"/").concat(e,"/group/").concat(t,"/topic/").concat(a)},ue=function(e,t){var a="".concat(s,"/").concat(e,"/acls");return t?"".concat(a,"?search=").concat(t):a},de=function(e,t){return"".concat(s,"/").concat(e,"/group/").concat(t,"/acls")},me=function(e,t){return"".concat(s,"/").concat(e,"/group/topics?topics=").concat(t)},pe=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ANY";return"".concat(s,"/").concat(e,"/acls/").concat(t,"?resourceType=").concat(a)},he=function(e,t,a,n){var r="search=".concat(t),c=t.length>0?"&":"";a.forEach((function(e,t){c+=t>0?"&topics="+e:"topics="+e}));var o="".concat(t.length>0||a.length>0?"&":"","size=").concat(n);return"".concat(s,"/").concat(e,"/tail/sse?").concat(t.length>0?r:"").concat(a.length>0?c:"").concat(n.length>0?o:"")},fe=function(e,t,a,n){return"".concat(s,"/").concat(e,"/topic/").concat(t,"/data?partition=").concat(a,"&key=").concat(n)},ge=function(e,t){return"".concat(s,"/").concat(e,"/topic/").concat(t,"/data/empty")},be=function(e,t){return"".concat(s,"/").concat(e,"/topic/last-record?topics=").concat(t)};t.b={apiUrl:s,uriClusters:m,uriConnects:function(e){return"".concat(s,"/connects").concat(e?"?clusterId="+e:"")},uriCreateConnect:_,uriConnectPlugins:M,uriGetDefinition:P,uriUpdateDefinition:V,uriPauseDefinition:F,uriResumeDefinition:G,uriRestartDefinition:U,uriRestartTask:B,uriConnectDefinitions:A,uriConnectDefinitionConfigs:R,uriNodes:$,uriNodesConfigs:Z,uriTopicsLogs:D,uriTopicsGroups:T,uriNodePartitions:X,uriTopicsPartitions:k,uriTopicData:S,uriTopicsProduce:y,uriTopicsCreate:v,uriTopics:h,uriDeleteTopics:E,uriNodesLogs:te,uriConsumerGroups:ae,uriConsumerGroupTopics:function(e,t){return"".concat(s,"/group/topics?clusterId=").concat(e,"&groupId=").concat(t)},uriConsumerGroupMembers:re,uriSchemaRegistry:function(e,t,a){return"".concat(s,"/").concat(e,"/schema?&search=").concat(t,"&page=").concat(a)},uriDeleteSchema:J,uriPreferredSchemaForTopic:K,uriSchemaCreate:Q,uriConsumerGroupUpdate:ie,uriTopicsConfigs:C,uriLatestSchemaVersion:Y,uriSchemaVersions:function(e,t){return"".concat(s,"/").concat(e,"/schema/").concat(t,"/version")},uriAclsList:ue,uriAclsByPrincipal:pe,uriLiveTail:he,uriTopicDataSearch:N,uriTopicDataDelete:fe,uriDeleteGroupOffsets:le}},51:function(e,t,a){"use strict";var n=a(7),r=a(9),c=a(8),s=a(0),o=a.n(s),i=a(151),l=a.n(i),u=a(34),d=a.n(u),m=a(21),p=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={value:"",openDateModal:!1},e.componentDidMount=function(){e.setState({value:e.props.value?e.props.value:new Date})},e.onChange=function(t){e.setState({value:t},(function(){e.props.onChange&&e.props.onChange(t)}))},e.getDisplayValue=function(e){var t=d()(e);try{return Object(m.c)({year:t.year(),monthValue:t.month(),dayOfMonth:t.date(),hour:t.hour(),minute:t.minute(),second:t.second()},"DD-MM-YYYY HH:mm")}catch(a){return""}},e.render=function(){var t=e.state.value,a=e.props,n=a.showDateTimeInput,r=a.showTimeInput,c=a.showTimeSelect,s=a.onClear;return o.a.createElement("div",{style:{display:"block",padding:10}},n&&o.a.createElement("div",{style:{marginBottom:10,display:"flex",flexDirection:"row"}},o.a.createElement("input",{value:e.getDisplayValue(t),className:"form-control",placeholder:e.getDisplayValue(t)}),s&&o.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.setState({value:new Date},(function(){s&&s()}))}},"Clear")),o.a.createElement(l.a,{className:"date-block",calendarClassName:r?"date-block":"",selected:t,onChange:function(t){e.onChange(t)},showTimeSelect:c,showTimeInput:r,dateFormat:"MM/dd/yyyy h:mm aa",inline:!0}))},e}return a}(o.a.Component);t.a=p},73:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(308);t.a=function(e){var t=e.handleConfirm,a=e.handleCancel,n=e.show,c=e.message,s=e.confirmLabel,o=e.cancelLabel,i=n?"modal display-block":"modal display-none";return r.a.createElement("div",{className:i},r.a.createElement("div",{className:"swal2-container swal2-center swal2-fade swal2-shown",style:{overflowY:"auto"}},r.a.createElement("div",{"aria-labelledby":"swal2-title","aria-describedby":"swal2-content",className:"swal2-popup swal2-modal swal2-show",tabIndex:"-1",role:"dialog","aria-live":"assertive","aria-modal":"true",style:{display:"flex"}},r.a.createElement("div",{className:"swal2-header"},r.a.createElement("ul",{className:"swal2-progresssteps",style:{display:"none"}}),r.a.createElement("div",{className:"swal2-icon swal2-error",style:{display:"none"}},r.a.createElement("span",{className:"swal2-x-mark"},r.a.createElement("span",{className:"swal2-x-mark-line-left"}),r.a.createElement("span",{className:"swal2-x-mark-line-right"}))),r.a.createElement("div",{className:"swal2-icon swal2-question swal2-animate-question-icon",style:{display:"flex"}},r.a.createElement("span",{className:"swal2-icon-text"},"?"))),r.a.createElement("div",{className:"swal2-content"},r.a.createElement("div",{id:"swal2-content",style:{display:"block"}},c)),r.a.createElement("div",{className:"swal2-actions",style:{display:"flex"}},r.a.createElement("button",{type:"button",className:"swal2-confirm swal2-styled","aria-label":"",style:{borderLeftColor:"rgb(48, 133, 214); border-right-color: rgb(48, 133, 214)"},onClick:t},s||"OK"),r.a.createElement("button",{type:"button",className:"swal2-cancel swal2-styled","aria-label":"",style:{display:"inline-block"},onClick:a},o||"Cancel")),r.a.createElement("div",{className:"swal2-footer",style:{display:"none"}}))))}},733:function(e,t,a){},734:function(e,t,a){},739:function(e,t,a){},74:function(e,t,a){"use strict";var n=a(50),r=a(0),c=a.n(r),s=function(e){var t=e.name,a=e.label,r=e.items,s=e.error,o=e.wrapperClass,i=e.selectClass,l=e.blankItem,u=Object(n.a)(e,["name","label","items","error","wrapperClass","selectClass","blankItem"]),d="form-group",m="col-xs-10";return o&&(d=o),i&&(m=i),c.a.createElement("div",{className:"".concat(d," row")},""!==a?c.a.createElement("label",{htmlFor:t,className:"col-sm-2 col-form-label"},a):c.a.createElement("div",null),c.a.createElement("div",{className:"".concat(m)},c.a.createElement("select",Object.assign({className:"form-control",id:t,name:t},u),l&&c.a.createElement("option",{key:"",value:""},"Choose item..."),r.map((function(e){return c.a.createElement("option",{key:e._id,value:e._id},e.name)}))),s&&c.a.createElement("div",{className:"alert alert-danger"},s)))};t.a=s},740:function(e,t,a){},741:function(e,t,a){},742:function(e,t,a){},743:function(e,t,a){},744:function(e,t,a){},746:function(e,t,a){},747:function(e,t,a){},748:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),s=a.n(c),o=(a(184),a(7)),i=a(10),l=a(9),u=a(8),d=a(15),m=a(5),p=a(3),h=a.n(p),f=a(11),g=a(14),b=a.n(g),v=a(24),y=a(16),E=a(33),S=E.a,N=a(21),O=a(48),k=a(18),T=(a(27),a(17)),D=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={login:sessionStorage.getItem("login"),username:sessionStorage.getItem("user"),auths:JSON.parse(sessionStorage.getItem("auths")),goBack:!0},e}return Object(i.a)(a,[{key:"logout",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)(Object(m.E)());case 2:return e.next=4,this.getApi(Object(m.u)()).then((function(e){var a=e.data;sessionStorage.setItem("login",a.logged),sessionStorage.setItem("user","default"),sessionStorage.setItem("roles",Object(N.e)(a.roles)),t.setState({login:a.logged},(function(){t.props.history.replace(Object(y.a)({pathname:"/ui/login"},t.props.history)),window.location.reload(!1),k.b.success("Logged out successfully")}))}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_renderLogin",value:function(){var e=this,t=this.state,a=t.login,n=t.username,c=t.auths;return c&&c.loginEnabled?"false"!==a&&a?r.a.createElement(d.b,{to:"#"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.logout()}}," ",r.a.createElement("i",{className:"fa fa-fw fa-sign-in","aria-hidden":"true"}),n," (Logout)")):r.a.createElement(d.b,{to:"/ui/login"},r.a.createElement("button",{className:"btn btn-primary"}," ",r.a.createElement("i",{className:"fa fa-fw fa-sign-in","aria-hidden":"true"}),"Login")):c&&n?r.a.createElement("button",{className:"btn btn-primary",disabled:!0}," ",r.a.createElement("i",{className:"fa fa-fw fa-sign-in","aria-hidden":"true"}),n):r.a.createElement(r.a.Fragment,null)}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"title",style:{display:"flex",justifyContent:"space-between",alignItems:"center"}}," ",r.a.createElement("h1",null,t)," ",r.a.createElement("div",null,this._renderLogin(),a)))}}]),a}(T.a),C=Object(v.g)(D),w=C,I=a(13),j=a.n(I),x=a(32),A=a(39),M=a(35),L=a.n(M),_=a(50),P=function(e){var t=e.name,a=e.label,n=e.placeholder,c=e.error,s=e.noStyle,o=e.wrapperClass,i=e.inputClass,l=Object(_.a)(e,["name","label","placeholder","error","noStyle","wrapperClass","inputClass"]),u="form-group",d="col-sm-10";return s&&(u="",d=""),o&&(u=o),i&&(d=i),r.a.createElement("div",{className:"".concat(u," row")},""!==a?r.a.createElement("label",{htmlFor:t,className:"col-sm-2 col-form-label"},a):r.a.createElement("div",null),r.a.createElement("div",{className:"".concat(d)},r.a.createElement("input",Object.assign({},l,{key:t,name:t,id:t,className:"form-control",placeholder:n})),c&&r.a.createElement("div",{id:"input-error",className:"alert alert-danger mt-1 p-1"},c)))},R=a(74),V=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).renderOptions=function(e,t,a){var n,c=[],s=Object(A.a)(t);try{var o=function(){var t=n.value;c.push(r.a.createElement("div",{id:"radio-option-".concat(e),key:t.value,className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:t.name,id:t.value,value:t.value,defaultChecked:t.checked,onChange:function(){return a(t.value)}}),r.a.createElement("label",{className:"form-check-label",htmlFor:t.name},t.label)))};for(s.s();!(n=s.n()).done;)o()}catch(i){s.e(i)}finally{s.f()}return c},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.label,n=e.items,c=e.handleChange;return r.a.createElement("fieldset",{name:t,className:"form-group"},r.a.createElement("div",{id:"radio-".concat(t),className:"row"},r.a.createElement("legend",{className:"col-form-label col-sm-2 pt-0"},a),r.a.createElement("div",{id:"radio-options-".concat(t),className:"col-sm-10"},this.renderOptions(t,n,c))))}}]),a}(n.Component),F=a(51),G=a(31),U=a.n(G),B=a(19),q=(a(59),a(64),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={formData:{},errors:{}},e.validate=function(){var t=j.a.validate(e.state.formData,e.schema).error;if(!t)return null;var a,n={},r=Object(A.a)(t.details);try{for(r.s();!(a=r.n()).done;){var c=a.value;n[c.path[0]]=c.message}}catch(s){r.e(s)}finally{r.f()}return n},e.validateProperty=function(t){var a=t.name,n=t.value,r=Object(x.a)({},a,n),c=Object(x.a)({},a,e.schema[a]),s=j.a.validate(r,c).error;return s?s.details[0].message:null},e.handleSubmit=function(t){t.preventDefault();var a=e.validate();e.setState({errors:a||{}}),a||e.doSubmit()},e.handleChange=function(t){var a=t.currentTarget,n=Object(y.a)({},e.state.errors),r=e.validateProperty(a);r?n[a.name]=r:delete n[a.name];var c=e.state.formData;c[a.name]=a.value,e.setState({formData:c,errors:n})},e.renderButton=function(t,a,n,c,s){return r.a.createElement("div",{className:"khq-submit button-footer",style:{marginRight:0}},r.a.createElement("aside",null,s,r.a.createElement("button",{type:c||"button",className:n||"btn btn-primary",disabled:e.validate(),onClick:a},t)))},e.renderInput=function(t,a,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text",s=(arguments.length>4&&void 0!==arguments[4]||e.handleChange,arguments.length>5?arguments[5]:void 0),o=arguments.length>6?arguments[6]:void 0,i=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=e.state,d=u.formData,m=u.errors;return r.a.createElement(P,Object.assign({type:c,name:t,id:t,value:d[t]||"",label:a,placeholder:n,onChange:e.handleChange,error:m[t],noStyle:s,wrapperClass:o,inputClass:i},l))},e.renderJSONInput=function(t,a,n,c,s,o){var i=e.state,l=i.formData,u=i.errors,d=c?"text":"PROTOBUF"===l.schemaType?"protobuf":"json";return r.a.createElement("div",{className:"form-group row"},""!==a?r.a.createElement("label",{htmlFor:t,className:"col-sm-2 col-form-label"},a):r.a.createElement("div",null),r.a.createElement("div",{className:"col-sm-10",style:{height:"100%"}},r.a.createElement(U.a,Object.assign({mode:d,id:t,theme:"merbivore_soft",value:l[t],onChange:function(e){n(e)},name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},setOptions:s,style:{width:"100%",minHeight:"25vh"}},o)),u[t]&&r.a.createElement("div",{className:"alert alert-danger mt-1 p-1"},u[t])))},e.renderSelect=function(t,a,n,c,s,o,i,l){var u=e.state,d=u.formData,m=u.errors;return r.a.createElement(R.a,Object.assign({name:t,value:d[t],label:a,items:n,error:m[t],onChange:function(e){c(e)},selectClass:s,wrapperClass:o,blankItem:i},l))},e.renderDatePicker=function(t,a,n){var c=e.state,s=c.formData,o=c.errors;return r.a.createElement(F.a,{name:t,label:a,error:o[t],value:s[t],onChange:function(e){n(e)}})},e.renderRadioGroup=function(t,a,n,c){var s,o=e.state.formData,i=[],l=Object(A.a)(n);try{for(l.s();!(s=l.n()).done;){var u=s.value,d=L.a.camelCase(u.toString());i[i.length]={name:t,label:u,value:d,checked:d===o[t]}}}catch(m){l.e(m)}finally{l.f()}return r.a.createElement(V,{name:t,label:a,items:i,handleChange:c})},e.renderDropdown=function(e,t,a,n,c,s){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2"},e),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement(B.a,{className:"form-group dropdown bootstrap-select show-tick khq-select show"},r.a.createElement(B.a.Toggle,{className:"btn dropdown-toggle btn-white"},r.a.createElement("input",{type:"text",name:"searchValue",className:"form-control placeholder",placeholder:e,value:n})),r.a.createElement(B.a.Menu,null,r.a.createElement("div",{className:"bs-searchbox input-group"},r.a.createElement("input",{type:"text",name:"searchValue",className:"form-control col-sm-9 mr-2",autoComplete:"off",role:"combobox","aria-expanded":"false","aria-label":"Search","aria-controls":"bs-select-1","aria-autocomplete":"list",placeholder:"search",onChange:c,value:a})),s)))))},e.renderCheckbox=function(e,t,a,n,c,s){return r.a.createElement("input",Object.assign({type:"checkbox",name:e,id:e,class:"form-input-check",checked:a,onChange:n,defaultChecked:c||!1},s))},e}return a}(T.a)),H=a(4),J=(a(306),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={formData:{},errors:{},topicListViewOptions:[{_id:H.d.TOPIC.TOPIC_DEFAULT_VIEW.ALL,name:"Show all topics"},{_id:H.d.TOPIC.TOPIC_DEFAULT_VIEW.HIDE_INTERNAL,name:"Hide internal topics"},{_id:H.d.TOPIC.TOPIC_DEFAULT_VIEW.HIDE_INTERNAL_STREAM,name:"Hide internal & stream topics"},{_id:H.d.TOPIC.TOPIC_DEFAULT_VIEW.HIDE_STREAM,name:"Hide stream topics"}]},e.schema={},e.doSubmit=function(){var t=e.state.formData,a={pagination:t.pagination,searchData:{search:t.search,topicListView:t.topicListView},keepSearch:t.keepSearch};e.props.doSubmit(a)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({formData:this.setupProps()})}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.search,r=a.topicListView,c=a.keepSearch;n===e.search&&r===e.topicListView&&c===e.keepSearch||this.setupProps()}},{key:"setupProps",value:function(){var e=this.props,t=e.showSearch,a=e.showTopicListView,n=e.showKeepSearch,r=this.state.formData;if(t){var c=this.props.search;r.search=c,this.schema.search=j.a.string().allow("")}if(a){var s=this.props.topicListView;r.topicListView=s,this.schema.topicListView=j.a.string().required()}return n&&(r.keepSearch=this.props.keepSearch,this.schema.keepSearch=j.a.boolean()),r}},{key:"setValue",value:function(e){var t=this;this.setState({value:e},(function(){t.props.onChangeValue(e)}))}},{key:"setTopic",value:function(e){var t=this;this.setState({topic:e},(function(){t.props.onChangeTopic(e)}))}},{key:"openAndCloseFilters",value:function(){"show"===this.state.showFilters?this.setState({showFilters:""}):this.setState({showFilters:"show"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.showSearch,n=t.showTopicListView,c=t.showKeepSearch,s=this.state,o=s.topicListViewOptions,i=s.showFilters,l=s.formData;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbar-search","aria-controls":"navbar-search","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){e.openAndCloseFilters()}},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse ".concat(i),id:"navbar-search"},r.a.createElement("form",{className:"form-inline mr-auto khq-form-get",onSubmit:function(t){return e.handleSubmit(t)}},a&&this.renderInput("search","","Search","text",{autoComplete:"off"},"","topic-search-wrapper","topic-search-input"),n&&this.renderSelect("topicListView","",o,(function(t){var a=t.currentTarget;e.state.formData.topicListView=a.value,e.setState(),e.props.onTopicListViewChange(a.value)}),"","select-wrapper",{className:"form-control topic-select"}),r.a.createElement("button",{className:"btn btn-primary",type:"submit"},r.a.createElement("span",{className:"d-md-none"},"Search "),r.a.createElement("i",{className:"fa fa-search"})),c&&r.a.createElement("span",null,r.a.createElement("input",{type:"checkbox",name:"keepSearch",id:"keepSearch",onClick:function(t){return e.props.onKeepSearchChange(t.target.checked)},defaultChecked:l.keepSearch})," Keep search"))))}}]),a}(q));J.propTypes={showPagination:b.a.bool,showTopicListView:b.a.bool,showSearch:b.a.bool,showFilters:b.a.string,showKeepSearch:b.a.bool};var K=J,z=a(97).a,Y=a(38),W=(a(309),a(775)),Q=a(75),$=a(22),X=function(e){var t=e.currentTarget,a=e.state,n=t.value;a.pageNumber=n},Z=function(e,t){return e<=0?e=1:e>t&&(e=t),e},ee=(a(310),function(e){e.pageNumber,e.totalPageNumber;var t=e.currentPageSize,a=(e.totalRecords,e.ranges),n=void 0===a?[10,25,50,100,150,200]:a,c=e.onChange,s=(e.editPageNumber,e.showTotalPageNumber,[]),o=[];return n.forEach((function(e){return s[e]=e})),n.includes(t)||(s[t]=t),s.forEach((function(e){o.push(r.a.createElement("option",{key:e,value:e},s[e]))})),r.a.createElement("div",{id:"result-per-page"},r.a.createElement("span",null,"Results"),r.a.createElement("select",{className:"pagination mb-0",id:"currentPageSize",name:"currentPageSize",value:t,onChange:function(e){e.preventDefault(),c(s[e.target.value])}},o))}),te=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={topics:[],showDeleteModal:!1,topicToDelete:{},selectedCluster:"",deleteMessage:"",deleteData:{},pageNumber:1,totalPageNumber:1,currentPageSize:1,searchData:{search:"",topicListView:H.o.SETTINGS_VALUES.TOPIC.TOPIC_DEFAULT_VIEW.HIDE_INTERNAL},keepSearch:!1,createTopicFormData:{name:"",partition:1,replication:1,cleanup:"delete",retention:864e5},roles:JSON.parse(sessionStorage.getItem("roles")),loading:!0,cancel:void 0,collapseConsumerGroups:{},uiOptions:{}},e.showDeleteModal=function(t){e.setState({showDeleteModal:!0,deleteMessage:t})},e.closeDeleteModal=function(){e.setState({showDeleteModal:!1,deleteMessage:""})},e.deleteTopic=function(){var t=e.state,a=t.selectedCluster,n=t.topicToDelete;e.removeApi(Object(m.z)(a,n.id)).then((function(){k.b.success("Topic '".concat(n.name,"' is deleted")),e.setState({showDeleteModal:!1,topicToDelete:{}},(function(){return e.getTopics()}))})).catch((function(){e.setState({showDeleteModal:!1,topicToDelete:{}},(function(){return e.getTopics()}))}))},e.handleSearch=function(t){var a=t.searchData;e.setState({pageNumber:1,searchData:a},(function(){e.getTopics(),e.handleKeepSearchChange(t.keepSearch),e.props.history.push({pathname:"/ui/".concat(e.state.selectedCluster,"/topic"),search:"search=".concat(a.search,"&topicListView=").concat(e.state.searchData.topicListView,"&page=").concat(e.state.pageNumber)})}))},e.handlePageChangeSubmission=function(t){var a=Z(t,e.state.totalPageNumber);e.setState({pageNumber:a},(function(){e.getTopics(),e.props.history.push({pathname:"/ui/".concat(e.state.selectedCluster,"/topic"),search:"search=".concat(e.state.searchData.search,"&topicListView=").concat(e.state.searchData.topicListView,"&page=").concat(a)})}))},e.handlePageSizeChangeSubmission=function(t){e.setState({currentPageSize:t,pageNumber:1},(function(){e.getTopics(),e.props.history.push({pathname:"/ui/".concat(e.state.selectedCluster,"/topic"),search:"search=".concat(e.state.searchData.search,"&topicListView=").concat(e.state.searchData.topicListView,"&uiPageSize=").concat(t)})}))},e.handleConsumerGroups=function(t,a){return t&&t.length>0?t.map((function(t){var n="btn btn-sm mb-1 mr-1 btn-",c=Object(N.a)(t.offsets,a);n+=t.activeTopics&&t.activeTopics.find((function(e){return e===a}))?"success":"warning";return r.a.createElement(d.b,{key:t.id,to:"/ui/".concat(e.state.selectedCluster,"/group/").concat(encodeURIComponent(t.id)),className:n,onClick:function(e){return e.stopPropagation()}},t.id," ",r.a.createElement("div",{className:"badge badge-secondary"}," Lag: ",Number(c).toLocaleString()))})):""},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._initializeVars((function(){e.getTopics(),e.props.history.replace({pathname:"/ui/".concat(e.state.selectedCluster,"/topic"),search:e.props.location.search})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.props.location.pathname!==e.location.pathname&&(this.cancelAxiosRequests(),this.renewCancelToken(),this.setState({pageNumber:1},(function(){a._initializeVars(a.getTopics)})))}},{key:"_initializeVars",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r,c,s,o,i,l,u,d,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.match.params.clusterId,n=new URLSearchParams(this.props.location.search),r=this.state,c=r.searchData,s=r.keepSearch,o=this.state.pageNumber,i=this.state.currentPageSize,e.next=7,Object($.b)(a);case 7:l=e.sent,d=s,(m=localStorage.getItem("topicListSearch"))?(u=JSON.parse(m),d=!0):(u={search:n.get("search")?n.get("search"):c.search,topicListView:n.get("topicListView")?n.get("topicListView"):l&&l.topic&&l.topic.defaultView?l.topic.defaultView:c.topicListView},o=n.get("page")?parseInt(n.get("page")):parseInt(o),i=n.get("uiPageSize")?parseInt(n.get("uiPageSize")):parseInt(i)),this.setState({selectedCluster:a,searchData:u,keepSearch:d,uiOptions:null!==l&&void 0!==l?l:{},pageNumber:o,currentPageSize:i},t);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleOnDelete",value:function(e){var t=this;this.setState({topicToDelete:e},(function(){t.showDeleteModal(r.a.createElement(r.a.Fragment,null,"Do you want to delete topic: ",r.a.createElement("code",null,e.id)," ?"))}))}},{key:"getTopics",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c,s,o,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedCluster,n=t.pageNumber,r=t.currentPageSize,c=this.state.searchData,s=c.search,o=c.topicListView,this.setState({loading:!0}),e.next=5,this.getApi(Object(m.Z)(a,s,o,n,r));case 5:i=e.sent,(l=i.data)?(l.results?this.handleTopics(l.results):this.setState({topics:[]}),this.setState({selectedCluster:a,totalPageNumber:l.page,currentPageSize:l.pageSize,loading:!1})):this.setState({topics:[],loading:!1,totalPageNumber:0});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleTopics",value:function(e){var t,a=this,n={},r={},c=this.state,s=c.selectedCluster,o=null!==(t=c.uiOptions.topic)&&void 0!==t?t:{},i=function(){a.setState({topics:Object.values(n)})};e.forEach((function(e){n[e.name]={id:e.name,name:e.name,count:e.size,lastWrite:void 0,size:Object(N.f)(e.logDirSize),partitionsTotal:e.partitions.length,replicationFactor:e.replicaCount,replicationInSync:e.inSyncReplicaCount,groupComponent:void 0,internal:e.internal},r[e.name]=!!o.showAllConsumerGroups})),this.setState({collapseConsumerGroups:r}),i();var l=e.map((function(e){return e.name})).join(",");o.skipConsumerGroups||this.getApi(Object(m.m)(s,encodeURIComponent(l))).then((function(t){e.forEach((function(e){n[e.name].groupComponent=t&&t.data?t.data.filter((function(t){return t.activeTopics&&t.activeTopics.includes(e.name)||t.topics&&t.topics.includes(e.name)})):[]})),i()})),o.skipLastRecord||this.getApi(Object(m.Y)(s,encodeURIComponent(l))).then((function(t){e.forEach((function(e){n[e.name].lastWrite=t.data[e.name]?t.data[e.name].timestamp:""})),i()}))}},{key:"handleCollapseConsumerGroups",value:function(e){var t=this,a={};Object.keys(this.state.collapseConsumerGroups).forEach((function(n){a[n]=n===e?!t.state.collapseConsumerGroups[n]:t.state.collapseConsumerGroups[n]})),this.setState({collapseConsumerGroups:a})}},{key:"handleKeepSearchChange",value:function(e){var t=this.state.searchData;e?localStorage.setItem("topicListSearch",JSON.stringify(t)):localStorage.removeItem("topicListSearch")}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.topics,c=a.selectedCluster,s=a.searchData,o=a.pageNumber,i=a.totalPageNumber,l=a.currentPageSize,u=a.loading,m=a.collapseConsumerGroups,p=a.keepSearch,h=a.uiOptions,f=null!==(e=h.topic)&&void 0!==e?e:{},g=h.topicData&&h.topicData.dateTimeFormat?h.topicData.dateTimeFormat:H.o.SETTINGS_VALUES.TOPIC_DATA.DATE_TIME_FORMAT.RELATIVE,b=this.state.roles||{},v=this.props.match.params.clusterId,E=[{id:"name",accessor:"name",colName:"Name",type:"text"},{id:"count",accessor:"count",colName:"Count",type:"text",cell:function(e,t){return r.a.createElement("span",{className:"text-nowrap"},"\u2248 ",e[t.accessor])}},{id:"size",accessor:"size",colName:"Size",type:"text"}];f.skipLastRecord||E.push({id:"lastWrite",accessor:"lastWrite",colName:"Last Record",type:"text",cell:function(e,t){return e[t.accessor]?r.a.createElement(Q.a,{isoDateTimeString:e[t.accessor],dateTimeFormat:g}):""}});var N=[{id:"partitionsTotal",accessor:"partitionsTotal",colName:"Total",type:"text"}],O=[{id:"replicationFactor",accessor:"replicationFactor",colName:"Factor",type:"text"},{id:"replicationInSync",accessor:"replicationInSync",colName:"In Sync",type:"text",cell:function(e,t){return r.a.createElement("span",null,e[t.accessor])}}],k=[{id:"groupComponent",accessor:"groupComponent.id",colName:"Consumer Groups",type:"text",cell:function(e){if(e.groupComponent&&e.groupComponent.length>0){var a=t.handleConsumerGroups(e.groupComponent,e.id),n=0;return r.a.createElement(r.a.Fragment,null,a[0],a.length>1&&r.a.createElement("span",null,r.a.createElement("span",{onClick:function(){return t.handleCollapseConsumerGroups(e.id)},"aria-expanded":m[e.id]},m[e.id]&&r.a.createElement("i",{className:"fa fa-fw fa-chevron-up"}),!m[e.id]&&r.a.createElement("i",{className:"fa fa-fw fa-chevron-down"})),r.a.createElement("span",{className:"badge badge-secondary"},a.length),r.a.createElement(W.a,{in:m[e.id]},r.a.createElement("div",null,a.splice(1,a.length).map((function(e){return r.a.createElement("div",{key:n++},e)}))))))}if(e.groupComponent)return r.a.createElement("div",{className:"empty-consumergroups"})}}],T=[{colName:"Topics",colSpan:E.length},{colName:"Partitions",colSpan:N.length},{colName:"Replications",colSpan:O.length}];f.skipConsumerGroups||T.push({colName:"Consumer Groups",colSpan:1});var D=void 0,C=[H.o.TABLE_CONFIG];return b.topic&&b.topic["topic/data/read"]&&(C.push(H.o.TABLE_DETAILS),D=function(e){return"/ui/".concat(c,"/topic/").concat(e,"/data")}),b.topic&&b.topic["topic/delete"]&&C.push(H.o.TABLE_DELETE),r.a.createElement("div",null,r.a.createElement(w,{title:"Topics",history:this.props.history}),r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light mr-auto khq-data-filter khq-sticky khq-nav"},r.a.createElement(K,{showSearch:!0,search:s.search,showPagination:!0,pagination:o,showTopicListView:!0,topicListView:s.topicListView,showKeepSearch:!0,keepSearch:p,onTopicListViewChange:function(e){var a=Object(y.a)({},t.state).searchData;a.topicListView=e,t.setState(a)},onKeepSearchChange:function(e){t.handleKeepSearchChange(e)},doSubmit:this.handleSearch}),r.a.createElement(ee,{pageNumber:o,totalPageNumber:i,currentPageSize:this.state.currentPageSize,onChange:this.handlePageSizeChangeSubmission}),r.a.createElement(z,{pageNumber:o,totalPageNumber:i,currentPageSize:l,onChange:X,onSubmit:this.handlePageChangeSubmission})),r.a.createElement(S,{loading:u,history:this.props.history,has2Headers:!0,firstHeader:T,columns:E.concat(N,O,f.skipConsumerGroups?[]:k),data:n,updateData:function(e){t.setState({topics:e})},onDelete:function(e){t.handleOnDelete(e)},onDetails:D,onConfig:function(e){return"/ui/".concat(c,"/topic/").concat(e,"/configs")},actions:C}),b.topic["topic/insert"]&&r.a.createElement("aside",null,r.a.createElement(d.b,{to:{pathname:"/ui/".concat(v,"/topic/create"),state:{formData:this.state.createTopicFormData}},className:"btn btn-primary"},"Create a topic")),r.a.createElement(Y.a,{show:this.state.showDeleteModal,handleCancel:this.closeDeleteModal,handleConfirm:this.deleteTopic,message:this.state.deleteMessage}))}}]),a}(T.a),ae=a(164).a,ne=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:[],selectedCluster:e.props.clusterId,selectedTopic:e.props.topic,loading:!0},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getTopicsPartitions()}},{key:"getTopicsPartitions",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedCluster,n=t.selectedTopic,e.next=3,this.getApi(Object(m.jb)(a,n));case 3:r=e.sent,this.handleData(r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleData",value:function(e){var t=e.map((function(e){return{id:e.id,leader:e.leader.id,replicas:e.nodes,offsets:r.a.createElement("label",null,e.firstOffset," \u2911 ",e.lastOffset),size:e}}));this.setState({data:t,loading:!1})}},{key:"handleLeader",value:function(e){return r.a.createElement("span",{className:"badge badge-primary"}," ",e)}},{key:"handleReplicas",value:function(e){return e.map((function(e){return r.a.createElement("span",{key:e.id,className:e.inSyncReplicas?"badge badge-success":"badge badge-danger"}," ",e.id)}))}},{key:"handleSize",value:function(e){return r.a.createElement("label",null,e.lastOffset-e.firstOffset," - ",N.b.showBytes(e.logDirSize,0))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.loading;return r.a.createElement("div",null,r.a.createElement(S,{loading:n,history:this.props.history,columns:[{id:"id",accessor:"id",colName:"Id",type:"text",sortable:!0},{id:"leader",accessor:"leader",colName:"Leader",type:"text",cell:function(t,a){return e.handleLeader(t[a.accessor])}},{id:"replicas",accessor:"replicas",colName:"Replicas",type:"text",cell:function(t,a){return e.handleReplicas(t[a.accessor])}},{id:"offsets",accessor:"offsets",colName:"Offsets",type:"text",sortable:!0},{id:"size",accessor:"size",colName:"Size",type:"text",cell:function(t,a){return e.handleSize(t[a.accessor])}}],data:a,updateData:function(t){e.setState({data:t})}}))}}]),a}(T.a),re=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={consumerGroups:[],topicId:e.props.topicId,showDeleteModal:!1,selectedCluster:e.props.clusterId,deleteMessage:"",loading:!0},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getConsumerGroup()}},{key:"getConsumerGroup",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedCluster,n=t.topicId,e.next=3,this.getApi(Object(m.eb)(a,n));case 3:(r=e.sent)&&r.data?this.handleGroups(r.data):this.setState({consumerGroup:[],loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleGroups",value:function(e){var t=this,a=e.map((function(e){return{id:e.id,state:e.state,coordinator:e.coordinator.id,members:e.members?e.members.length:0,topics:t.groupTopics(e.offsets)}}))||[];this.setState({consumerGroups:a,loading:!1})}},{key:"groupTopics",value:function(e){return e?e.reduce((function(e,t){var a=t.topic;return e[a]?e[a]=e[a]+t.offsetLag:e[a]=t.offsetLag||0,e}),{}):{}}},{key:"handleState",value:function(e){return r.a.createElement("span",{className:"STABLE"===e?"badge badge-success":"badge badge-warning"},e)}},{key:"handleCoordinator",value:function(e){return r.a.createElement("span",{className:"badge badge-primary"}," ",e)}},{key:"handleTopics",value:function(e){var t=this,a=function(e){return e.stopPropagation()};return Object.keys(e).map((function(n){return r.a.createElement(d.b,{to:"/ui/".concat(t.state.selectedCluster,"/topic/").concat(n),key:"lagTopic.topicId",className:"btn btn-dark btn-sm mb-1 mr-1",onClick:a},n,r.a.createElement("div",{className:"badge badge-secondary"},"Lag: ",Number(e[n]).toLocaleString()))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedCluster,n=t.loading;return r.a.createElement("div",null,r.a.createElement(S,{loading:n,history:this.props.history,columns:[{id:"id",accessor:"id",colName:"Id",sortable:!0},{id:"state",accessor:"state",colName:"State",cell:function(t){return e.handleState(t.state)}},{id:"coordinator",accessor:"coordinator",colName:"Coordinator",cell:function(t){return e.handleCoordinator(t.coordinator)}},{id:"members",accessor:"members",colName:"Members",sortable:!0},{id:"topics",accessor:"topics",colName:"Topics",cell:function(t){if(t.topics)return e.handleTopics(t.topics)}}],data:this.state.consumerGroups,updateData:function(t){e.setState({consumerGroups:t})},onDetails:function(e){return"/ui/".concat(a,"/group/").concat(e)},actions:[H.o.TABLE_DETAILS]}))}}]),a}(T.a),ce=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={host:"",port:"",data:[],selectedCluster:e.props.clusterId,selectedTopic:e.props.topicId,formData:{},changedConfigs:{},errors:{},configs:[],roles:JSON.parse(sessionStorage.getItem("roles")),loading:!0},e.schema={},e.getConfigDataType=function(e){switch(e.substring(e.lastIndexOf("."))){case".ms":return H.b;case".size":return H.a;default:return H.n}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getTopicsConfig()}},{key:"getTopicsConfig",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=this.state,n=a.selectedCluster,r=a.selectedTopic,e.next=4,this.getApi(Object(m.bb)(n,r));case 4:t=e.sent,this.handleData(t.data);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleData",value:function(e){var t=this;e.forEach((function(e){t.createValidationSchema(e)}));var a=e.map((function(e){return{id:e.name,name:e.name,description:e.description,value:e.value,readOnly:e.readOnly,dataType:t.getConfigDataType(e.name),type:e.source,sensitive:e.sensitive}}));this.setState({data:a,configs:e,loading:!1})}},{key:"handleDataType",value:function(e,t){switch(e){case"MILLI":return r.a.createElement("small",{className:"humanize form-text text-muted"},N.b.showTime(t));case"BYTES":return r.a.createElement("small",{className:"humanize form-text text-muted"},N.b.showBytes(t));default:return r.a.createElement("small",null)}}},{key:"createValidationSchema",value:function(e){var t,a=this.state.formData;t=(isNaN(e.value),j.a.any()),this.schema[e.name]=t,a[e.name]=isNaN(+e.value)?e.value:+e.value,this.setState({formData:a})}},{key:"onChange",value:function(e){var t=this,a=e.currentTarget,n=this.state,r=n.data,c=n.configs,s={},o=r.map((function(e){if(e.id===a.name){s=c.find((function(e){return e.name===a.name}));var n=t.state,r=n.formData,o=n.changedConfigs;return r[a.name]=a.value,a.value===s.value?delete o[a.name]:o[a.name]=a.value,t.setState({formData:r,changedConfigs:o}),{id:s.name,name:s.name,description:s.description,value:s.value,readOnly:s.readOnly,dataType:t.getConfigDataType(s.name),type:s.source,sensitive:s.sensitive}}return e}));this.setState({data:o})}},{key:"doSubmit",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedCluster,n=t.selectedTopic,r=t.changedConfigs,e.next=3,this.postApi(Object(m.lb)(a,n),{clusterId:a,topicId:n,configs:r});case 3:this.setState({state:this.state},(function(){k.b.success("Topic configs '".concat(n,"' updated successfully"))}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getInput",value:function(e,t,a,n){var c=this;return r.a.createElement("div",null,"TEXT"===n?r.a.createElement("input",{type:"text",onChange:function(e){return c.onChange(e)},className:"form-control",autoComplete:"off",value:e,name:t,placeholder:"default"}):r.a.createElement("input",{type:"number",onChange:function(e){return c.onChange(e)},className:"form-control",autoComplete:"off",value:e,name:t,placeholder:"default"}),this.handleDataType(n,e))}},{key:"handleTypeAndSensitive",value:function(e,t){var a="DEFAULT_CONFIG"===e?"secondary":"warning";return r.a.createElement("div",null,r.a.createElement("span",{className:"badge badge-"+a}," ",e),t?r.a.createElement("i",{className:"sensitive fa fa-exclamation-triangle text-danger","aria-hidden":"true"}):"")}},{key:"handleNameAndDescription",value:function(e,t){var a=t?r.a.createElement("span",{className:"text-secondary","data-toggle":"tooltip",title:t},r.a.createElement("i",{className:"fa fa-question-circle","aria-hidden":"true"})):"";return r.a.createElement("span",{className:"name-color"},r.a.createElement("code",null,e)," ",a)}},{key:"renderTabs",value:function(e,t){var a=t?"active":"";return r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"nav-link ".concat(a),href:"#",role:"tab"},e))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.loading,c=this.state.roles||{};return r.a.createElement("form",{encType:"multipart/form-data",className:"khq-form mb-0",onSubmit:function(){return e.handleSubmit()}},r.a.createElement("div",null,r.a.createElement(S,{loading:n,history:this.props.history,columns:[{id:"nameAndDescription",accessor:"nameAndDescription",colName:"Name",type:"text",cell:function(t){return e.handleNameAndDescription(t.name,t.description)}},{id:"value",accessor:"value",colName:"Value",type:"text",cell:function(t){return e.getInput(e.state.formData[t.name],t.name,t.readOnly,t.dataType)}},{id:"typeAndSensitive",accessor:"typeAndSensitive",colName:"Type",type:"text",cell:function(t){return e.handleTypeAndSensitive(t.type,t.sensitive)}}],data:a,updateData:function(t){e.setState({data:t})},noContent:"No acl for configs for current kafka user."}),c.topic&&c.topic["topic/config/update"]&&!this.props.internal?r.a.createElement("aside",null,this.renderButton("Update configs",this.handleSubmit,void 0,"submit")):null))}}]),a}(q),se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:[],selectedCluster:"",loading:!0},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getAcls()}},{key:"getAcls",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=this.props,n=a.clusterId,r=a.topicId,e.next=4,this.getApi(Object(m.ab)(n,r));case 4:t=e.sent,this.handleData(t.data);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleData",value:function(e){var t=[];return e.map((function(e){return e.acls.forEach((function(a,n){t.push({id:n,principal:e.principal,topic:a.resource.name||"",host:a.host||"",permission:a.operation||""})}))})),this.setState({data:t,loading:!1}),t}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.loading;return r.a.createElement("div",null,r.a.createElement(S,{loading:n,history:this.props.history,columns:[{id:"principal",accessor:"principal",colName:"Principal",type:"text",sortable:!0},{id:"host",accessor:"host",colName:"Host",type:"text",sortable:!0},{id:"permission",accessor:"permission",colName:"Permissions",type:"text",cell:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"badge badge-secondary"},e[t.accessor].permissionType)," ",e[t.accessor].operation)}}],data:a,updateData:function(t){e.setState({data:t})},noContent:r.a.createElement("tr",null,r.a.createElement("td",{colSpan:3},r.a.createElement("div",{className:"alert alert-warning mb-0",role:"alert"},'No ACLS found, or the "authorizer.class.name" parameter is not configured on the cluster.')))}))}}]),a}(T.a),oe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:[],selectedCluster:e.props.clusterId,selectedTopic:e.props.topic,loading:!0},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getTopicLogs()}},{key:"getTopicLogs",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedCluster,n=t.selectedTopic,e.next=3,this.getApi(Object(m.gb)(a,n));case 3:r=e.sent,this.handleData(r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleData",value:function(e){var t=e.map((function(e){return{broker:e.brokerId,topic:e.topic,partition:e.partition,size:e.size,offsetLag:Number(e.offsetLag).toLocaleString()}}));this.setState({data:t,loading:!1})}},{key:"handleSize",value:function(e){return r.a.createElement("label",null,N.b.showBytes(e,0))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.loading;return r.a.createElement("div",null,r.a.createElement(S,{loading:n,history:this.props.history,columns:[{id:"broker",accessor:"broker",colName:"Broker",type:"text",sortable:!0},{id:"topic",accessor:"topic",colName:"Topic",type:"text",sortable:!0},{id:"partition",accessor:"partition",colName:"Partition",type:"text",sortable:!0},{id:"size",accessor:"size",colName:"Size",type:"text",cell:function(t,a){return e.handleSize(t[a.accessor])}},{id:"offsetLag",accessor:"offsetLag",colName:"OffsetLag",type:"text",sortable:!0}],data:a,updateData:function(t){e.setState({data:t})}}))}}]),a}(T.a),ie=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={clusterId:n.props.clusterId,topicId:n.props.topicId,topic:{},selectedTab:"",showDeleteModal:!1,deleteMessage:"",compactMessageToDelete:"",roles:JSON.parse(sessionStorage.getItem("roles")),topicInternal:!1,configs:[]},n.tabs=["data","partitions","groups","configs","acls","logs"],n.showDeleteModal=function(e){n.setState({showDeleteModal:!0,deleteMessage:e})},n.closeDeleteModal=function(){n.setState({showDeleteModal:!1,deleteMessage:""})},n.canEmptyTopic=function(){var e=n.state.configs.filter((function(e){return"cleanup.policy"===e.name}));return!(!e||1!==e.length||"delete"!==e[0].value)},n.emptyTopic=function(){var e=n.props.match.params,t=e.clusterId,a=e.topicId;n.removeApi(Object(m.U)(t,a)).then((function(){k.b.success("Topic '".concat(a,"' will be emptied")),n.setState({showDeleteModal:!1},(function(){n.topicData.current.getMessages()}))})).catch((function(){n.setState({showDeleteModal:!1})}))},n.selectTab=function(e){n.setState({selectedTab:e})},n.tabClassName=function(e){return n.state.selectedTab===e?"nav-link active":"nav-link"},n.renderSelectedTab=function(){var e=n.state,t=e.selectedTab,a=e.topicId,c=e.clusterId,s=e.roles,o=e.topicInternal,i=n.props,l=i.history,u=i.match,d=i.location;switch(t){case"data":return r.a.createElement(ae,{ref:n.topicData,history:l,match:u,location:d});case"partitions":return r.a.createElement(ne,{clusterId:c,topic:a,history:l});case"groups":return r.a.createElement(re,{clusterId:c,topicId:a,history:l});case"configs":return r.a.createElement(ce,{internal:o,history:l,topicId:a,clusterId:c});case"acls":return r.a.createElement(se,{history:l,topicId:a,clusterId:c});case"logs":return r.a.createElement(oe,{clusterId:c,topic:a,history:l});default:return s.topic&&s.topic["topic/data/read"]?r.a.createElement(ae,{history:l,match:u,location:d}):r.a.createElement(ne,{history:l})}},n.topicData=r.a.createRef(),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,a=t.clusterId,n=t.topicId,r=this.props.location.search,c=this.state.roles||{},s=Object($.c)(this.props,this.tabs);this.setState({clusterId:a,topicId:n,selectedTab:c.topic&&c.topic["topic/data/read"]?s:"configs",topicInternal:this.props.location.internal},(function(){e.getTopicsConfig();var t="/ui/".concat(a,"/topic/").concat(n,"/").concat(e.state.selectedTab);r&&(t+=r),e.props.history.replace(t)}))}},{key:"handleOnEmpty",value:function(){var e=this;this.setState((function(){e.showDeleteModal(r.a.createElement(r.a.Fragment,null,"Do you want to empty the Topic: ",r.a.createElement("code",null,e.state.topicId)," ?"))}))}},{key:"componentDidUpdate",value:function(e,t){if(this.props.location.pathname!==e.location.pathname){var a=Object($.c)(this.props,this.tabs);this.setState({selectedTab:a})}}},{key:"getTopicsConfig",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.clusterId,n=t.topicId,r=[],e.prev=2,e.next=5,this.getApi(Object(m.bb)(a,n));case 5:r=e.sent,this.setState({configs:r.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error:",e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.topicId,n=t.clusterId,c=t.selectedTab,s=this.state.roles||{};return r.a.createElement("div",null,r.a.createElement(w,{title:"Topic: ".concat(a),history:this.props.history}),r.a.createElement("div",{className:"tabs-container",style:{marginBottom:"4%"}},r.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},s.topic&&s.topic["topic/data/read"]&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(n,"/topic/").concat(a,"/data"),className:this.tabClassName("data")},"Data")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(n,"/topic/").concat(a,"/partitions"),className:this.tabClassName("partitions")},"Partitions")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(n,"/topic/").concat(a,"/groups"),className:this.tabClassName("groups")},"Consumer Groups")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(n,"/topic/").concat(a,"/configs"),className:this.tabClassName("configs")},"Configs")),s.acls&&s.acls["acls/read"]&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(n,"/topic/").concat(a,"/acls"),className:this.tabClassName("acls")},"ACLS")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(n,"/topic/").concat(a,"/logs"),className:this.tabClassName("logs")},"Logs"))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{className:"tab-pane active",role:"tabpanel"},this.renderSelectedTab()))),"configs"!==c&&s.topic&&s.topic["topic/data/insert"]&&r.a.createElement("aside",null,r.a.createElement("li",{className:"aside-button"},this.canEmptyTopic()?r.a.createElement("div",{onClick:function(){e.handleOnEmpty()},className:"btn btn-secondary mr-2"},r.a.createElement("i",{className:"fa fa-fw fa-eraser","aria-hidden":!0})," Empty Topic"):r.a.createElement("div",{title:"Only enabled for topics with Delete Cleanup Policy",className:"btn disabled-black-button mr-2"},r.a.createElement("i",{className:"fa fa-fw fa-eraser","aria-hidden":!0})," Empty Topic"),r.a.createElement(d.b,{to:{pathname:"/ui/".concat(n,"/topic/").concat(a,"/copy")},className:"btn btn-secondary mr-2"},r.a.createElement("i",{className:"fa fa-fw fa-level-down","aria-hidden":!0})," Copy Topic"),r.a.createElement(d.b,{to:{pathname:"/ui/".concat(n,"/tail"),search:"?topicId=".concat(a)},className:"btn btn-secondary mr-2"},r.a.createElement("i",{className:"fa fa-fw fa-level-down","aria-hidden":!0})," Live Tail"),r.a.createElement(d.b,{to:"/ui/".concat(n,"/topic/").concat(a,"/produce"),className:"btn btn-primary"},r.a.createElement("i",{className:"fa fa-plus","aria-hidden":!0})," Produce to topic"))),r.a.createElement(Y.a,{show:this.state.showDeleteModal,handleCancel:this.closeDeleteModal,handleConfirm:this.emptyTopic,message:this.state.deleteMessage}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t}}]),a}(T.a),le=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:[],selectedCluster:"",loading:!0},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getNodes()}},{key:"getNodes",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=this.props.match.params.clusterId,e.next=4,this.getApi(Object(m.G)(a));case 4:t=e.sent,this.handleData(t.data),this.setState({selectedCluster:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleData",value:function(e){var t=this,a=this.props.match.params.clusterId,n={},r=function(){t.setState({data:Object.values(n),loading:!1})};return e.nodes.forEach((function(t){n[t.id]={id:JSON.stringify(t.id)||"",host:"".concat(t.host,":").concat(t.port)||"",rack:t.rack||"",controller:e.controller.id===t.id?"True":"False",partition:void 0}})),r(),this.getApi(Object(m.F)(a)).then((function(e){var t,a=Object(A.a)(e.data);try{for(a.s();!(t=a.n()).done;){var c=t.value,s=n[c.id];n[c.id].partition=s?c.countLeader+" ("+(c.countLeader/c.totalPartitions*100).toFixed(2)+"%)":""}}catch(o){a.e(o)}finally{a.f()}r()})),Object.values(n)}},{key:"render",value:function(){var e=this,t=this.props.history,a=this.state,n=a.data,c=a.selectedCluster,s=a.loading;return r.a.createElement("div",null,r.a.createElement(w,{title:"Nodes",history:t}),r.a.createElement(S,{loading:s,history:t,columns:[{id:"id",accessor:"id",colName:"Id",type:"text",sortable:!0,cell:function(e,t){return r.a.createElement("span",{className:"badge badge-info"},e[t.accessor]||"")}},{id:"host",accessor:"host",colName:"Host",type:"text",sortable:!0},{id:"controller",accessor:"controller",colName:"Controller",type:"text",sortable:!0},{id:"partition",accessor:"partition",colName:"Partitions (% of total)",type:"text",sortable:!1},{id:"rack",accessor:"rack",colName:"Rack",type:"text",sortable:!0}],data:n,updateData:function(t){e.setState({data:t})},actions:[H.i],onDetails:function(e){return"/ui/".concat(c,"/node/").concat(e)}}))}}]),a}(T.a),ue=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={host:"",port:"",data:[],selectedCluster:e.props.clusterId,selectedNode:e.props.nodeId,formData:{},changedConfigs:{},errors:{},configs:[],roles:JSON.parse(sessionStorage.getItem("roles")),loading:!0},e.schema={},e.getConfigDataType=function(e){if(void 0===e)return H.n;switch(e.substring(e.lastIndexOf("."))){case".ms":return H.b;case".size":return H.a;default:return H.n}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getNodesConfig()}},{key:"getNodesConfig",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedCluster,n=t.selectedNode,e.next=3,this.getApi(Object(m.H)(a,n));case 3:r=e.sent,this.handleData(r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleData",value:function(e){var t=this;e.forEach((function(e){t.createValidationSchema(e)}));var a=e.map((function(e){return{id:e.name,name:e.name,description:e.description,readOnly:e.readOnly,dataType:t.getConfigDataType(e.name),type:e.source,sensitive:e.sensitive}}));this.setState({data:a,configs:e,loading:!1})}},{key:"handleDataType",value:function(e,t){switch(e){case H.b:return r.a.createElement("small",{className:"humanize form-text text-muted"},N.b.showTime(t));case H.a:return r.a.createElement("small",{className:"humanize form-text text-muted"},N.b.showBytes(t));default:return r.a.createElement("small",null)}}},{key:"createValidationSchema",value:function(e){var t,a=this.state.formData;t=(isNaN(e.value),j.a.any()),this.schema[e.name]=t,a[e.name]=isNaN(+e.value)?e.value:+e.value,this.setState({formData:a})}},{key:"onChange",value:function(e){var t=this,a=e.currentTarget,n=this.state,r=n.data,c=n.configs,s={},o=r.map((function(e){if(e.id===a.name){s=c.find((function(e){return e.name===a.name}));var n=t.state,r=n.formData,o=n.changedConfigs;return r[a.name]=a.value,a.value===s.value?delete o[a.name]:o[a.name]=a.value,t.setState({formData:r,changedConfigs:o}),{id:s.name,name:s.name,description:s.description,readOnly:s.readOnly,dataType:t.getConfigDataType(s.name),type:s.source,sensitive:s.sensitive}}return e}));this.setState({data:o})}},{key:"doSubmit",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedCluster,n=t.selectedNode,r=t.changedConfigs,c=this.state.configs,e.next=4,this.postApi(Object(m.J)(a,n),{configs:r});case 4:this.setState({state:this.state}),k.b.success("Node configs '".concat(n,"' updated successfully.")),Object.keys(r).forEach((function(e){var t=r[e],a=c.findIndex((function(t){return t.name===e}));c[a].value=t}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getInput",value:function(e,t,a,n){var c=this;return r.a.createElement("div",null,"TEXT"===n?r.a.createElement("input",{type:"text",onChange:function(e){return c.onChange(e)},className:"form-control",autoComplete:"off",value:e,readOnly:a,name:t,placeholder:"Default"}):r.a.createElement("input",{type:"number",onChange:function(e){return c.onChange(e)},className:"form-control",autoComplete:"off",value:e,readOnly:a,name:t,placeholder:"Default"}),this.handleDataType(n,e))}},{key:"handleTypeAndSensitive",value:function(e,t){var a="DEFAULT_CONFIG"===e?"secondary":"warning";return r.a.createElement("div",null,r.a.createElement("span",{className:"badge badge-"+a}," ",e),t?r.a.createElement("i",{className:"sensitive fa fa-exclamation-triangle text-danger","aria-hidden":"true"}):"")}},{key:"handleNameAndDescription",value:function(e,t){var a=t?r.a.createElement("span",{className:"text-secondary","data-toggle":"tooltip",title:t},r.a.createElement("i",{className:"fa fa-question-circle","aria-hidden":"true"})):"";return r.a.createElement("div",null,r.a.createElement("code",null,e)," ",a)}},{key:"renderTabs",value:function(e,t){var a=t?"active":"";return r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"nav-link ".concat(a),role:"tab"},e))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.loading,c=this.state.roles||{};return r.a.createElement("form",{encType:"multipart/form-data",className:"khq-form mb-0",onSubmit:function(){return e.handleSubmit()}},r.a.createElement("div",null,r.a.createElement(S,{loading:n,history:this.props.history,columns:[{id:"nameAndDescription",accessor:"nameAndDescription",colName:"Name",type:"text",cell:function(t){return e.handleNameAndDescription(t.name,t.description)}},{id:"value",accessor:"value",colName:"Value",type:"text",cell:function(t){return e.getInput(e.state.formData[t.name],t.name,t.readOnly,t.dataType)}},{id:"typeAndSensitive",accessor:"typeAndSensitive",colName:"Type",type:"text",cell:function(t){return e.handleTypeAndSensitive(t.type,t.sensitive)}}],data:a,updateData:function(t){e.setState({data:t})}}),c.node["node/config/update"]&&this.renderButton("Update configs",this.handleSubmit,void 0,"submit")))}}]),a}(q),de=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={host:"",port:"",data:[],selectedCluster:e.props.clusterId,selectedNode:e.props.nodeId,loading:!0},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getNodesLogs()}},{key:"getNodesLogs",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=this.state,n=a.selectedCluster,r=a.selectedNode,e.next=4,this.getApi(Object(m.I)(n,r));case 4:t=(t=e.sent).data.sort(Object(H.p)("partition",!1)).sort(Object(H.p)("topic",!1)),this.handleData(t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleData",value:function(e){var t=e.map((function(e){return{broker:e.brokerId,topic:e.topic,partition:e.partition,size:Object(N.f)(e.size),offsetLag:Number(e.offsetLag).toLocaleString()}}));this.setState({data:t,loading:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.loading;return r.a.createElement("div",null,r.a.createElement(S,{loading:n,history:this.props.history,columns:[{id:"broker",accessor:"broker",colName:"Broker",type:"text",sortable:!0},{id:"topic",accessor:"topic",colName:"Topic",type:"text",sortable:!0},{id:"partition",accessor:"partition",colName:"Partition",type:"text",sortable:!0},{id:"size",accessor:"size",colName:"Size",type:"text",sortable:!0},{id:"offsetLag",accessor:"offsetLag",colName:"OffsetLag",type:"text",sortable:!0}],data:a,updateData:function(t){e.setState({data:t})}}))}}]),a}(T.a),me=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={host:"",port:"",data:[],clusterId:e.props.match.params.clusterId,selectedNode:e.props.match.params.nodeId,selectedTab:"configs"},e.tabs=["configs","logs"],e.tabClassName=function(t){return e.state.selectedTab===t?"nav-link active":"nav-link"},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,a=t.clusterId,n=t.nodeId,r=Object($.c)(this.props,this.tabs);this.setState({selectedTab:r||"configs"},(function(){e.props.history.replace("/ui/".concat(a,"/node/").concat(n,"/").concat(e.state.selectedTab))}))}},{key:"componentDidUpdate",value:function(e,t){if(this.props.location.pathname!==e.location.pathname){var a=Object($.c)(this.props,this.tabs);this.setState({selectedTab:a})}}},{key:"renderSelectedTab",value:function(){switch(this.state.selectedTab){case"configs":return r.a.createElement(ue,{nodeId:this.props.match.params.nodeId,clusterId:this.props.match.params.clusterId,history:this.props.history});case"logs":return r.a.createElement(de,{nodeId:this.props.match.params.nodeId,clusterId:this.props.match.params.clusterId,history:this.props.history});default:return r.a.createElement(ue,{nodeId:this.props.match.params.nodeId,clusterId:this.props.match.params.clusterId,history:this.props.history})}}},{key:"render",value:function(){var e=this.state,t=e.selectedNode,a=e.clusterId;return r.a.createElement("div",null,r.a.createElement(w,{title:"Node ".concat(t),history:this.props.history}),r.a.createElement("div",{className:"tabs-container"},r.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(a,"/node/").concat(t,"/configs"),className:this.tabClassName("configs")},"Configs")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(a,"/node/").concat(t,"/logs"),className:this.tabClassName("logs")},"Logs"))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{className:"tab-pane active",role:"tabpanel"},this.renderSelectedTab()))))}}]),a}(n.Component),pe=(a(733),a(734),a(30)),he=a.n(pe),fe=(a(738),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={selectedTab:H.o.TOPIC,selectedCluster:"",selectedConnect:"",allClusters:[],allConnects:[],showClusters:!1,showConnects:!1,enableRegistry:!1,enableConnect:!1,roles:JSON.parse(sessionStorage.getItem("roles")),height:"auto"},e.setClustersAndConnects=function(){var t=e.state,a=t.allClusters,n=t.allConnects,c=t.selectedCluster,s=t.selectedConnect;return{listClusters:a.map((function(t){return r.a.createElement(pe.NavItem,{key:"cluster/".concat(t.id),eventKey:"cluster/".concat(t.id),onClick:function(){return e.changeSelectedCluster(t)}},r.a.createElement(pe.NavText,{style:{color:"#32a9d4"}}," ",r.a.createElement(d.b,{to:"/ui/".concat(t.id,"/topic")},r.a.createElement("div",{className:c===t.id?" active":"",style:{color:"#759dac"}},t.id))))})),listConnects:n.map((function(t){return r.a.createElement(pe.NavItem,{key:"cluster/".concat(t),eventKey:"cluster/".concat(t),onClick:function(){return e.changeSelectedConnect(t)}},r.a.createElement(pe.NavText,null,r.a.createElement(d.b,{to:"/ui/".concat(c,"/connect/").concat(t)},r.a.createElement("div",{className:s===t?" active":"",style:{color:"#759dac"}},t))))}))}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[H.o.CLUSTER,H.o.CONNECT,H.o.GROUP,H.o.NODE,H.o.SCHEMA,H.o.TAIL,H.o.TOPIC,H.o.ACLS],a=this.props.location.pathname.split("/");t.find((function(e){return e===a[2]}))&&this.setState({selectedTab:a[2]}),this.props.clusters&&this.props.clusters.length>0&&this.handleGetClusters(this.props.clusters||[],(function(t){e.handleRegistryAndConnects(t)}))}},{key:"handleGetClusters",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=Object(v.f)(this.props.history.location.pathname,{path:"/ui/:clusterId/",exact:!1,strict:!1}),r=n&&n.params.clusterId||"",c=L()(e).sortBy((function(e){return e.id})).value()||[],s=c.find((function(e){return e.id===r}));this.setState({allClusters:c,selectedCluster:(s?s.id:c[0].id)||c[0].id},(function(){var e=t.state.selectedCluster;a(e)}))}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.location!==e.location&&this.setState({height:document.getElementById("root").offsetHeight}),this.props.clusters!==e.clusters&&this.handleGetClusters(this.props.clusters||[],(function(e){t.handleRegistryAndConnects(e)}))}},{key:"handleRegistryAndConnects",value:function(e){var t=this.state.allClusters.find((function(t){return t.id===e})),a=void 0!==t.connects;a?this.setState({enableRegistry:t.registry,enableConnect:a,allConnects:t.connects,selectedConnect:t.connects[0]}):this.setState({enableRegistry:t.registry,enableConnect:a,allConnects:[],selectedConnect:""})}},{key:"changeSelectedCluster",value:function(e){var t=this;this.setState({selectedCluster:e.id,showClusters:!1},(function(){var e=t.state.selectedCluster;t.props.history.push({pathname:"/ui/".concat(e,"/topic"),selectedCluster:e}),t.handleRegistryAndConnects(e)}))}},{key:"changeSelectedConnect",value:function(e){var t=this;this.setState({selectedConnect:e,showConnects:!1},(function(){var e=t.state,a=e.selectedConnect,n=e.selectedCluster;t.props.history.push({pathname:"/ui/".concat(n,"/connect/").concat(a),selectedCluster:n})}))}},{key:"renderMenuItem",value:function(e,t,a){var n=this,c=this.state.selectedCluster,s=window.location.pathname;return r.a.createElement(pe.NavItem,{eventKey:a,className:s.includes(t)?"active":"",onClick:function(){return n.setState({selectedTab:t}),n.props.history.push({pathname:"/ui/".concat(c,"/").concat(t)}),!1}},r.a.createElement(pe.NavIcon,null," ",r.a.createElement(d.b,{to:"/ui/".concat(c,"/").concat(t),onClick:function(e){n.setState({selectedTab:t}),e.preventDefault()}},r.a.createElement("i",{className:e,"aria-hidden":"true"}))),r.a.createElement(pe.NavText,null," ",r.a.createElement(d.b,{to:"/ui/".concat(c,"/").concat(t),onClick:function(e){n.setState({selectedTab:t}),e.preventDefault()}},a)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedConnect,n=t.selectedCluster,c=t.showClusters,s=t.showConnects,o=t.selectedTab,i=t.height,l=t.enableRegistry,u=t.enableConnect,d=this.state.roles||{},m=sessionStorage.getItem("version"),p=this.setClustersAndConnects(),h=p.listConnects,f=p.listClusters;return r.a.createElement(he.a,{expanded:this.props.expanded,onToggle:function(t){e.props.toggleSidebar(t)},style:{background:"black",height:i,position:"fixed"}},r.a.createElement(he.a.Toggle,null),r.a.createElement("div",{className:"logo-wrapper"},r.a.createElement("span",{className:"logo"})),r.a.createElement(he.a.Nav,{defaultSelected:"".concat(H.o.TOPIC),style:{background:"black"}},r.a.createElement(pe.NavItem,{style:{backgroundColor:"Black",cursor:"default"}},r.a.createElement(pe.NavIcon,null),r.a.createElement(pe.NavText,{style:{color:"grey",fontStyle:"Italic",paddingLeft:"9%"}},"",m)),r.a.createElement(pe.NavItem,{eventKey:"cluster"},r.a.createElement(pe.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw fa fa-database","aria-hidden":"true"})),r.a.createElement(pe.NavText,null,r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":c,className:"dropdown-toggle text-center",onClick:function(){e.setState({showClusters:!c,selectedTab:H.o.CLUSTER})}},r.a.createElement("span",{className:"badge badge-primary clusters"},n))),f),d&&d.node&&this.renderMenuItem("fa fa-fw fa-laptop",H.o.NODE,"Nodes"),d&&d.topic&&d.topic["topic/read"]&&this.renderMenuItem("fa fa-fw fa-list",H.o.TOPIC,"Topics"),d&&d.topic&&d.topic["topic/data/read"]&&this.renderMenuItem("fa fa-fw fa-level-down",H.o.TAIL,"Live Tail"),d&&d.group&&d.group["group/read"]&&this.renderMenuItem("fa fa-fw fa-object-group",H.o.GROUP,"Consumer Groups"),d&&d.acls&&d.acls["acls/read"]&&this.renderMenuItem("fa fa-fw fa-key",H.o.ACLS,"ACLS"),l&&d&&d.registry&&d.registry["registry/read"]&&this.renderMenuItem("fa fa-fw fa-cogs",H.o.SCHEMA,"Schema Registry"),u&&d&&d.connect&&d.connect["connect/read"]&&r.a.createElement(pe.NavItem,{eventKey:"connects",className:o===H.o.CONNECT?"active":""},r.a.createElement(pe.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw fa fa-exchange","aria-hidden":"true"})),r.a.createElement(pe.NavText,null,r.a.createElement("div",{to:"/ui/".concat(n,"/connect/").concat(a),"data-toggle":"collapse","aria-expanded":s,className:"dropdown-toggle text-center",onClick:function(){e.setState({showConnects:!s,selectedTab:H.o.CONNECT})}},r.a.createElement("span",{className:"badge badge-primary clusters"},a))),h),this.renderMenuItem("fa fa-fw fa-gear",H.o.SETTINGS,"Settings")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{selectedTab:e.selectedTab||t.selectedTab}}}]),a}(n.Component)),ge=Object(v.g)(fe),be=(a(739),a(165)),ve=a.n(be),ye=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.show?"loading-container":"loading-none";return r.a.createElement("div",null,r.a.createElement("div",{className:e},r.a.createElement("div",{className:"loading"},r.a.createElement("h3",{className:"logo"},r.a.createElement("img",{src:ve.a,alt:""}),r.a.createElement("sup",null,r.a.createElement("strong",null,"HQ"))))),this.props.children)}}]),a}(n.Component),Ee=a(166),Se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={clusterId:"",topicId:"",selectedTab:H.o.CLUSTER,action:"",loading:!1,expanded:!!localStorage.getItem("expanded")},e}return Object(i.a)(a,[{key:"handleTitle",value:function(){var e=window.location.pathname,t="";return e.includes("node")&&(t="Nodes |"),e.includes("topic")&&(t="Topics |"),e.includes("tail")&&(t="Live Tail |"),e.includes("group")&&(t="Consumer Groups |"),e.includes("acls")&&(t="Acls |"),e.includes("schema")&&(t="Schema Registry |"),e.includes("connect")&&(t="Connect |"),t+" akhq.io"}},{key:"componentWillUnmount",value:function(){clearTimeout(this.interval)}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.clusters,c=this.state,s=c.loading,o=c.selectedTab,i=c.expanded;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{title:this.handleTitle()}),r.a.createElement(ye,{show:s}),"/ui/login"!==this.props.location.pathname&&"/ui/page-not-found"!==this.props.location.pathname&&r.a.createElement(ge,{clusters:n,expanded:i,toggleSidebar:function(t){t?localStorage.setItem("expanded",t):localStorage.removeItem("expanded"),e.setState({expanded:t})},selectedTab:o}),r.a.createElement("div",{id:"content",className:i?"expanded":"collapsed"},a))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.match.params.clusterId,a=e.match.params.topicId,n=e.match.params.action,r=e.location,c=r.loading;return{topicId:a,clusterId:t,selectedTab:r.tab,action:n,loading:c}}}]),a}(n.Component),Ne=Object(v.g)(Se),Oe=a(61),ke=a(102),Te=a(57),De=(a(65),"STOPPED"),Ce="STARTED",we="PAUSED",Ie=[50,100,250,500,1e3,2500],je=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e,n;Object(o.a)(this,a);for(var c=arguments.length,s=new Array(c),i=0;i<c;i++)s[i]=arguments[i];return(n=t.call.apply(t,[this].concat(s))).state={search:"",dropdownSearch:"",topics:[],showDropdown:!1,selectedTopics:[],selectedStatus:"STOPPED",maxRecords:50,data:[],showFilters:"",dateTimeFormat:H.d.TOPIC_DATA.DATE_TIME_FORMAT.RELATIVE},n.componentDidMount=Object(f.a)(h.a.mark((function e(){var t,a,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.clusterId,a=new URLSearchParams(n.props.location.search),e.next=4,n.getApi(Object(m.hb)(t));case 4:r=(r=e.sent).data,c=[],a&&a.get("topicId")&&(c=[a.get("topicId")]),r?n.setState({topics:r,selectedTopics:c},(function(){a&&a.get("topicId")&&(n.setState({selectedStatus:Ce}),n.startEventSource())})):n.setState({topics:[],selectedTopics:c},(function(){a&&a.get("topicId")&&(n.setState({selectedStatus:Ce}),n.startEventSource())})),n.initDateTimeFormat();case 10:case"end":return e.stop()}}),e)}))),n.initDateTimeFormat=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.clusterId,e.next=3,Object($.b)(t);case 3:(a=e.sent).topicData&&a.topicData.dateTimeFormat&&n.setState({dateTimeFormat:a.topicData.dateTimeFormat});case 5:case"end":return e.stop()}}),e)}))),n.componentWillUnmount=function(){Object(ke.a)((e=Object(Oe.a)(n),Object(Te.a)(a.prototype)),"componentWillUnmount",e).call(e),n.onStop()},n.startEventSource=function(){var e=n.props.match.params.clusterId,t=n.state,a=t.search,r=t.selectedTopics,c=t.maxRecords;n.eventSource=new EventSource(Object(m.C)(e,a,r,JSON.stringify(c)));var s=Object(Oe.a)(n);n.eventSource.addEventListener("tailBody",(function(e){var t=JSON.parse(e.data),a=s.state.data;t.records&&(a=a.concat(t.records)).length>c&&(a=a.slice(a.length-c)),s.setState({data:a}),s.scrollToBottom()})),n.eventSource.onerror=function(e){n.setState({selectedStatus:De})}},n.onStop=function(){n.eventSource&&n.eventSource.close()},n.onStart=function(){n.startEventSource()},n.scrollToBottom=function(){(document.body.scrollTop||document.documentElement.scrollTop)+window.innerHeight>=document.documentElement.scrollHeight-document.documentElement.clientHeight&&n.messagesEnd.scrollIntoView({behavior:"smooth"})},n.handleChange=function(e){n.setState(Object(x.a)({},e.target.name,[e.target.value]))},n.handleSelectedTopics=function(e){var t=n.state.selectedTopics;if(t.find((function(t){return t===e}))){var a=L.a.remove(t,(function(t){return t!==e}));n.setState({selectedTopics:a})}else t.push(e),n.setState({selectedTopics:t})},n.renderTopicList=function(){var e=n.state,t=e.topics,a=e.dropdownSearch,c=e.selectedTopics;return r.a.createElement("div",{style:{maxHeight:"678px",overflowY:"auto",minHeight:"89px"}},r.a.createElement("ul",{className:"dropdown-menu inner show",role:"presentation",style:{marginTop:"0px",marginBottom:"0px"}},t.filter((function(e){return a.length>0?e.includes(a):e})).map((function(e,t){var a=c.find((function(t){return t===e}));return r.a.createElement("li",{key:"topic_".concat(e,"_").concat(t)},r.a.createElement("div",{onClick:function(){n.onStop(),n.setState({data:[]}),n.handleSelectedTopics(e)},role:"option",className:"dropdown-item ".concat(a?"selected":""),id:"bs-select-".concat(t,"-0"),"aria-selected":"false"},r.a.createElement("span",{className:"text"},e)))})))," ")},n}return Object(i.a)(a,[{key:"openAndCloseFilters",value:function(){"show"===this.state.showFilters?this.setState({showFilters:""}):this.setState({showFilters:"show"})}},{key:"render",value:function(){var e=this,t=this.state,a=t.search,n=t.dropdownSearch,c=t.selectedTopics,s=t.topics,o=t.selectedStatus,i=t.maxRecords,l=t.data,u=t.showFilters;return r.a.createElement("div",null,r.a.createElement(w,{title:"Live Tail",history:this.props.history}),r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light mr-auto khq-data-filter khq-sticky khq-nav"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbar-search","aria-controls":"navbar-search","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){e.openAndCloseFilters()}},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"form-inline collapse navbar-collapse ".concat(u),id:"navbar-search"},r.a.createElement(P,{type:"text",name:"search",id:"search",value:a,label:"",placeholder:"Search...",onChange:function(t){e.onStop(),e.setState({data:[]}),e.handleChange(t)},wrapperClass:"tail-search-wrapper",inputClass:"tail-search-input"}),r.a.createElement(B.a,{className:"form-group dropdown bootstrap-select show-tick khq-select show"},r.a.createElement(B.a.Toggle,{className:"btn dropdown-toggle btn-white"},0===c.length?"Topics":1===c.length?c[0]:"".concat(c.length," Topics Selected")),r.a.createElement(B.a.Menu,{style:{maxHeight:"771px",overflow:"hidden",minHeight:"182px"}},r.a.createElement("div",{className:"bs-searchbox"},r.a.createElement("input",{type:"text",name:"dropdownSearch",id:"dropdownSearch",className:"form-control",autoComplete:"off",role:"combobox","aria-label":"Search","aria-controls":"bs-select-1","aria-autocomplete":"list","aria-expanded":"false",placeholder:"search",onChange:this.handleChange,value:n})),r.a.createElement("div",{className:"bs-actionsbox"},r.a.createElement("div",{className:"btn-group btn-group-sm btn-block"},r.a.createElement("button",{onClick:function(){e.onStop(),e.setState({data:[],selectedTopics:JSON.parse(JSON.stringify(s)).filter((function(e){return n.length>0?e.includes(n):e}))})},type:"button",className:"actions-btn bs-select-all btn btn-light"},"Select All"),r.a.createElement("button",{onClick:function(){e.onStop(),e.setState({data:[],selectedTopics:[]})},type:"button",className:"actions-btn bs-deselect-all btn btn-light"},"Deselect All"))),this.renderTopicList())),r.a.createElement(B.a,{className:"form-group dropdown bootstrap-select show-tick khq-select show"},r.a.createElement(B.a.Toggle,{className:"btn dropdown-toggle btn-white"},"Max Records: ",i),r.a.createElement(B.a.Menu,{style:{maxHeight:"771px",overflow:"hidden",minHeight:"182px"}},Ie.map((function(t){return r.a.createElement("li",{key:"record_".concat(t)},r.a.createElement("div",{onClick:function(){e.onStop(),e.setState({maxRecords:t,data:[]})},role:"option",className:"dropdown-item","aria-selected":"false"},t))})))),r.a.createElement("button",{onClick:function(){e.onStop(),e.setState({selectedStatus:Ce},(function(){e.onStart()}))},className:"btn btn-primary",type:"submit"},r.a.createElement("span",{className:"d-md-none"},"Search "),r.a.createElement("i",{className:"fa fa-search"})),r.a.createElement("div",{className:"btn-group actions",role:"group"},r.a.createElement("button",{className:"btn btn-secondary pause ".concat(o===Ce?"":"d-none"),onClick:function(){e.onStop(),e.setState({selectedStatus:we})}},r.a.createElement("i",{className:"fa fa-pause"}),r.a.createElement("span",null," Pause")),r.a.createElement("button",{className:"btn btn-secondary resume ".concat(o===we?"":"d-none"),onClick:function(){e.onStart(),e.setState({selectedStatus:Ce})}},r.a.createElement("i",{className:"fa fa-play"})," ",r.a.createElement("span",null," Resume")),r.a.createElement("button",{className:"btn btn-secondary empty ".concat(o===Ce||o===we?"":"d-none"),onClick:function(){e.setState({data:[]})}},r.a.createElement("i",{className:"fa fa-remove"})," ",r.a.createElement("span",null," Clear"))))),o!==De&&r.a.createElement(S,{history:this.props.history,rowId:function(e){return e.topic.name+"-"+e.partition+"-"+e.offset},columns:[{id:"topic",accessor:"topic",colName:"Topic",type:"text",cell:function(e){return e.topic.name}},{id:"key",accessor:"key",colName:"Key",type:"text",cell:function(e){return r.a.createElement("span",{style:{color:"red"}},e.key)}},{id:"timestamp",accessor:"timestamp",colName:"Date",type:"text",cell:function(t){return r.a.createElement("div",{className:"tail-headers"},r.a.createElement(Q.a,{isoDateTimeString:t.timestamp,dateTimeFormat:e.state.dateTimeFormat}))}},{id:"partition",accessor:"partition",colName:"Partition",type:"text"},{id:"offset",accessor:"offset",colName:"Offset",type:"text"},{id:"headers",accessor:"headers",colName:"Headers",type:"text",expand:!0,cell:function(e){return r.a.createElement("div",{className:"tail-headers"},e.headers?Object.keys(e.headers).length:0)}},{id:"value",accessor:"value",colName:"Schema",type:"text",extraRow:!0,extraRowContent:function(e,t){return r.a.createElement(U.a,{mode:"json",id:"value"+t,theme:"merbivore_soft",value:e.value,readOnly:!0,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},style:{width:"100%",minHeight:"25vh"}})},cell:function(e){return r.a.createElement("pre",{className:"mb-0 khq-data-highlight"},r.a.createElement("code",null,e.value))}}],extraRow:!0,noStripes:!0,data:l,updateData:function(t){e.setState({data:t})},noContent:r.a.createElement("tr",null),onExpand:function(e){return Object.keys(e.headers).map((function(t){return r.a.createElement("tr",{style:{display:"flex",flexDirection:"row",width:"100%"}},r.a.createElement("td",{style:{width:"100%",display:"flex",borderStyle:"dashed",borderWidth:"1px",backgroundColor:"#171819"}},t),r.a.createElement("td",{style:{width:"100%",display:"flex",borderStyle:"dashed",borderWidth:"1px",backgroundColor:"#171819"}},e.headers[t]))}))}}),r.a.createElement("div",{ref:function(t){e.messagesEnd=t}}))}}]),a}(T.a),xe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:[],selectedCluster:"",searchData:{search:""},loading:!0},e.handleSearch=function(t){var a=t.searchData;e.setState({searchData:a,loading:!0},(function(){e.getAcls(),e.props.history.push({pathname:"/ui/".concat(e.state.selectedCluster,"/acls"),search:"search=".concat(a.search)})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.searchData,a=new URLSearchParams(this.props.location.search),n=this.props.match.params.clusterId;this.setState({selectedCluster:n,searchData:{search:a.get("search")?a.get("search"):t.search}},(function(){e.getAcls()}))}},{key:"getAcls",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=this.state.selectedCluster,e.next=4,this.getApi(Object(m.d)(a,this.state.searchData.search));case 4:t=e.sent,this.handleData(t.data);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleData",value:function(e){var t=e.map((function(e){return e.principalEncoded=btoa(e.principal),{id:e,user:e.principal||""}}));return this.setState({data:t,loading:!1}),t}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.searchData,c=t.loading,s=this.props.match.params.clusterId;return r.a.createElement("div",null,r.a.createElement(w,{title:"Acls",history:this.props.history}),r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light mr-auto khq-data-filter khq-sticky khq-nav"},r.a.createElement(K,{showSearch:!0,search:n.search,showPagination:!1,showTopicListView:!1,showConsumerGroup:!0,groupListView:"ALL",doSubmit:this.handleSearch})),r.a.createElement(S,{loading:c,history:this.props.history,columns:[{id:"user",accessor:"user",colName:"Principals",type:"text",sortable:!0}],actions:[H.i],data:a,updateData:function(t){e.setState({data:t})},noContent:r.a.createElement("tr",null,r.a.createElement("td",{colSpan:3},r.a.createElement("div",{className:"alert alert-warning mb-0",role:"alert"},'No ACLS found, or the "authorizer.class.name" parameter is not configured on the cluster.'))),onDetails:function(e){return"/ui/".concat(s,"/acls/").concat(e.principalEncoded)}}))}}]),a}(T.a),Ae=a(73),Me=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={clusterId:"",connectId:"",tableData:[],showDeleteModal:!1,definitionToDelete:"",deleteMessage:"",roles:JSON.parse(sessionStorage.getItem("roles")),loading:!0,pageNumber:1,totalPageNumber:1,history:e.props,searchData:{search:""}},e.deleteDefinition=function(){var t=e.state,a=t.clusterId,n=t.connectId,r=t.definitionToDelete;e.removeApi(Object(m.v)(a,n,r)).then((function(){k.b.success("Definition '".concat(r,"' is deleted")),e.setState({showDeleteModal:!1,definitionToDelete:""},(function(){e.getConnectDefinitions()}))})).catch((function(){e.setState({showDeleteModal:!1,topicToDelete:{}})}))},e.handleData=function(t){var a;a=t.results.map((function(e){return{id:e.name||"",config:JSON.stringify(e.configs)||"",type:{type:e.type,shortClassName:e.shortClassName}||"",tasks:e.tasks||""}})),e.setState({tableData:a,loading:!1,totalPageNumber:t.page})},e.showDeleteModal=function(t){e.setState({showDeleteModal:!0,deleteMessage:t})},e.closeDeleteModal=function(){e.setState({showDeleteModal:!1,deleteMessage:""})},e.getTableActions=function(){var t=e.state.roles||{},a=[];return t.connect&&t.connect["connect/read"]&&a.push(H.o.TABLE_DETAILS),t.connect&&t.connect["connect/delete"]&&a.push(H.o.TABLE_DELETE),a},e.handleSearch=function(t){var a=t.searchData;e.setState({pageNumber:1,searchData:a},(function(){e.getConnectDefinitions()}))},e.handlePageChangeSubmission=function(t){var a=Z(t,e.state.totalPageNumber);e.setState({pageNumber:a},(function(){e.getConnectDefinitions()}))},e.renderTasks=function(e){var t,a=[],n=Object(A.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value,s="btn btn-sm mb-1 btn-";switch(c.state){case"RUNNING":s+="success";break;case"FAILED":s+="danger";break;default:s+="warning"}a.push(r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"btn btn-sm mb-1 ".concat(s)},"".concat(c.workerId," (").concat(c.id,") "),r.a.createElement("span",{className:"badge badge-light"},c.state)),r.a.createElement("br",null)))}}catch(o){n.e(o)}finally{n.f()}return a},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.searchData,n=t.pageNumber,r=new URLSearchParams(this.props.location.search);this.setState({searchData:{search:r.get("search")?r.get("search"):a.search},pageNumber:r.get("page")?parseInt(r.get("page")):parseInt(n)},(function(){e.getConnectDefinitions()}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.props.location.pathname!==e.location.pathname&&(this.cancelAxiosRequests(),this.renewCancelToken(),this.setState({pageNumber:1},(function(){a.componentDidMount()})))}},{key:"getConnectDefinitions",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c,s,o,i=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.clusterId,n=t.connectId,r=t.pageNumber,c=this.state.searchData.search,this.setState({loading:!0}),e.next=5,this.getApi(Object(m.h)(a,n,c,r));case 5:s=e.sent,(o=s.data).results?(this.handleData(o),this.setState({selectedCluster:a,totalPageNumber:o.page},(function(){i.props.history.push({pathname:"/ui/".concat(i.state.clusterId,"/connect/").concat(i.state.connectId),search:"search=".concat(i.state.searchData.search,"&page=").concat(r)})}))):this.setState({clusterId:a,tableData:[],totalPageNumber:0,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnDelete",value:function(e){var t=this;this.setState({definitionToDelete:e},(function(){t.showDeleteModal(r.a.createElement(r.a.Fragment,null,"Do you want to delete definition: ",r.a.createElement("code",null,e)," ?"))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.clusterId,n=t.connectId,c=t.tableData,s=t.loading,o=t.searchData,i=t.pageNumber,l=t.totalPageNumber,u=this.state.roles||{},m=this.props.history;return r.a.createElement("div",null,r.a.createElement(w,{title:"Connect: ".concat(n),history:m}),r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light mr-auto khq-data-filter khq-sticky khq-nav"},r.a.createElement(K,{showSearch:!0,search:o.search,showPagination:!0,pagination:i,doSubmit:this.handleSearch}),r.a.createElement(z,{pageNumber:i,totalPageNumber:l,onChange:X,onSubmit:this.handlePageChangeSubmission})),r.a.createElement(E.a,{loading:s,history:m,columns:[{id:"id",name:"id",accessor:"id",colName:"Name",type:"text",sortable:!0},{id:"config",name:"config",accessor:"config",colName:"Config",type:"text",extraRow:!0,extraRowContent:function(e,t,a){return r.a.createElement(U.a,{mode:"json",id:"value"+a,theme:"merbivore_soft",value:JSON.stringify(JSON.parse(e[t.accessor]),null,2),readOnly:!0,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},style:{width:"100%",minHeight:"25vh"}})},cell:function(e,t){return r.a.createElement("pre",{className:"mb-0 khq-data-highlight"},r.a.createElement("code",{onClick:function(){return JSON.stringify(JSON.parse(e[t.accessor]),null,2)}},e[t.accessor]))}},{id:"type",accessor:"type",colName:"Type",type:"text",cell:function(e,t){return"source"===e[t.accessor].type?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fa fa-forward","aria-hidden":"true"})," ".concat(e[t.accessor].shortClassName)):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fa fa-backward","aria-hidden":"true"})," ".concat(e[t.accessor].shortClassName))}},{id:"tasks",accessor:"tasks",colName:"Tasks",type:"text",cell:function(t,a){return e.renderTasks(t[a.accessor])}}],data:c,updateData:function(t){e.setState({tableData:t})},actions:this.getTableActions(),onDetails:function(e){return"/ui/".concat(a,"/connect/").concat(n,"/definition/").concat(e)},onDelete:function(t){e.handleOnDelete(t.id)},extraRow:!0,noStripes:!0,onExpand:function(e){return Object.keys(e.headers).map((function(t){return r.a.createElement("tr",{style:{display:"flex",flexDirection:"row",width:"100%"}},r.a.createElement("td",{style:{width:"100%",display:"flex",borderStyle:"dashed",borderWidth:"1px",backgroundColor:"#171819"}},t),r.a.createElement("td",{style:{width:"100%",display:"flex",borderStyle:"dashed",borderWidth:"1px",backgroundColor:"#171819"}},e.headers[t]))}))},noContent:"No connectors available"}),u.connect&&u.connect["connect/insert"]&&r.a.createElement("aside",null,r.a.createElement(d.b,{to:"/ui/".concat(a,"/connect/").concat(n,"/create"),className:"btn btn-primary"},"Create a definition")),r.a.createElement(Ae.a,{show:this.state.showDeleteModal,handleCancel:this.closeDeleteModal,handleConfirm:this.deleteDefinition,message:this.state.deleteMessage}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{clusterId:e.match.params.clusterId,connectId:e.match.params.connectId}}}]),a}(T.a),Le=(a(740),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={clusterId:e.props.match.params.clusterId,connectId:e.props.match.params.connectId,formData:{},errors:{},plugins:[],selectedType:"",display:"",plugin:{}},e.schema={},e.onTypeChange=function(t){e.setState({selectedType:t,formData:{}},(function(){e.renderForm()}))},e.validate=function(){var t=j.a.validate(e.state.formData,e.schema).error;if(!t)return null;var a,n={},r=Object(A.a)(t.details);try{var c=function(){var t=a.value;Object.keys(e.schema).find((function(e){return e===t.path[0]}))&&(n[t.path[0]]=t.message)};for(r.s();!(a=r.n()).done;)c()}catch(s){r.e(s)}finally{r.f()}return n},e.validateProperty=function(t){var a=t.name,n=t.value,r=Object(x.a)({},a,n),c=Object(x.a)({},a,e.schema[a]),s=j.a.validate(r,c).error;return s?s.details[0].message:null},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getPlugins()}},{key:"componentDidUpdate",value:function(e){if(this.props.location===e.location){var t=document.getElementById("root").offsetHeight;document.getElementsByClassName("sidenav---sidenav---_2tBP")[0].style.height=t+"px"}}},{key:"getPlugins",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.connectId,n=t.clusterId,e.next=3,this.getApi(Object(m.j)(n,a));case 3:r=e.sent,this.setState({clusterId:n,connectId:a,plugins:r.data});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleShema",value:function(e){var t=this;this.schema={};var a={};a.type=this.state.selectedType,this.schema.type=j.a.string().required(),a.subject="",this.schema.subject=j.a.string().required(),e.forEach((function(e){var n=t.handleDefinition(e);a[e.name]="",t.schema[e.name]=n,"transforms"===e.name&&(a.transformsprops="{}",t.schema.transformsprops=j.a.object().required())})),this.setState({formData:a})}},{key:"handleDefinition",value:function(e){var t="";if("name"!==e.name&&"connect.class"!==e.name)if(e.required)switch(e.type){case H.o.TYPES.LONG:case H.o.TYPES.INT:case H.o.TYPES.DOUBLE:case H.o.TYPES.SHORT:t=j.a.number().required();break;case H.o.TYPES.PASSWORD:t=j.a.password().required();break;case H.o.TYPES.BOOLEAN:t=j.a.boolean().required();break;default:t=j.a.string().required()}else switch(e.type){case H.o.TYPES.LONG:case H.o.TYPES.INT:case H.o.TYPES.DOUBLE:case H.o.TYPES.SHORT:t=j.a.number().allow("");break;case H.o.TYPES.BOOLEAN:t=j.a.boolean().allow("");break;default:t=j.a.string().allow("")}else t=j.a.string().allow("");return t}},{key:"renderTableRows",value:function(e){var t=this,a="",n=this.state.formData,c=[],s=this.validateProperty({name:e.name,value:n[e.name]});switch(s&&(c[e.name]=s),e.importance){case"HIGH":a=r.a.createElement("span",null,e.displayName,"",r.a.createElement("i",{className:"fa fa-exclamation text-danger",style:{marginleft:"2%"},"aria-hidden":"true"}));break;case"MEDIUM":a=r.a.createElement("span",null,e.displayName,r.a.createElement("i",{className:"fa fa-info text-warning",style:{marginleft:"2%"},"aria-hidden":"true"}));break;default:a=r.a.createElement("span",null,e.displayName)}var o=r.a.createElement("code",null,e.name),i={};i=e.required?r.a.createElement("code",{style:{color:"red"}},"Required"):r.a.createElement(r.a.Fragment,null);var l=r.a.createElement("small",{className:"form-text text-muted",dangerouslySetInnerHTML:{__html:e.documentation}});return r.a.createElement(r.a.Fragment,{key:e.name},r.a.createElement("td",null,a,r.a.createElement("br",null),o,r.a.createElement("br",null),i,r.a.createElement("br",null),l),r.a.createElement("td",null,r.a.createElement("input",{type:"text",className:"form-control",value:n[e.name],name:e.name,disabled:"name"===e.name||"connector.class"===e.name,placeholder:e.defaultValue>0?e.defaultValue:"",onChange:function(a){var n=a.currentTarget,r=t.state.formData;r[e.name]=n.value,t.handleData(),t.setState({formData:r})}},n[e.required]),c[e.name]&&r.a.createElement("div",{id:"input-error",className:"alert alert-danger mt-1 p-1"},c[e.name]),r.a.createElement("small",{className:"humanize form-text text-muted"})))}},{key:"handleData",value:function(){var e=this,t=this.state.plugin,a="",n=[],r=[];return L()(t.definitions).filter((function(e){return"name"!==e.name&&"connector.class"!==e.name})).value().forEach((function(t){t.group!==a?""===a?(a=t.group,n=[t]):(r.push(e.handleGroup(n)),n=[t],a=t.group):n.push(t)})),r.push(this.handleGroup(n)),this.setState({display:r}),r}},{key:"handleGroup",value:function(e){var t=this,a=this.state.formData,n=[r.a.createElement("tr",{className:"bg-primary"},r.a.createElement("td",{colSpan:"3"},e[0].group))];return void 0===a.transformsprops&&(a.transformsprops="{}"),e.forEach((function(e){var c=t.renderTableRows(e),s=[];if(n.push(r.a.createElement("tr",null,c)),"transforms"===e.name){var o=t.validateProperty({name:"transformsprops",value:a.transformsprops});o&&(s.transformsprops=o);var i=r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,r.a.createElement("code",null,"Transforms additional properties"),r.a.createElement("small",{className:"form-text text-muted"},'Json object to be added to configurations. example:\n                  {\n                      "transforms.createKey.type":"org.apache.kafka.connect.transforms.ValueToKey",\n                      "transforms.createKey.fields":"c1",\n                      "transforms.extractInt.type":"org.apache.kafka.connect.transforms.ExtractField$Key",\n                      "transforms.extractInt.field":"c1"\n                  }')),r.a.createElement("td",null,r.a.createElement(U.a,{mode:"json",id:"transformsprops",theme:"merbivore_soft",value:a.transformsprops,onChange:function(e){var a=t.state.formData,n=Object(y.a)({},t.state.errors),r=t.validateProperty({name:"transformsprops",value:e});r?n.transformsprops=r:delete n.transformsprops,a.transformsprops=e,t.handleData(),t.setState({formData:a})},name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},style:{width:"100%",minHeight:"25vh"}}),s.transformsprops&&r.a.createElement("div",{id:"input-error",className:"alert alert-danger mt-1 p-1"},s.transformsprops)));n.push(i)}})),n}},{key:"renderForm",value:function(){var e=this,t=this.getPlugin();t.definitions&&this.setState({plugin:t},(function(){e.handleShema(L()(t.definitions).filter((function(e){return"name"!==e.name&&"connector.class"!==e.name})).value()),e.handleData()}))}},{key:"getPlugin",value:function(){var e=this;return this.state.plugins.find((function(t){return e.state.selectedType===t.className}))}},{key:"renderDropdown",value:function(){var e=this,t=[{_id:"",name:""}];return this.state.plugins.forEach((function(e){var a=[e.className," [",e.version,"]"];t.push({_id:e.className,name:a})})),r.a.createElement(R.a,{name:"selectedType",selectClass:"col-sm-10",value:this.state.selectedType,label:"Types",items:t,onChange:function(t){e.onTypeChange(t.target.value)}})}},{key:"doSubmit",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c,s,o,i=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state,a=t.clusterId,n=t.connectId,r=t.formData,c={clusterId:a,connectId:n,name:r.subject},s={},Object.keys(r).forEach((function(e){"subject"!==e&&"transformsprops"!==e&&"type"!==e&&"name"!==e&&""!==r[e]?s["".concat(e)]=r[e]:"type"===e&&(s["connector.class"]=r[e])})),o=JSON.parse(r.transformsprops),Object.keys(o).forEach((function(e){s[e]=o[e]})),c.configs=s,this.postApi(Object(m.t)(a,n),c).then((function(){i.props.history.push({pathname:"/ui/".concat(a,"/connect/").concat(n)}),k.b.success("".concat("Connection '".concat(r.subject,"' was created successfully")))}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.formData,n=t.selectedType,c=this.props.history;return r.a.createElement("div",null,r.a.createElement("form",{encType:"multipart/form-data",className:"khq-form khq-form-config",onSubmit:function(t){t.preventDefault(),e.doSubmit()}},r.a.createElement(C,{title:"Create a definition",history:c}),this.renderDropdown(),n.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Name"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{className:"form-control",name:"subject",id:"name",value:a.subject,onChange:function(t){var a=t.currentTarget,n=e.state.formData,r=Object(y.a)({},e.state.errors),c=e.validateProperty(a);c?r[a.name]=c:delete r[a.name],n.subject=a.value,e.setState({formData:n})},placeholder:"Subject"}))),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-bordered table-striped mb-0 khq-form-config"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Name"),r.a.createElement("th",null,"Value"))),r.a.createElement("tbody",null,this.state.display))),r.a.createElement("div",{className:"khq-submit button-footer",style:{marginRight:0}},r.a.createElement("aside",null,r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:this.validate()},"Create"))))))}}]),a}(T.a)),_e=Object(v.g)(Le),Pe=(a(150),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={clusterId:e.props.clusterId||e.props.match.params.clusterId,connectId:e.props.connectId||e.props.match.params.connectId,definitionId:e.props.definitionId||e.props.match.params.clusterId,definition:{},definitionModifyMessage:"",definitionModifyData:{},tableData:[],showActionModal:!1,actionMessage:"",roles:JSON.parse(sessionStorage.getItem("roles")),loading:!0},e.definitionState={PAUSE:"PAUSE",RESUME:"RESUME",RESTART:"RESTART",RESTART_TASK:"RESTART_TASK"},e.modifyDefinitionState=function(){var t=e.state.definitionId,a=e.state.definitionModifyData,n=a.uri,r=a.action,c=a.taskId;e.getApi(n).then((function(){return e.getDefinition()})).then((function(){k.b.success("".concat(void 0!==c?"Definition '".concat(t,"' tasks ").concat(c," is restarted"):"Definition '".concat(t,"' is ").concat(r))),e.closeActionModal()}))},e.showActionModal=function(t){e.setState({showActionModal:!0,definitionModifyMessage:t})},e.closeActionModal=function(){e.setState({showActionModal:!1,definitionModifyMessage:"",definitionModifyData:{}})},e.handleAction=function(t,a){var n=e.state,c=n.clusterId,s=n.connectId,o=n.definitionId,i="",l="",u="";switch(t){case"PAUSE":i=Object(m.L)(c,s,o),l="paused",u="pause";break;case"RESUME":i=Object(m.P)(c,s,o),l="resumed",u="resume";break;case"RESTART":i=Object(m.N)(c,s,o),l="restarted",u="restart";break;case"RESTART_TASK":i=Object(m.O)(c,s,o,a),l="restarted",u="restart";break;default:i=Object(m.P)(c,s,o),l="resumed",u="resume"}var d={uri:i,action:l,failedAction:u};void 0!==a&&(d.taskId=a),e.setState({definitionModifyData:d},(function(){e.showActionModal(void 0!==a?r.a.createElement(r.a.Fragment,null,"Do you want to restart task:"," ",r.a.createElement("code",null,a," from ",e.state.definitionId)," ","?"):r.a.createElement(r.a.Fragment,null,"Do you want to ",u," definition: ",r.a.createElement("code",null,e.state.definitionId)," ?"))}))},e.renderTask=function(e){var t="btn btn-sm mb-1 btn-";switch(e){case"RUNNING":t+="success";break;case"FAILED":t+="danger";break;default:t+="warning"}return r.a.createElement("span",{className:"btn btn-sm mb-1 ".concat(t)},e)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getDefinition()}},{key:"handleTasks",value:function(){var e=this.state.definition.tasks||[],t=[];e.forEach((function(e){t.push({id:JSON.stringify(e.id),worker:e.workerId,state:e.state,trace:e.trace})})),this.setState({tableData:t,loading:!1})}},{key:"getDefinition",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c,s=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},a=this.state,n=a.clusterId,r=a.connectId,c=a.definitionId,this.setState({loading:!0}),e.next=5,this.getApi(Object(m.A)(n,r,c));case 5:t=e.sent,this.setState({definition:t.data},(function(){return s.handleTasks()}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.tableData,n=t.definition,c=t.loading,s=this.state.roles||{};return r.a.createElement("div",{className:"tab-pane active",role:"tabpanel"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement(E.a,{loading:c,history:this.props.history,columns:[{id:"id",name:"id",accessor:"id",colName:"Id",type:"text",sortable:!0},{id:"worker",name:"worker",accessor:"worker",colName:"Worker",type:"text",sortable:!0},{id:"state",name:"state",accessor:"state",colName:"State",type:"text",cell:function(t,a){return e.renderTask(t[a.accessor])}},{id:"trace",name:"trace",accessor:"trace",colName:"Trace",type:"text",extraRow:!0,extraRowContent:function(e,t){return r.a.createElement(U.a,{mode:"text",id:"value"+t,theme:"merbivore_soft",value:e.trace,readOnly:!0,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},style:{width:"100%",minHeight:"25vh"}})},cell:function(e){return e.trace?r.a.createElement("pre",{className:"mb-0 khq-data-highlight"},r.a.createElement("code",null,e.trace)):null}}],extraRow:!0,noStripes:!0,data:a,updateData:function(t){e.setState({tableData:t})},actions:s.connect&&s.connect["connect/state/update"]&&[H.o.TABLE_RESTART],onRestart:function(t){e.handleAction(e.definitionState.RESTART_TASK,t.id)}})),s.connect&&s.connect["connect/state/update"]&&r.a.createElement("aside",null,n.paused?r.a.createElement("li",{className:"aside-button"},r.a.createElement("div",{className:"btn btn-primary mr-2",onClick:function(){return e.handleAction(e.definitionState.RESUME)}},r.a.createElement("i",{className:"fa fa-play","aria-hidden":"true"})," Resume Definition")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"aside-button"},r.a.createElement("div",{type:"pause",className:"btn btn-primary mr-2",onClick:function(){return e.handleAction(e.definitionState.PAUSE)}},r.a.createElement("i",{className:"fa fa-pause","aria-hidden":"true"})," Pause Definition")),r.a.createElement("li",{className:"aside-button"},r.a.createElement("div",{className:"btn btn-primary mr-2",onClick:function(){return e.handleAction(e.definitionState.RESTART)}},r.a.createElement("i",{className:"fa fa-refresh","aria-hidden":"true"})," Restart Definition")))),r.a.createElement(Ae.a,{show:this.state.showActionModal,handleCancel:this.closeActionModal,handleConfirm:this.modifyDefinitionState,message:this.state.definitionModifyMessage}))}}]),a}(T.a)),Re=(a(741),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={clusterId:e.props.match.params.clusterId,connectId:e.props.match.params.connectId,definitionId:e.props.match.params.definitionId,formData:{},errors:{},configs:{},plugin:{},config:{},selectedType:"",display:"",roles:JSON.parse(sessionStorage.getItem("roles"))},e.schema={},e.handleSchema=function(t){e.schema={};var a=Object(y.a)({},e.state).formData;a.type=e.getConfigValue("connector.class"),e.schema.type=j.a.string().required(),a.name=e.getConfigValue("name"),e.schema.name=j.a.string().required(),t.forEach((function(t){a[t.name]=e.getConfigValue(t.name),e.schema[t.name]=e.handleDefinition(t),"transforms"===t.name&&(a.transformsprops=e.getTransformAdditionalProperties()||"{}",e.schema.transformsprops=j.a.object().required())})),e.setState({formData:a})},e.getConfigValue=function(t){var a=e.state.configs,n=Object.keys(a).find((function(e){return e===t}));return n?a[n]:""},e.handleDefinition=function(e){var t="";if(e.required)switch(e.type){case H.o.TYPES.LONG:case H.o.TYPES.INT:case H.o.TYPES.DOUBLE:case H.o.TYPES.SHORT:t=j.a.number().required();break;case H.o.TYPES.PASSWORD:t=j.a.string().required();break;case H.o.TYPES.BOOLEAN:t=j.a.boolean().required();break;default:t=j.a.string().required()}else switch(e.type){case H.o.TYPES.LONG:case H.o.TYPES.INT:case H.o.TYPES.DOUBLE:case H.o.TYPES.SHORT:t=j.a.number().allow("");break;case H.o.TYPES.BOOLEAN:t=j.a.boolean().allow("");break;default:t=j.a.string().allow("")}return t},e.handleData=function(){var t=e.state.plugin,a="",n=[],r=[];L()(t.definitions).filter((function(e){return"name"!==e.name&&"connector.class"!==e.name})).value().forEach((function(t){t.group!==a?""===a?(a=t.group,n=[t]):(r.push(e.handleGroup(n)),n=[t],a=t.group):n.push(t)})),r.push(e.handleGroup(n)),e.setState({display:r})},e.renderForm=function(){var t=e.state.plugin;e.handleSchema(t.definitions),e.handleData()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getConfigs()}},{key:"getConfigs",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c,s=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.connectId,n=t.clusterId,r=t.definitionId,c=[],e.next=4,this.getApi(Object(m.g)(n,a,r));case 4:c=e.sent,this.setState({configs:c.data},(function(){var e=s.state.configs["connector.class"];s.getPlugin(e)}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPlugin",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r,c,s=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state,n=a.connectId,r=a.clusterId,c={},e.next=4,this.getApi(Object(m.i)(r,n,t));case 4:c=e.sent,this.setState({plugin:c.data},(function(){s.renderForm()}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransformAdditionalProperties",value:function(){var e=this.state.configs,t=Object.keys(e).filter((function(e){return e.startsWith("transforms.")})).reduce((function(t,a){return t[a]=e[a],t}),{});return JSON.stringify(t,null,2)}},{key:"renderTableRows",value:function(e){var t=this,a="",n=this.state.formData,c=[],s=this.state.roles||{},o=this.validateProperty({name:e.name,value:n[e.name]});switch(o&&(c[e.name]=o),e.importance){case"HIGH":a=r.a.createElement("span",null,e.displayName," ",r.a.createElement("i",{className:"fa fa-exclamation text-danger",style:{marginleft:"2%"},"aria-hidden":"true"}));break;case"MEDIUM":a=r.a.createElement("span",null,e.displayName," ",r.a.createElement("i",{className:"fa fa-info text-warning",style:{marginleft:"2%"},"aria-hidden":"true"}));break;default:a=r.a.createElement("span",null,e.displayName)}var i=r.a.createElement("code",null,e.name),l={};l=e.required?r.a.createElement("code",{style:{color:"red"}},"Required"):r.a.createElement(r.a.Fragment,null);var u=r.a.createElement("small",{className:"form-text text-muted"},e.documentation);return r.a.createElement(r.a.Fragment,{key:e.name},r.a.createElement("td",null,a,r.a.createElement("br",null),i,r.a.createElement("br",null),l,r.a.createElement("br",null),u),r.a.createElement("td",null,r.a.createElement("input",{type:"text",className:"form-control",value:n[e.name],name:e.name,disabled:"name"===e.name||"connector.class"===e.name||!(s.connect&&s.connect["connect/update"]),placeholder:e.defaultValue>0?e.defaultValue:"",onChange:function(a){var n=a.currentTarget,r=t.state.formData;r[e.name]=n.value,t.handleData(),t.setState({formData:r})}},n[e.required]),c[e.name]&&r.a.createElement("div",{id:"input-error",className:"alert alert-danger mt-1 p-1"},c[e.name]),r.a.createElement("small",{className:"humanize form-text text-muted"})))}},{key:"handleGroup",value:function(e){var t=this,a=this.state.formData,n=[r.a.createElement("tr",{className:"bg-primary"},r.a.createElement("td",{colSpan:"3"},e[0].group))];return e.forEach((function(e){var c=t.renderTableRows(e),s=[],o=t.state.roles||{};if(n.push(r.a.createElement("tr",null,c)),"transforms"===e.name){var i=t.validateProperty({name:"transformsprops",value:a.transformsprops});i&&(s.transformsprops=i);var l=r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,r.a.createElement("code",null,"Transforms additional properties"),r.a.createElement("small",{className:"form-text text-muted"},'Json object to be added to configurations. example:\n                  {\n                      "transforms.createKey.type":"org.apache.kafka.connect.transforms.ValueToKey",\n                      "transforms.createKey.fields":"c1",\n                      "transforms.extractInt.type":"org.apache.kafka.connect.transforms.ExtractField$Key",\n                      "transforms.extractInt.field":"c1"\n                  }')),r.a.createElement("td",null,r.a.createElement(U.a,{mode:"json",id:"transformsprops",theme:"merbivore_soft",value:a.transformsprops,onChange:function(e){var a=t.state.formData,n=Object(y.a)({},t.state.errors),r=t.validateProperty({name:"transformsprops",value:e});r?n.transformsprops=r:delete n.transformsprops,a.transformsprops=e,t.handleData(),t.setState({formData:a})},name:"UNIQUE_ID_OF_DIV",readOnly:!(o.connect&&o.connect["connect/update"]),editorProps:{$blockScrolling:!0},style:{width:"100%",minHeight:"25vh"}}),s.transformsprops&&r.a.createElement("div",{id:"input-error",className:"alert alert-danger mt-1 p-1"},s.transformsprops)));n.push(l)}})),n}},{key:"doSubmit",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c,s,o,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.clusterId,n=t.connectId,r=t.definitionId,c=t.formData,s={name:c.name},o={},Object.keys(c).forEach((function(e){"subject"!==e&&"transformsprops"!==e&&"type"!==e&&"name"!==e&&""!==c[e]?o["".concat(e)]=c[e]:"type"===e&&(o["connector.class"]=c[e])})),i=JSON.parse(c.transformsprops),Object.keys(i).forEach((function(e){o[e]=i[e]})),s.configs=o,l=this.props.history,e.next=10,this.postApi(Object(m.nb)(a,n,r),s);case 10:l.push({pathname:"/ui/".concat(a,"/connect/").concat(n)}),k.b.success("".concat("Definition '".concat(c.name,"' is updated")));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.plugin,n=t.display,c=this.state.formData.name,s=this.state.roles||{};return r.a.createElement("div",null,r.a.createElement("form",{encType:"multipart/form-data",className:"khq-form khq-form-config",onSubmit:function(t){return e.handleSubmit(t)}},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Type"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("select",{disabled:!0,className:"form-control",name:"type",id:"type"},r.a.createElement("option",null,a.shortClassName)))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Name"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{className:"form-control",name:"name",id:"name",value:c,disabled:!0,placeholder:"Subject"}))),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-bordered table-striped mb-0 khq-form-config"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Name"),r.a.createElement("th",null,"Value"))),r.a.createElement("tbody",null,n))),s.connect&&s.connect["connect/update"]&&r.a.createElement("div",{style:{left:0,width:"100%"},className:"khq-submit"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",style:{marginRight:"2%"},disabled:this.validate()},"Update")))))}}]),a}(q)),Ve=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={clusterId:e.props.history.clusterId||e.props.match.params.clusterId,connectId:e.props.history.connectId||e.props.match.params.connectId,definitionId:e.props.history.definitionId||e.props.match.params.definitionId,selectedTab:"tasks"},e.tabs=["tasks","configs"],e.tabClassName=function(t){return e.state.selectedTab===t?"nav-link active":"nav-link"},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,a=t.clusterId,n=t.connectId,r=t.definitionId,c=Object($.c)(this.props,this.tabs);this.setState({selectedTab:c||"tasks"},(function(){e.props.history.replace("/ui/".concat(a,"/connect/").concat(n,"/definition/").concat(r,"/").concat(e.state.selectedTab))}))}},{key:"componentDidUpdate",value:function(e,t){if(this.props.location.pathname!==e.location.pathname){var a=Object($.c)(this.props,this.tabs);this.setState({selectedTab:a})}}},{key:"renderSelectedTab",value:function(){var e=this.state,t=e.clusterId,a=e.connectId,n=e.definitionId,c=e.selectedTab,s=this.props,o=s.history,i=s.match;switch(c){case"tasks":return r.a.createElement(Pe,{clusterId:t,connectId:a,definitionId:n,history:o,match:i});case"configs":return r.a.createElement(Re,{clusterId:t,connectId:a,definitionId:n,history:o,match:i});default:return r.a.createElement(Pe,{clusterId:t,connectId:a,definitionId:n,history:o,match:i})}}},{key:"render",value:function(){var e=this.state,t=e.clusterId,a=e.connectId,n=e.definitionId;return r.a.createElement("div",null,r.a.createElement(C,{title:"Connect: ".concat(n),history:this.props.history}),r.a.createElement("div",{className:"tabs-container"},r.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(t,"/connect/").concat(a,"/definition/").concat(n,"/tasks"),className:this.tabClassName("tasks")},"Tasks")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(t,"/connect/").concat(a,"/definition/").concat(n,"/configs"),className:this.tabClassName("configs")},"Configs"))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{className:"tab-pane active",role:"tabpanel"},this.renderSelectedTab()))))}}]),a}(n.Component),Fe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={formData:{name:"",partition:1,replication:1,cleanup:"delete",retention:864e5},errors:{}},e.schema={name:j.a.string().required().label("Name"),partition:j.a.number().min(1).label("Partition").required(),replication:j.a.number().min(1).label("Replication").required(),cleanup:j.a.string().required(),retention:j.a.number().label("Retention")},e.onCleanupChange=function(t){var a=Object(y.a)({},e.state).formData;a.cleanup=t,e.setState({formData:a})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getTopicDefaultConf()}},{key:"getTopicDefaultConf",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(y.a)({},this.state),a=t.formData,e.next=3,this.getApi(Object(m.X)());case 3:n=e.sent,a.retention=n.data.retention,a.partition=n.data.partition,a.replication=n.data.replication,this.setState({formData:a});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"doSubmit",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.formData,a=this.props.match.params.clusterId,n={cluster:a,name:t.name,partition:t.partition,replication:t.replication,configs:{"cleanup.policy":"deleteAndCompact"===t.cleanup?"":t.cleanup,"retention.ms":t.retention}},this.postApi(Object(m.db)(a),n).then((function(){r.props.history.push({pathname:"/ui/".concat(a,"/topic")}),k.b.success("Topic '".concat(t.name,"' is created"))}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{encType:"multipart/form-data",className:"khq-form khq-form-config",onSubmit:function(){return e.doSubmit()}},r.a.createElement(w,{title:"Create a topic",history:this.props.history}),this.renderInput("name","Name","Name"),this.renderInput("partition","Partition","Partition","number"),this.renderInput("replication","Replicator Factor","Replicator Factor","number"),this.renderRadioGroup("cleanup","Cleanup Policy",["Delete","Compact","Delete and Compact"],this.onCleanupChange),this.renderInput("retention","Retention","Retention","number"),this.renderButton("Create",(function(){e.doSubmit()}),void 0,"button")))}}]),a}(q),Ge=Object(v.g)(Fe),Ue=a(58),Be=a(47),qe=a(34),He=a.n(qe),Je=a(774),Ke=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={partitions:[],nHeaders:1,formData:{partition:"",key:"",hKey0:"",hValue0:"",value:"",keyValueSeparator:":"},datetime:new Date,openDateModal:!1,errors:{},selectableValueFormats:[{_id:"string",name:"string"},{_id:"json",name:"json"}],keySchema:[],keySchemaSearchValue:"",selectedKeySchema:"",valueSchema:[],valueSchemaSearchValue:"",selectedValueSchema:"",clusterId:"",topicId:"",topics:[],topicsSearchValue:"",multiMessage:!1,tombstone:!1,valuePlaceholder:'{"param": "value"}'},e.schema={partition:j.a.number().allow(null).label("Partition"),key:j.a.string().allow("").label("Key"),hKey0:j.a.string().allow("").label("hKey0"),hValue0:j.a.string().allow("").label("hValue0"),value:j.a.string().allow("").label("Value"),keyValueSeparator:j.a.string().min(1).label("keyValueSeparator")},e.renderResults=function(t,a,n,c){return r.a.createElement("div",{style:{maxHeight:"678px",overflowY:"auto",minHeight:"89px"}},r.a.createElement("ul",{className:"dropdown-menu inner show",role:"presentation",style:{marginTop:"0px",marginBottom:"0px"}},t.filter((function(e){return a.length>0?e.includes(a):t})).map((function(t,a){var s=n===t?"selected":"";return r.a.createElement("li",null,r.a.createElement(Je.a,{title:n===t&&"topicId"!==c?"Click to unselect option":"Click to select option"},r.a.createElement("div",{onClick:function(a){"key"===c?n===t?e.setState({selectedKeySchema:""}):e.setState({selectedKeySchema:t}):"value"===c?n===t?e.setState({selectedValueSchema:""}):e.setState({selectedValueSchema:t}):"topicId"===c&&n!==t&&(e.setState({topicId:t}),e.getPreferredSchemaForTopic())},role:"option",className:"dropdown-item ".concat(s),id:"bs-select-".concat(a,"-0"),"aria-selected":"false"},r.a.createElement("span",{className:"text"},t))))})))," ")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params,a=t.clusterId,n=t.topicId,e.next=3,this.getApi(Object(m.jb)(a,n));case 3:return r=e.sent,(c=r.data.map((function(e){return{name:e.id,_id:Number(e.id)}}))).unshift({name:"auto assign",_id:null}),this.setState({partitions:c,topicId:n,formData:Object(y.a)(Object(y.a)({},this.state.formData),{},{partition:c[0]._id})}),e.next=9,this.getPreferredSchemaForTopic();case 9:if(s=Object(Be.b)(),!Object.keys(s).length){e.next=13;break}return e.next=13,this.initByTopicEvent(s);case 13:this.setState({clusterId:a,topicId:n}),this.initAvailableTopics();case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initAvailableTopics",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params.clusterId,a=[],n=0,r={};case 4:return n+=1,e.next=7,this.getApi(Object(m.Z)(t,"","",n)).then((function(e){return e.data}));case 7:(r=e.sent).results.forEach((function(e){return a.push(e.name)}));case 9:if(n<r.pages){e.next=4;break}case 10:this.setState({topics:a});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPreferredSchemaForTopic",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.clusterId,e.next=3,this.getApi(Object(m.M)(t,this.state.topicId));case 3:a=e.sent,n=[],r=[],a.data&&a.data.key&&a.data.key.map((function(e){return n.push(e)})),a.data&&a.data.value&&a.data.value.map((function(e){return r.push(e)})),this.setState({keySchema:n,valueSchema:r});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initByTopicEvent",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r,c,s,o,i=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.header,n=t.keySchemaId,r=t.valueSchemaId,c=Object(_.a)(t,["header","keySchemaId","valueSchemaId"]),s=this.state.keySchema.find((function(e){return e.id===n})),o=this.state.valueSchema.find((function(e){return e.id===r})),this.setState({formData:Object(y.a)(Object(y.a)({},this.state.formData),c),selectedKeySchema:s?s.subject:"",selectedValueSchema:o?o.subject:"",nHeaders:Object.keys(a).length?0:1}),Object.entries(a).forEach((function(e){var t=Object(Ue.a)(e,2),a=t[0],n=t[1];return i.handlePlus(a,n)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"doSubmit",value:function(){var e,t=this,a=this.state,n=a.formData,r=a.topicId,c=a.datetime,s=a.selectedKeySchema,o=a.selectedValueSchema,i=a.keySchema,l=a.valueSchema,u=a.multiMessage,d=a.tombstone,p=this.props.match.params.clusterId,h=i.find((function(e){return e.subject===s})),f=l.find((function(e){return e.subject===o}));e=d?null:u?n.value:JSON.parse(JSON.stringify(n.value));var g={clusterId:p,topicId:r,topics:[r],partition:n.partition,key:n.key,timestamp:c.toISOString(),value:e,keySchema:h?h.id:"",valueSchema:f?f.id:"",multiMessage:u,keyValueSeparator:n.keyValueSeparator},b={};Object.keys(n).forEach((function(e){if(e.includes("hKey")){var t=e.replace(/\D/g,"");b[n[e]]=n["hValue".concat(t)]}})),g.headers=b,this.postApi(Object(m.kb)(p,r),g).then((function(){t.props.history.push({pathname:"/ui/".concat(p,"/topic/").concat(r)}),k.b.success("Produced to ".concat(r,"."))}))}},{key:"renderMultiMessage",value:function(e){var t=this,a=this.state,n=a.formData,c=a.multiMessage;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Multi message"),r.a.createElement("div",{className:"row khq-multiple col-sm-7"},this.renderCheckbox("isMultiMessage","",c,(function(){t.setState({multiMessage:!c,valuePlaceholder:t.getPlaceholderValue(!c,n.keyValueSeparator)})}),!1,{disabled:e}),r.a.createElement("label",{className:"col-auto col-form-label"},"Separator"),r.a.createElement("input",{type:"text",name:"keyValueSeparator",id:"keyValueSeparator",placeholder:":",className:"col-sm-2 form-control",disabled:!c,onChange:function(e){t.setState({formData:Object(y.a)(Object(y.a)({},n),{},{keyValueSeparator:e.target.value}),valuePlaceholder:t.getPlaceholderValue(!c,e.target.value)})}})))}},{key:"renderTombstone",value:function(e){var t=this,a=this.state.tombstone;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Tombstone"),r.a.createElement("div",{className:"row khq-multiple col-sm-7"},this.renderCheckbox("isTombstone","",a,(function(){t.setState({tombstone:!a})}),!1,{disabled:e})))}},{key:"getPlaceholderValue",value:function(e,t){return e?"key1"+t+'{"param": "value1"}\nkey2'+t+'{"param": "value2"}':'{"param": "value"}'}},{key:"renderHeaders",value:function(){var e=this,t=[];return Object.keys(this.state.formData).forEach((function(a){if(a.includes("hKey")){var n=a.replace(/\D/g,"");t.push(e.renderHeader(Number(n)))}})),r.a.createElement("div",{"data-testId":"headers"},t.map((function(e){return e})))}},{key:"renderHeader",value:function(e){var t=this;return r.a.createElement("div",{className:"row header-wrapper"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},0===e?"Header":""),r.a.createElement("div",{className:"row col-sm-10 khq-multiple"},r.a.createElement("div",null,this.renderInput("hKey".concat(e),"","Key","text",void 0,!0,"col-sm-6","input-class"),this.renderInput("hValue".concat(e),"","Value","text",void 0,!0,"col-sm-6","input-class")),r.a.createElement("div",{className:"add-button"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-testId":"button_".concat(e),onClick:function(){0===e?t.handlePlus():t.handleRemove(e)}},r.a.createElement("i",{className:"fa ".concat(0===e?"fa-plus":"fa-trash")})))))}},{key:"handlePlus",value:function(e,t){var a,n,r=this.state,c=r.formData,s=r.nHeaders,o=Object(y.a)(Object(y.a)({},c),{},(a={},Object(x.a)(a,"hKey".concat(s),e||""),Object(x.a)(a,"hValue".concat(s),t||""),a));this.schema=Object(y.a)(Object(y.a)({},this.schema),{},(n={},Object(x.a)(n,"hKey".concat(s),j.a.string().min(1).label("hKey".concat(s))),Object(x.a)(n,"hValue".concat(s),j.a.string().min(1).label("hValue".concat(s))),n)),this.setState({nHeaders:this.state.nHeaders+1,formData:o})}},{key:"handleRemove",value:function(e){var t=Object(y.a)({},this.state);delete t.formData["hKey".concat(e)],delete t.formData["hValue".concat(e)],this.setState(t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.topicId,n=t.topics,c=t.topicsSearchValue,s=t.formData,o=t.partitions,i=t.datetime,l=t.keySchema,u=t.keySchemaSearchValue,d=t.selectedKeySchema,m=t.valueSchema,p=t.valueSchemaSearchValue,h=t.selectedValueSchema,f=t.multiMessage,g=t.tombstone,b=He()(i);return r.a.createElement("div",null,r.a.createElement("form",{encType:"multipart/form-data",className:"khq-form khq-form-config"},r.a.createElement(w,{title:"Produce to ".concat(a," ")}),this.renderDropdown("Topic",n,c,a,(function(t){e.setState({topicsSearchValue:t.target.value})}),this.renderResults(n,c,a,"topicId")),this.renderSelect("partition","Partition",o,(function(t){e.setState({formData:Object(y.a)(Object(y.a)({},s),{},{partition:t.target.value})})}),"col-sm-10"),this.renderDropdown("Key schema",l.map((function(e){return e.subject})),u,d,(function(t){e.setState({keySchemaSearchValue:t.target.value,selectedKeySchema:t.target.value})}),this.renderResults(l.map((function(e){return e.subject})),u,d,"key")),this.renderInput("key","Key","Key","Key",void 0,void 0,void 0,void 0,{disabled:f}),this.renderHeaders(),this.renderDropdown("Value schema",m.map((function(e){return e.subject})),p,h,(function(t){e.setState({valueSchemaSearchValue:t.target.value,selectedValueSchema:t.target.value})}),this.renderResults(m.map((function(e){return e.subject})),p,h,"value")),this.renderMultiMessage(g),this.renderTombstone(f),this.renderJSONInput("value","Value",(function(t){e.setState({formData:Object(y.a)(Object(y.a)({},s),{},{value:t})})}),f,{placeholder:this.getPlaceholderValue(f,s.keyValueSeparator)},{readOnly:g}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",padding:0}},r.a.createElement("label",{style:{padding:0,alignItems:"center",display:"flex"},className:"col-sm-2 col-form-label"},"Timestamp"),r.a.createElement(B.a,{style:{width:"100%",padding:0,margin:0}},r.a.createElement(B.a.Toggle,{style:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",padding:0,margin:0},className:"nav-link dropdown-toggle"},r.a.createElement("input",{className:"form-control",value:""!==i&&" "+Object(N.c)({year:b.year(),monthValue:b.month(),dayOfMonth:b.date(),hour:b.hour(),minute:b.minute(),second:b.second()},"DD-MM-YYYY HH:mm"),placeholder:""!==i&&" "+Object(N.c)({year:b.year(),monthValue:b.month(),dayOfMonth:b.date(),hour:b.hour(),minute:b.minute(),second:b.second()},"DD-MM-YYYY HH:mm")})),r.a.createElement(B.a.Menu,null,r.a.createElement("div",{className:"input-group"},r.a.createElement(F.a,{showDateTimeInput:!0,showTimeInput:!0,value:i,onChange:function(t){e.setState({datetime:t})}}))))),this.renderButton("Produce",(function(){e.doSubmit()}),void 0,"button")))}}]),a}(q),ze=(a(742),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={clusterId:"",topicId:"",clusters:[],topics:[],selectedTopic:void 0,checked:{},formData:{},errors:{},loading:!0},e.schema={},e.setupInitialData=function(t,a){var n=e.state,r=n.formData,c=n.checked,s=[e.getApi(Object(m.f)()),e.getApi(Object(m.hb)(t)),e.getApi(Object(m.fb)(t,a))];Promise.all(s).then((function(t){t[2].data.partitions.forEach((function(t){var a="partition-".concat(t.id),n="check-".concat(a);e.schema[a]=j.a.number().min(t.firstOffset||0).max(t.lastOffset||0).required().label("Partition ".concat(t.id," offset")),r[a]=t.firstOffset||"0",c[n]=!0})),e.setState({formData:r,checked:c,selectedTopic:t[2].data,clusters:Object(N.g)(t[0].data,"id","id"),topics:Object(N.h)(t[1].data),loading:!1})})).catch((function(e){console.error("Error:",e)}))},e.getTopics=function(t){e.getApi(Object(m.hb)(t)).then((function(t){e.setState({topics:Object(N.h)(t.data),loading:!1})})).catch((function(e){console.error("Error:",e)}))},e.handleOnChangeTopic=function(){var t=e.state.formData;e.getApi(Object(m.fb)(t.clusterListView,t.topicListView)).then((function(t){e.setState({selectedTopic:t.data,loading:!1})})).catch((function(e){console.error("Error:",e)}))},e.createSubmitBody=function(e,t){var a=[],n=[],r="",c=[];return Object.keys(t).forEach((function(e){n=e.split("-"),r=n.pop(),c[r]=t[e]})),Object.keys(e).filter((function(e){return e.startsWith("partition")})).forEach((function(t){n=t.split("-"),r=n.pop(),!0===c[r]&&a.push({partition:r,offset:e[t]})})),a},e.checkedTopicOffset=function(t){var a=e.state.checked;a[t.target.value]=t.target.checked,e.setState({checked:a})},e.renderTopicPartition=function(){var t=e.state.selectedTopic,a=[];return t&&a.push(r.a.createElement("fieldset",{id:"fieldset-".concat(t.name),key:t.name},r.a.createElement("legend",{id:"legend-".concat(t.name)},"Partitions"),e.renderPartitionInputs(t.partitions))),a},e.renderPartitionInputs=function(t){var a=e.state.checked,n=[];return t.forEach((function(t){var c="partition-".concat(t.id),s="check-".concat(c);n.push(r.a.createElement("div",{className:"form-group row row-checkbox",key:c},r.a.createElement("input",{type:"checkbox",value:s,checked:a[s]||!1,onChange:e.checkedTopicOffset}),r.a.createElement("div",{className:"col-sm-10 partition-input"},r.a.createElement("span",{id:"partition-".concat(t.id,"-input")},e.renderInput(c,"Partition: ".concat(t.id),"Offset","number",void 0,!0,"partition-input-div","partition-input ".concat(c,"-input"))))))})),n},e.unCheckAll=function(t){var a=e.state.checked;Object.keys(a).forEach((function(e){a[e]=t})),e.setState({checked:a})},e.resetToFirstOffsets=function(){var t=e.state,a=t.selectedTopic,n=t.formData;a.partitions.forEach((function(e){var t="partition-".concat(e.id);n[t]=e.firstOffset||"0"})),e.setState({formData:n})},e.resetToLastOffsets=function(){var t=e.state,a=t.selectedTopic,n=t.formData;a.partitions.forEach((function(e){var t="partition-".concat(e.id);n[t]=e.lastOffset||"0"})),e.setState({formData:n})},e.resetToCalculatedOffsets=function(t){var a=t.currentTarget,n=e.state,r=n.selectedTopic,c=n.formData;r.partitions.forEach((function(e){var t="partition-".concat(e.id),n=(e.lastOffset||0)-a.value;c[t]=!n||n<0?"0":n})),c.lastMessagesNr=a.value,e.setState({formData:c})},e.handleOffsetsByTimestamp=function(t){var a=e.state.formData;t.forEach((function(e){var t="partition-".concat(e.partition);a[t]=e.offset||"0"})),e.setState({formData:a})},e.renderResetButton=function(){var t=e.state,a=t.timestamp,n=t.formData,c=e.props.history.location.loading;return r.a.createElement("span",null,r.a.createElement("div",{className:"btn btn-secondary",type:"button",style:{marginRight:"0.5rem"},onClick:function(){return e.unCheckAll(!0)}},"Check all"),r.a.createElement("div",{className:"btn btn-secondary",type:"button",style:{marginRight:"0.5rem"},onClick:function(){return e.unCheckAll(!1)}},"Uncheck all"),r.a.createElement("div",{className:"btn btn-secondary",type:"button",style:{marginRight:"0.5rem"},onClick:function(){return e.resetToFirstOffsets()}},"Reset to first offsets"),r.a.createElement("div",{className:"btn btn-secondary",type:"button",style:{marginRight:"0.5rem"},onClick:function(){return e.resetToLastOffsets()}},"Reset to last offsets"),r.a.createElement("div",{className:"btn btn-secondary",type:"button",style:{marginRight:"0.5rem",padding:0}},r.a.createElement(B.a,null,r.a.createElement(B.a.Toggle,null,"Filter datetime"),!c&&r.a.createElement(B.a.Menu,null,r.a.createElement("div",null,r.a.createElement(F.a,{showTimeInput:!0,showDateTimeInput:!0,value:a,label:"",onChange:function(t){e.setState({timestamp:t},(function(){return e.getTopicOffset()}))}}))))),r.a.createElement("div",{className:"btn btn-secondary",type:"button",style:{marginRight:"0.5rem",padding:0}},r.a.createElement(B.a,null,r.a.createElement(B.a.Toggle,null,"Last x messages per partition"),!c&&r.a.createElement(B.a.Menu,null,r.a.createElement("div",null,r.a.createElement(P,{type:"number",name:"lastMessagesNr",id:"lastMessagesNr",value:n.lastMessagesNr||"",label:"",placeholder:"Last x messages",onChange:e.resetToCalculatedOffsets,noStyle:"",wrapperClass:"input-nr-messages",inputClass:""}))))))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,a=t.clusterId,n=t.topicId;this.schema.clusterListView=j.a.string().required(),this.schema.topicListView=j.a.string().required(),this.schema.lastMessagesNr=j.a.string().allow(""),this.setState({clusterId:a,topicId:n,formData:{clusterListView:a,lastMessagesNr:""}},(function(){e.setupInitialData(a,n)}))}},{key:"doSubmit",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.clusterId,n=t.topicId,r=t.formData,c=t.checked,e.next=3,this.postApi(Object(m.cb)(a,n,r.clusterListView,r.topicListView),this.createSubmitBody(r,c));case 3:s=e.sent,k.b.success("Copied ".concat(s.data.records," records to topic '").concat(r.topicListView,"' successfully."));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTopicOffset",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.clusterId,n=t.topicId,r=t.timestamp,c=He()(r),s=r.toString().length>0?Object(N.c)({year:c.year(),monthValue:c.month(),dayOfMonth:c.date(),hour:c.hour(),minute:c.minute(),second:c.second(),milli:c.millisecond()},"YYYY-MM-DDTHH:mm:ss.SSS")+"Z":"",o={},""===s){e.next=10;break}return e.next=7,this.getApi(Object(m.ib)(a,n,s));case 7:o=(o=e.sent).data,this.handleOffsetsByTimestamp(o);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.clusterId,n=t.topicId,c=t.clusters,s=t.topics;return r.a.createElement("div",null,r.a.createElement(C,{title:"Copy topic ".concat(n," from cluster ").concat(a),history:this.props.history}),r.a.createElement("form",{className:"khq-form khq-copy-topic",onSubmit:function(){return e.handleSubmit()}},this.renderTopicPartition(),r.a.createElement("fieldset",{id:"cluster",key:"cluster"},r.a.createElement("legend",{id:"cluster"},"Target Topic"),this.renderSelect("clusterListView","Cluster",c,(function(t){var a=t.currentTarget,n=e.state.formData;n.clusterListView=a.value,e.setState({formData:n}),e.getTopics(a.value)}),"col-sm-10","select-wrapper select-wrapper-copy",!1,{className:"form-control"}),this.renderSelect("topicListView","Topic",s,(function(t){var a=t.currentTarget,n=e.state.formData;n.topicListView=a.value,e.setState({formData:n})}),"col-sm-10","select-wrapper select-wrapper-copy",!0,{className:"form-control"})),this.renderButton("Copy",this.handleSubmit,void 0,"submit",this.renderResetButton())))}}]),a}(q)),Ye=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={consumerGroups:[],showDeleteModal:!1,selectedCluster:"",deleteMessage:"",groupToDelete:{},deleteData:{},pageNumber:1,totalPageNumber:1,history:e.props,search:"",roles:JSON.parse(sessionStorage.getItem("roles")),loading:!0},e.handleSearch=function(t){e.setState({pageNumber:1,search:t.searchData.search},(function(){e.getConsumerGroup()}))},e.handlePageChangeSubmission=function(t){var a=Z(t,e.state.totalPageNumber);e.setState({pageNumber:a},(function(){e.getConsumerGroup()}))},e.showDeleteModal=function(t){e.setState({showDeleteModal:!0,deleteMessage:t})},e.closeDeleteModal=function(){e.setState({showDeleteModal:!1,deleteMessage:""})},e.deleteConsumerGroup=function(){var t=e.state,a=t.selectedCluster,n=t.groupToDelete;e.removeApi(Object(m.n)(a,encodeURIComponent(n.id))).then((function(){k.b.success("Consumer Group '".concat(n.id,"' is deleted")),e.setState({showDeleteModal:!1,groupToDelete:{}},(function(){return e.getConsumerGroup()}))})).catch((function(){e.setState({showDeleteModal:!1,groupToDelete:{}})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.clusterId,a=this.state,n=a.search,r=a.pageNumber,c=new URLSearchParams(this.props.location.search);this.setState({selectedCluster:t,search:c.get("search")?c.get("search"):n,pageNumber:c.get("page")?parseInt(c.get("page")):parseInt(r)},(function(){e.getConsumerGroup()}))}},{key:"getConsumerGroup",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c,s=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedCluster,n=t.pageNumber,r=t.search,this.setState({loading:!0}),e.next=4,this.getApi(Object(m.s)(a,r,n));case 4:(c=(c=e.sent).data).results?(this.handleConsumerGroup(c.results),this.setState({selectedCluster:a,totalPageNumber:c.page},(function(){return s.props.history.push({pathname:"/ui/".concat(s.state.selectedCluster,"/group"),search:"search=".concat(s.state.search,"&page=").concat(n)})}))):this.setState({selectedCluster:a,consumerGroups:[],totalPageNumber:1,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleConsumerGroup",value:function(e){var t=[];e.forEach((function(e){t.push({id:e.id,state:e.state,coordinator:e.coordinator.id,members:e.members?e.members.length:0,topics:e.offsets?Object(N.d)(e.offsets):{}})})),this.setState({consumerGroups:t,loading:!1})}},{key:"handleState",value:function(e){var t="";switch(e){case"STABLE":t="badge badge-success";break;case"PREPARING_REBALANCE":t="badge badge-primary";break;default:t="badge badge-warning"}return r.a.createElement("span",{className:t},e.replace("_"," "))}},{key:"handleCoordinator",value:function(e){return r.a.createElement("span",{className:"badge badge-primary"}," ",e)}},{key:"handleTopics",value:function(e,t){var a=this,n=function(e){return e.stopPropagation()};return Object.keys(t).map((function(c){var s=t[c],o=Object(N.a)(s,c);return r.a.createElement(d.b,{to:"/ui/".concat(a.state.selectedCluster,"/topic/").concat(c),key:e+"-"+c,className:"btn btn-dark btn-sm mb-1 mr-1",onClick:n},c+" ",r.a.createElement("div",{className:"badge badge-secondary"},"Lag: ",Number(o).toLocaleString()))}))}},{key:"handleOnDelete",value:function(e){var t=this;this.setState({groupToDelete:e},(function(){t.showDeleteModal(r.a.createElement(r.a.Fragment,null,"Do you want to delete consumer group: ",r.a.createElement("code",null,e.id)," ?"))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedCluster,n=t.search,c=t.pageNumber,s=t.totalPageNumber,o=t.loading,i=this.state.roles||{},l=this.props.history;return r.a.createElement("div",null,r.a.createElement(w,{title:"Consumer Groups",history:l}),r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light mr-auto khq-data-filter khq-sticky khq-nav"},r.a.createElement(K,{showSearch:!0,search:n,showPagination:!0,pagination:c,showTopicListView:!1,showConsumerGroup:!0,groupListView:"ALL",doSubmit:this.handleSearch}),r.a.createElement(z,{pageNumber:c,totalPageNumber:s,onChange:X,onSubmit:this.handlePageChangeSubmission})),r.a.createElement(S,{loading:o,history:this.props.history,columns:[{id:"id",accessor:"id",colName:"Id"},{id:"state",accessor:"state",colName:"State",cell:function(t){return e.handleState(t.state)}},{id:"coordinator",accessor:"coordinator",colName:"Coordinator",cell:function(t){return e.handleCoordinator(t.coordinator)}},{id:"members",accessor:"members",colName:"Members"},{id:"topics",accessor:"topics",colName:"Topics",cell:function(t){if(t.topics)return e.handleTopics(t.id,t.topics)}}],data:this.state.consumerGroups,updateData:function(t){e.setState({consumerGroups:t})},noContent:"No consumer group available",onDelete:function(t){e.handleOnDelete(t)},onDetails:function(e){return"/ui/".concat(a,"/group/").concat(encodeURIComponent(e))},actions:i.group&&i.group["group/delete"]?[H.o.TABLE_DELETE,H.o.TABLE_DETAILS]:[H.o.TABLE_DETAILS]}),r.a.createElement(Y.a,{show:this.state.showDeleteModal,handleCancel:this.closeDeleteModal,handleConfirm:this.deleteConsumerGroup,message:this.state.deleteMessage}))}}]),a}(T.a),We=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:[],selectedCluster:e.props.clusterId,selectedConsumerGroup:e.props.consumerGroupId,loading:!0},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getConsumerGroupTopics()}},{key:"getConsumerGroupTopics",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=this.state,n=a.selectedCluster,r=a.selectedConsumerGroup,e.next=4,this.getApi(Object(m.p)(n,r));case 4:t=(t=e.sent).data,this.handleData(t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleData",value:function(e){var t=e.map((function(e){return{name:e.topic,partition:e.partition,member:e.member?e.member.host:"",offset:e.offset,lag:e.offsetLag}}));this.setState({data:t,loading:!1})}},{key:"handleOptional",value:function(e){return void 0!==e&&""!==e&&"NaN"!==e?r.a.createElement("label",null,e):r.a.createElement("label",null,"-")}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.loading;return r.a.createElement("div",null,r.a.createElement(S,{loading:n,history:this.props.history,columns:[{id:"name",accessor:"name",colName:"Name",type:"text",sortable:!0,cell:function(t,a){return r.a.createElement(d.b,{to:"/ui/".concat(e.state.selectedCluster,"/topic/").concat(t[a.accessor])},t[a.accessor])}},{id:"partition",accessor:"partition",colName:"Partition",type:"text",sortable:!0},{id:"member",accessor:"member",colName:"Member",type:"text",cell:function(t){return e.handleOptional(t.member.host)}},{id:"offset",accessor:"offset",colName:"Offset",type:"text",cell:function(t){return void 0!==t.offset&&""!==t.offset?r.a.createElement(d.b,{to:"/ui/".concat(e.state.selectedCluster,"/topic/").concat(t.name,"/data?sort=Oldest&partition=").concat(t.partition,"&after=").concat(t.partition,"-").concat(t.offset-1)},t.offset):r.a.createElement("label",null,"-")}},{id:"metadata",accessor:"metadata",colName:"Metadata",type:"text",cell:function(t){return e.handleOptional(t.metadata)}},{id:"lag",accessor:"lag",colName:"Lag",type:"text",cell:function(t){return e.handleOptional(Number(t.lag).toLocaleString())}}],data:a,updateData:function(t){e.setState({data:t})}}))}}]),a}(T.a),Qe=(a(743),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:[],selectedCluster:e.props.clusterId,selectedConsumerGroup:e.props.consumerGroupId,loading:!0},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getConsumerGroupMembers()}},{key:"getConsumerGroupMembers",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedCluster,n=t.selectedConsumerGroup,e.next=3,this.getApi(Object(m.o)(a,n));case 3:r=e.sent,this.handleData(r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleData",value:function(e){var t=e.map((function(e){return{clientId:e.clientId,id:e.id,host:e.host,assignments:e.assignments}}));this.setState({data:t,loading:!1})}},{key:"handlePartitions",value:function(e){return e.map((function(e){return r.a.createElement("div",{className:"badge badge-secondary partition"},e)}))}},{key:"handleAssignments",value:function(e){var t=this,a=this.props.history,n=[];return e&&e.forEach((function(e){n.find((function(t){return t===e.topic}))||n.push(e.topic)})),n.map((function(n){var c=[];return e.forEach((function(e){e.topic===n&&c.push(e.partition)})),r.a.createElement("div",{onClick:function(){a.push({pathname:"/ui/".concat(t.state.selectedCluster,"/topic/").concat(n),tab:H.o.TOPIC})}},r.a.createElement(d.b,{to:{pathname:"/ui/".concat(t.state.selectedCluster,"/topic/").concat(n)},key:"topic",className:"btn btn-primary btn-sm mb-1"},n,t.handlePartitions(c)))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.loading;return r.a.createElement("div",null,r.a.createElement(S,{loading:n,history:this.props.history,columns:[{id:"clientId",accessor:"clientId",colName:"ClientId",type:"text",sortable:!0},{id:"id",accessor:"id",colName:"Id",type:"text",sortable:!0},{id:"host",accessor:"host",colName:"Host",type:"text",sortable:!0},{id:"assignments",accessor:"assignments",colName:"Assignments",type:"text",cell:function(t){return e.handleAssignments(t.assignments)}}],data:a,updateData:function(t){e.setState({data:t})}}))}}]),a}(T.a)),$e=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:[],selectedCluster:"",loading:!0},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getAcls()}},{key:"getAcls",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=this.props,n=a.clusterId,r=a.consumerGroupId,e.next=4,this.getApi(Object(m.l)(n,r));case 4:t=e.sent,this.handleData(t.data);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleData",value:function(e){var t=[];return e.map((function(e){return e.acls.forEach((function(e,a){t.push({id:a,group:e.resource.name||"",host:e.host||"",permission:e.operation||""})}))})),this.setState({data:t,loading:!1}),t}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.loading;return r.a.createElement("div",null,r.a.createElement(S,{loading:n,history:this.props.history,columns:[{id:"group",accessor:"group",colName:"Group",type:"text",sortable:!0},{id:"host",accessor:"host",colName:"Host",type:"text",sortable:!0},{id:"permission",accessor:"permission",colName:"Permissions",type:"text",cell:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"badge badge-secondary"},e[t.accessor].permissionType)," ",e[t.accessor].operation)}}],data:a,updateData:function(t){e.setState({data:t})},noContent:r.a.createElement("tr",null,r.a.createElement("td",{colSpan:3},r.a.createElement("div",{className:"alert alert-warning mb-0",role:"alert"},'No ACLS found, or the "authorizer.class.name" parameter is not configured on the cluster.')))}))}}]),a}(T.a),Xe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={clusterId:e.props.match.params.clusterId,consumerGroupId:e.props.match.params.consumerGroupId,consumerGroup:{},selectedTab:"topics",roles:JSON.parse(sessionStorage.getItem("roles"))},e.tabs=["topics","members","acls"],e.tabClassName=function(t){return e.state.selectedTab===t?"nav-link active":"nav-link"},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,a=t.clusterId,n=t.consumerGroupId,r=Object($.c)(this.props,this.tabs);this.setState({selectedTab:r||"topics"},(function(){e.props.history.replace("/ui/".concat(a,"/group/").concat(n,"/").concat(e.state.selectedTab))}))}},{key:"componentDidUpdate",value:function(e,t){if(this.props.location.pathname!==e.location.pathname){var a=Object($.c)(this.props,this.tabs);this.setState({selectedTab:a})}}},{key:"renderSelectedTab",value:function(){var e=this.state.selectedTab,t=this.props.history,a=this.props.match.params,n=a.clusterId,c=a.consumerGroupId;switch(e){case"topics":return r.a.createElement(We,{clusterId:n,consumerGroupId:c,history:t});case"members":return r.a.createElement(Qe,{clusterId:n,consumerGroupId:c,history:t});case"acls":return r.a.createElement($e,{clusterId:n,consumerGroupId:c,history:t});default:return r.a.createElement(We,{clusterId:n,consumerGroupId:c,history:t})}}},{key:"render",value:function(){var e=this.state,t=e.clusterId,a=e.consumerGroupId,n=this.state.roles||{};return r.a.createElement("div",null,r.a.createElement(w,{title:"Consumer Group: ".concat(decodeURIComponent(a)),history:this.props.history}),r.a.createElement("div",{className:"tabs-container"},r.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(t,"/group/").concat(a,"/topics"),className:this.tabClassName("topics")},"Topics")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(t,"/group/").concat(a,"/members"),className:this.tabClassName("members")},"Members")),n.acls&&n.acls["acls/read"]&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(t,"/group/").concat(a,"/acls"),className:this.tabClassName("acls")},"ACLS"))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{className:"tab-pane active",role:"tabpanel"},this.renderSelectedTab()))),n.group&&(n.group["group/offsets/delete"]||n.group["group/offsets/update"])&&r.a.createElement("aside",null,r.a.createElement("li",{className:"aside-button"},n.group["group/offsets/delete"]&&r.a.createElement(d.b,{to:"/ui/".concat(t,"/group/").concat(a,"/offsetsdelete"),className:"btn btn-secondary mr-2"},"Delete Offsets"),n.group["group/offsets/update"]&&r.a.createElement(d.b,{to:"/ui/".concat(t,"/group/").concat(a,"/offsets"),className:"btn btn-primary"},"Update Offsets"))))}}]),a}(n.Component),Ze=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:[],selectedCluster:e.props.clusterId,selectedSchema:e.props.schemaName,schemaVersions:e.props.schemas,deleteMessage:"",schemaToDelete:{},deleteData:{clusterId:"",subject:"",versionId:1},roles:JSON.parse(sessionStorage.getItem("roles")),loading:!0},e.showDeleteModal=function(t){e.setState({showDeleteModal:!0,deleteMessage:t})},e.closeDeleteModal=function(){e.setState({showDeleteModal:!1,deleteMessage:""})},e.deleteSchemaRegistry=function(){var t=e.state,a=t.selectedCluster,n=t.schemaToDelete,r=t.selectedSchema,c=e.props.history,s={clusterId:a,subject:r,versionId:n.version};e.removeApi(Object(m.y)(a,r,n.version),s).then((function(t){k.b.success("Version'".concat(n.version,"' is deleted")),e.setState({showDeleteModal:!1,schemaToDelete:{}}),c.push({pathname:"/ui/".concat(a,"/schema")})})).catch((function(){e.setState({showDeleteModal:!1,schemaToDelete:{}})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.handleData(this.state.schemaVersions)}},{key:"handleData",value:function(e){if(e){var t=e.map((function(e){return{id:e.id,version:e.version,schema:JSON.stringify(JSON.parse(e.schema),null,2)}}));this.setState({data:t,loading:!1})}else this.setState({data:[],loading:!1})}},{key:"handleOnDelete",value:function(e){var t=this;this.setState({schemaToDelete:e},(function(){t.showDeleteModal(r.a.createElement(r.a.Fragment,null,"Do you want to delete version:"," ",r.a.createElement("code",null,e.id," from ",t.state.selectedSchema)," ","?"))}))}},{key:"render",value:function(){var e=this,t=this.state.roles||{},a=this.state.loading;return r.a.createElement("div",null,r.a.createElement(S,{loading:a,history:this.props.history,columns:[{id:"id",accessor:"id",colName:"Id",type:"text",sortable:!0},{id:"version",accessor:"version",colName:"Version",type:"text",sortable:!0,cell:function(e,t){return r.a.createElement("span",{className:"badge badge-primary"},e[t.accessor]||"")}},{id:"schema",name:"schema",accessor:"schema",colName:"Schema",type:"text",extraRow:!0,extraRowContent:function(e,t,a){return r.a.createElement(U.a,{mode:"json",id:"value"+a,theme:"merbivore_soft",value:e[t.accessor],readOnly:!0,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},style:{width:"100%",minHeight:"25vh"}})},cell:function(e,t){return r.a.createElement("pre",{className:"mb-0 khq-data-highlight"},r.a.createElement("code",null,JSON.stringify(JSON.parse(e[t.accessor]))))}}],data:this.state.data,updateData:function(t){e.setState({data:t})},onDelete:function(t){e.handleOnDelete(t)},actions:t.registry&&t.registry["registry/version/delete"]?[H.o.TABLE_DELETE]:[],extraRow:!0,noStripes:!0,onExpand:function(e){return Object.keys(e.headers).map((function(t){return r.a.createElement("tr",{style:{display:"flex",flexDirection:"row",width:"100%"}},r.a.createElement("td",{style:{width:"100%",display:"flex",borderStyle:"dashed",borderWidth:"1px",backgroundColor:"#171819"}},t),r.a.createElement("td",{style:{width:"100%",display:"flex",borderStyle:"dashed",borderWidth:"1px",backgroundColor:"#171819"}},e.headers[t]))}))}}),r.a.createElement(Y.a,{show:this.state.showDeleteModal,handleCancel:this.closeDeleteModal,handleConfirm:this.deleteSchemaRegistry,message:this.state.deleteMessage}))}}]),a}(T.a),et=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={clusterId:"",schemaId:"",compatibilityOptions:[{_id:"NONE",name:"NONE"},{_id:"BACKWARD",name:"BACKWARD"},{_id:"BACKWARD_TRANSITIVE",name:"BACKWARD_TRANSITIVE"},{_id:"FORWARD",name:"FORWARD"},{_id:"FORWARD_TRANSITIVE",name:"FORWARD_TRANSITIVE"},{_id:"FULL",name:"FULL"},{_id:"FULL_TRANSITIVE",name:"FULL_TRANSITIVE"}],formData:{subject:"",compatibility:"",schema:"",schemaType:""},errors:{},roles:JSON.parse(sessionStorage.getItem("roles"))},e.schema={subject:j.a.string().required().label("Subject"),compatibility:j.a.string().required().label("Compatibility Level"),schema:j.a.string().required().label("Latest Schema"),schemaType:j.a.string().label("Schema Type"),references:j.a.any().label("Refecences")},e.handleLatestSchemaVersion=function(t){var a=Object(y.a)({},e.state).formData;a.subject=t.subject,a.compatibility=t.compatibilityLevel,a.schemaType=t.schemaType,a.schema="PROTOBUF"===a.schemaType?t.schema:JSON.stringify(JSON.parse(t.schema),null,2),a.references=t.references,e.setState(a)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.clusterId,a=(this.props||this.props.match.params).schemaId;this.setState({clusterId:t,schemaId:a},(function(){return e.getLatestSchemaVersion(t,a)}))}},{key:"getLatestSchemaVersion",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.clusterId,n=t.schemaId,e.next=3,this.getApi(Object(m.B)(a,n));case 3:(r=(r=e.sent).data)&&this.handleLatestSchemaVersion(r);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"doSubmit",value:function(){var e=this,t=this.state,a=t.clusterId,n=t.formData,r={clusterId:a,subject:n.subject,compatibilityLevel:n.compatibility,schema:n.schema,schemaType:n.schemaType,references:n.references};this.postApi(Object(m.ob)(a,n.subject),r).then((function(){k.b.success("Schema '".concat(n.subject,"' is updated")),e.props.getSchemaVersions(),window.location.reload(!1)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.compatibilityOptions,n=t.roles;return r.a.createElement("form",{encType:"multipart/form-data",className:"khq-form khq-form-config",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("fieldset",null,this.renderInput("subject","Subject","Subject",void 0,void 0,!1,!1,!1,{disabled:!0}),this.renderSelect("compatibility","Compatibility Level",a,(function(t){var a=t.currentTarget,n=Object(y.a)({},e.state).formData;n.compatibility=a.value,e.setState({formData:n})}),"col-sm-10"),this.renderJSONInput("schema","Latest Schema",(function(t){var a=Object(y.a)({},e.state).formData;a.schema=t,e.setState({formData:a})}),"col-sm-10"),n.registry["registry/update"]&&this.renderButton("Update",void 0,void 0,"submit")))}}]),a}(q),tt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={clusterId:e.props.match.params.clusterId,schemaId:e.props.history.schemaId||e.props.match.params.schemaId,selectedTab:"update",totalVersions:0,schemaVersions:[],roles:JSON.parse(sessionStorage.getItem("roles"))},e.tabs=["update","versions"],e.tabClassName=function(t){return e.state.selectedTab===t?"nav-link active":"nav-link"},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getSchemaVersions()}},{key:"componentDidUpdate",value:function(e,t){if(this.props.location.pathname!==e.location.pathname){var a=Object($.c)(this.props,this.tabs);this.setState({selectedTab:a})}}},{key:"getSchemaVersions",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c,s,o=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=this.state,n=a.clusterId,r=a.schemaId,c=a.roles,s=Object($.c)(this.props,this.tabs),c.registry["registry/update"]||"update"!==s||(s="versions"),e.next=6,this.getApi(m.b.uriSchemaVersions(n,r));case 6:t=e.sent,this.setState({schemaVersions:t.data,totalVersions:t.data.length,selectedTab:"versions"===s?s:"update"},(function(){o.props.history.replace("/ui/".concat(n,"/schema/details/").concat(r,"/").concat(o.state.selectedTab))}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderSelectedTab",value:function(){var e=this,t=this.state,a=t.selectedTab,n=t.schemaVersions,c=this.props,s=c.history,o=c.match,i=this.props.match.params.clusterId,l=(this.props.history.state||this.props.match.params).schemaId;switch(a){case"update":return r.a.createElement(et,{getSchemaVersions:function(){e.getSchemaVersions()},schemaId:l,history:s,match:o});case"versions":default:return r.a.createElement(Ze,{schemaName:l,clusterId:i,schemas:n,history:s,match:o})}}},{key:"render",value:function(){var e=this.state,t=e.clusterId,a=e.schemaId,n=e.totalVersions,c=e.roles;return r.a.createElement("div",null,r.a.createElement(w,{title:"Schema: ".concat(a),history:this.props.history}),r.a.createElement("div",{className:"tabs-container"},r.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},c.registry["registry/update"]&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(t,"/schema/details/").concat(a,"/update"),className:this.tabClassName("update")},"Update")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(t,"/schema/details/").concat(a,"/versions"),className:this.tabClassName("versions")},"Versions ",r.a.createElement("span",{className:"badge badge-secondary"},n)))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{className:"tab-pane active",role:"tabpanel"},this.renderSelectedTab()))))}}]),a}(T.a),at=(a(744),a(745),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={schemasRegistry:[],showDeleteModal:!1,selectedCluster:"",deleteMessage:"",schemaToDelete:{},deleteData:{},pageNumber:1,totalPageNumber:1,history:e.props,searchData:{search:""},createSubjectFormData:{subject:"",compatibilityLevel:"",schema:""},roles:JSON.parse(sessionStorage.getItem("roles")),loading:!0},e.handleSearch=function(t){var a=t.searchData;e.setState({pageNumber:1,searchData:a},(function(){e.getSchemaRegistry()}))},e.handlePageChangeSubmission=function(t){var a=parseInt(Z(t,e.state.totalPageNumber));e.setState({pageNumber:a},(function(){e.getSchemaRegistry()}))},e.showDeleteModal=function(t){e.setState({showDeleteModal:!0,deleteMessage:t})},e.closeDeleteModal=function(){e.setState({showDeleteModal:!1,deleteMessage:""})},e.deleteSchemaRegistry=function(){var t=e.state,a=t.selectedCluster,n=t.schemaToDelete,r={clusterId:a,subject:n.subject};e.removeApi(Object(m.x)(a,n.subject),r).then((function(){k.b.success("Schema '".concat(n.subject,"' is deleted")),e.setState({showDeleteModal:!1,schemaToDelete:{}}),e.getSchemaRegistry()})).catch((function(){e.setState({showDeleteModal:!1,schemaToDelete:{}})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.clusterId,a=this.state,n=a.searchData,r=a.pageNumber,c=new URLSearchParams(this.props.location.search);this.setState({selectedCluster:t,searchData:{search:c.get("search")?c.get("search"):n.search},pageNumber:c.get("page")?parseInt(c.get("page")):parseInt(r)},(function(){e.getSchemaRegistry()}))}},{key:"getSchemaRegistry",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c,s,o=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedCluster,n=t.pageNumber,r=this.state.searchData.search,this.setState({loading:!0}),e.next=5,this.getApi(m.b.uriSchemaRegistry(a,r,n));case 5:c=e.sent,(s=c.data).results?(this.handleSchemaRegistry(s.results),this.setState({selectedCluster:a,totalPageNumber:s.page},(function(){o.props.history.push({pathname:"/ui/".concat(o.state.selectedCluster,"/schema"),search:"search=".concat(o.state.searchData.search,"&page=").concat(n)})}))):this.setState({selectedCluster:a,schemasRegistry:[],totalPageNumber:0,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSchemaRegistry",value:function(e){var t=[];e.forEach((function(e){e.size=0,e.logDirSize=0,t.push({id:e.id,subject:e.subject,version:e.version,exception:e.exception,schemaType:e.schemaType,schema:"PROTOBUF"===e.schemaType?e.schema:e.schema?JSON.stringify(JSON.parse(e.schema),null,2):null})})),this.setState({schemasRegistry:t,loading:!1})}},{key:"handleVersion",value:function(e){return r.a.createElement("span",{className:"badge badge-primary"}," ",e)}},{key:"handleOnDelete",value:function(e){var t=this;this.setState({schemaToDelete:e},(function(){t.showDeleteModal("Delete SchemaRegistry ".concat(e.subject,"?"))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedCluster,n=t.searchData,c=t.pageNumber,s=t.totalPageNumber,o=t.loading,i=this.state.roles||{},l=this.props.history,u=this.props.match.params.clusterId;return r.a.createElement("div",null,r.a.createElement(w,{title:"Schema Registry",history:l}),r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light mr-auto khq-data-filter khq-sticky khq-nav"},r.a.createElement(K,{showSearch:!0,search:n.search,showPagination:!0,pagination:c,showTopicListView:!1,showSchemaRegistry:!0,schemaListView:"ALL",doSubmit:this.handleSearch}),r.a.createElement(z,{pageNumber:c,totalPageNumber:s,onChange:X,onSubmit:this.handlePageChangeSubmission})),r.a.createElement(S,{loading:o,history:this.props.history,columns:[{id:"id",accessor:"id",colName:"Id"},{id:"subject",accessor:"subject",colName:"Subject"},{id:"schemaType",accessor:"schemaType",colName:"Schema Type"},{id:"version",accessor:"version",colName:"Version",cell:function(t){return e.handleVersion(t.version)}},{id:"schema",name:"schema",accessor:"schema",colName:"Schema",type:"text",extraRow:!0,extraRowContent:function(e,t,a){return r.a.createElement(U.a,{mode:"PROTOBUF"===e.schemaType?"protobuf":"json",id:"value"+a,theme:"merbivore_soft",value:e[t.accessor],readOnly:!0,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},style:{width:"100%",minHeight:"25vh"}})},cell:function(e,t){return e[t.accessor]?r.a.createElement("pre",{className:"mb-0 khq-data-highlight"},r.a.createElement("code",null,"PROTOBUF"===e.schemaType?e[t.accessor]:JSON.stringify(JSON.parse(e[t.accessor])))):e.exception?r.a.createElement("div",{className:"alert alert-warning mb-0",role:"alert"},e.exception):void 0}}],data:this.state.schemasRegistry,updateData:function(t){e.setState({schemasRegistry:t})},onDelete:function(t){e.handleOnDelete(t)},idCol:"subject",onDetails:function(e){return"/ui/".concat(a,"/schema/details/").concat(e)},actions:i.registry&&i.registry["registry/delete"]?[H.o.TABLE_DELETE,H.o.TABLE_DETAILS]:[H.o.TABLE_DETAILS],extraRow:!0,noStripes:!0,handleExtraExpand:function(e,t){var a=e;return a.includes(t.subject)?a:a.concat({id:t.id,subject:t.subject})},handleExtraCollapse:function(e,t){var a=e;return a.some((function(e){return e.subject===t.subject}))?a.filter((function(e){return!(e.id===t.id&&e.subject===t.subject)})):a},noContent:"No schemas available"}),i.registry&&i.registry["registry/insert"]&&r.a.createElement("aside",null,r.a.createElement(d.b,{to:{pathname:"/ui/".concat(u,"/schema/create"),state:{formData:this.state.createSubjectFormData}},className:"btn btn-primary"},"Create a Subject")),r.a.createElement(Y.a,{show:this.state.showDeleteModal,handleCancel:this.closeDeleteModal,handleConfirm:this.deleteSchemaRegistry,message:this.state.deleteMessage}))}}]),a}(T.a)),nt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={formData:{subject:"",compatibilityLevel:"BACKWARD",schemaData:"",schemaType:"AVRO"},compatibilityLevelSelect:[{_id:"NONE",name:"NONE"},{_id:"BACKWARD",name:"BACKWARD"},{_id:"BACKWARD_TRANSITIVE",name:"BACKWARD_TRANSITIVE"},{_id:"FORWARD",name:"FORWARD"},{_id:"FORWARD_TRANSITIVE",name:"FORWARD_TRANSITIVE"},{_id:"FULL",name:"FULL"},{_id:"FULL_TRANSITIVE",name:"FULL_TRANSITIVE"}],schemaTypeSelect:[{_id:"AVRO",name:"AVRO"},{_id:"JSON",name:"JSON"},{_id:"PROTOBUF",name:"PROTOBUF"}],errors:{}},e.schema={subject:j.a.string().required().label("subject"),compatibilityLevel:j.a.string().label("Compatibility").required(),schemaType:j.a.string().label("SchemaType").required(),schemaData:j.a.string().label("SchemaData").required()},e.onCleanupChange=function(t){var a=Object(y.a)({},e.state).formData;a.compatibilityLevel=t,e.setState({formData:a})},e}return Object(i.a)(a,[{key:"doSubmit",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c,s,o,i=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.formData,a=this.props.match.params.clusterId,n=t.schemaType,"PROTOBUF"===t.schemaType?r=t.schemaData:(s=JSON.parse(t.schemaData),r=s.schema?JSON.stringify(s.schema):t.schemaData,c=s.references||[]),o={cluster:a,subject:t.subject,schema:r,schemaType:n,references:c,compatibilityLevel:t.compatibilityLevel},this.postApi(Object(m.Q)(a),o).then((function(){i.props.history.push({pathname:"/ui/".concat(a,"/schema")}),k.b.success("Schema '".concat(t.subject,"' is created"))}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.compatibilityLevelSelect,n=t.schemaTypeSelect,c=t.formData;return r.a.createElement("div",null,r.a.createElement("form",{encType:"multipart/form-data",className:"khq-form khq-form-config",onSubmit:function(){return e.doSubmit()}},r.a.createElement(w,{title:"Create a schema",history:this.props.history}),this.renderInput("subject","Subject","Subject"),this.renderSelect("compatibilityLevel","Compatibility Level",a,(function(t){e.setState({formData:Object(y.a)(Object(y.a)({},c),{},{compatibilityLevel:t.target.value})})}),"col-sm-10"),this.renderSelect("schemaType","Schema Type",n,(function(t){e.setState({formData:Object(y.a)(Object(y.a)({},c),{},{schemaType:t.target.value})})}),"col-sm-10"),this.renderJSONInput("schemaData","Schema",(function(t){e.setState({formData:Object(y.a)(Object(y.a)({},c),{},{schemaData:t})})})),this.renderButton("Create",(function(){e.doSubmit()}),void 0,"button")))}}]),a}(q),rt=(a(746),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={clusterId:"",consumerGroupId:"",timestamp:"",topicOffset:e.props.topicOffset||{},firstOffsets:{},lastOffsets:{},formData:{},checked:{},errors:{}},e.schema={},e.createValidationSchema=function(t){var a=e.state,n=a.formData,r=a.checked,c={},s={},o="";Object.keys(t).forEach((function(a){r[a]=!1,t[a].forEach((function(t){o="".concat(a,"-").concat(t.partition),e.schema[o]=j.a.number().min(t.firstOffset||0).max(t.lastOffset||0).required().label("Partition ".concat(t.partition," offset")),n[o]=t.offset||0,c[o]=t.firstOffset||0,s[o]=t.lastOffset||0}))})),e.setState({formData:n,firstOffsets:c,lastOffsets:s,checked:r})},e.handleOffsetsByTimestamp=function(t){var a=e.state.formData,n="",r="";t.forEach((function(e){n=e.topic,r=e.partition,a["".concat(n,"-").concat(r)]=e.offset}))},e.resetToFirstOffsets=function(){var t=e.state.firstOffsets,a=e.state.formData;Object.keys(a).forEach((function(e){a[e]=t[e]})),e.setState({formData:a})},e.unCheckAll=function(t){var a=e.state.checked;Object.keys(a).forEach((function(e){a[e]=t})),e.setState({checked:a})},e.resetToLastOffsets=function(){var t=e.state.lastOffsets,a=e.state.formData;Object.keys(a).forEach((function(e){a[e]=t[e]})),e.setState({formData:a})},e.createSubmitBody=function(e,t){var a=[],n=[],r="",c="";return Object.keys(e).forEach((function(s){n=s.split("-"),c=n.pop(),r=n.join("-"),!0===t[r]&&a.push({topic:r,partition:c,offset:e[s]})})),a},e.rendertopicOffset=function(){var t=e.state,a=t.topicOffset,n=t.checked,c=[];return Object.keys(a).forEach((function(t){c.push(r.a.createElement("fieldset",{id:"fieldset-".concat(t),key:t},r.a.createElement("legend",{id:"legend-".concat(t)},r.a.createElement("input",{type:"checkbox",value:t,checked:n[t]||!1,onChange:e.checkedtopicOffset})," ",t),e.renderPartitionInputs(a[t],t,!n[t])))})),c},e.checkedtopicOffset=function(t){var a=e.state.checked;a[t.target.value]=t.target.checked,e.setState({checked:a})},e.renderPartitionInputs=function(t,a,n){var c=[];return t.forEach((function(t){var s="".concat(a,"-").concat(t.partition);c.push(r.a.createElement("div",{className:"form-group row",key:s},r.a.createElement("div",{className:"col-sm-10 partition-input"},r.a.createElement("span",{id:"".concat(a,"-").concat(t.partition,"-input")},e.renderInput(s,"Partition: ".concat(t.partition),"Offset","number",void 0,!0,"partition-input-div","partition-input ".concat(s,"-input"),{disabled:n})))))})),c},e.renderResetButton=function(){var t=e.state.timestamp,a=e.props.history.location.loading;return r.a.createElement("span",null,r.a.createElement("div",{className:"btn btn-secondary",type:"button",style:{marginRight:"0.5rem"},onClick:function(){return e.unCheckAll(!0)}},"Check all"),r.a.createElement("div",{className:"btn btn-secondary",type:"button",style:{marginRight:"0.5rem"},onClick:function(){return e.unCheckAll(!1)}},"Uncheck all"),r.a.createElement("div",{className:"btn btn-secondary",type:"button",style:{marginRight:"0.5rem"},onClick:function(){return e.resetToFirstOffsets()}},"Reset to first offsets"),r.a.createElement("div",{className:"btn btn-secondary",type:"button",style:{marginRight:"0.5rem"},onClick:function(){return e.resetToLastOffsets()}},"Reset to last offsets"),r.a.createElement("div",{className:"btn btn-secondary",type:"button",style:{marginRight:"0.5rem",padding:0}},r.a.createElement(B.a,null,r.a.createElement(B.a.Toggle,null,"Filter datetime"),!a&&r.a.createElement(B.a.Menu,null,r.a.createElement("div",null,r.a.createElement(F.a,{showTimeInput:!0,showDateTimeInput:!0,value:t,label:"",onChange:function(t){e.setState({timestamp:t},(function(){return e.getTopicOffset()}))}}))))))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,a=t.clusterId,n=t.consumerGroupId;this.setState({clusterId:a,consumerGroupId:n},(function(){e.getTopicOffset()}))}},{key:"getTopicOffset",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c,s,o,i,l,u=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.clusterId,n=t.consumerGroupId,r=t.topicOffset,c=t.timestamp,s=He()(c),o=c.toString().length>0?Object(N.c)({year:s.year(),monthValue:s.month(),dayOfMonth:s.date(),hour:s.hour(),minute:s.minute(),second:s.second(),milli:s.millisecond()},"YYYY-MM-DDTHH:mm:ss.SSS")+"Z":"",i={},JSON.stringify(r)!==JSON.stringify({})){e.next=13;break}return e.next=7,this.getApi(Object(m.k)(a,n));case 7:i=(i=e.sent).data,l=Object(N.d)(i.offsets),i?this.setState({topicOffset:l},(function(){return u.createValidationSchema(l)})):this.setState({topicOffset:{}}),e.next=22;break;case 13:if(""===o){e.next=21;break}return e.next=16,this.getApi(Object(m.q)(a,n,o));case 16:i=(i=e.sent).data,this.handleOffsetsByTimestamp(i),e.next=22;break;case 21:this.createValidationSchema(r);case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"doSubmit",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.clusterId,n=t.consumerGroupId,r=t.formData,c=t.checked,!(Object.values(c).filter((function(e){return!0===e})).length>0)){e.next=8;break}return e.next=4,this.postApi(Object(m.r)(a,n),this.createSubmitBody(r,c));case 4:this.setState({state:this.state}),k.b.success("Offsets for '".concat(n,"' updated successfully.")),e.next=9;break;case 8:k.b.error("Unable to perform operation, no topics checked.");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.consumerGroupId;return r.a.createElement("div",null,r.a.createElement(C,{title:"Update offsets: ".concat(t),history:this.props.history}),r.a.createElement("form",{className:"khq-form khq-update-consumer-group-offsets",onSubmit:function(){return e.handleSubmit()}},this.rendertopicOffset(),this.renderButton("Update",this.handleSubmit,void 0,"submit",this.renderResetButton())))}}]),a}(q)),ct=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={clusterId:"",consumerGroupId:"",topicIds:[],deleteAllOffsetsForTopic:"",showDeleteModal:!1,deleteMessage:""},e.showDeleteModal=function(t){e.setState({showDeleteModal:!0,deleteMessage:t})},e.closeDeleteModal=function(){e.setState({showDeleteModal:!1,deleteMessage:"",deleteAllOffsetsForTopic:""})},e.deleteOffsets=function(){var t=e.state,a=t.clusterId,n=t.consumerGroupId,r=t.deleteAllOffsetsForTopic;e.removeApi(Object(m.w)(a,n,r)).then((function(){k.b.success("Offsets for topic '".concat(r,"' and consumer group '").concat(n,"' are deleted")),e.setState({showDeleteModal:!1,deleteMessage:"",deleteAllOffsetsForTopic:""},(function(){e.getTopics()}))})).catch((function(){e.setState({showDeleteModal:!1,deleteMessage:"",deleteAllOffsetsForTopic:""})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,a=t.clusterId,n=t.consumerGroupId;this.setState({clusterId:a,consumerGroupId:n},(function(){e.getTopics()}))}},{key:"getTopics",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.clusterId,n=t.consumerGroupId,e.next=3,this.getApi(Object(m.k)(a,n));case 3:(r=(r=e.sent).data)&&r.topics?this.setState({topicIds:r.topics.map((function(e){return{topic:e}}))}):this.setState({topicIds:[]});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnDelete",value:function(e){var t=this;this.setState({deleteAllOffsetsForTopic:e},(function(){t.showDeleteModal(r.a.createElement(r.a.Fragment,null,"Do you want to delete all offsets of topic: ",r.a.createElement("code",null,e)," ?"))}))}},{key:"render",value:function(){var e=this,t=this.state.consumerGroupId;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(C,{title:"Delete offsets: ".concat(t),history:this.props.history})),r.a.createElement("div",null,r.a.createElement(S,{history:this.props.history,columns:[{id:"topic",accessor:"topic",colName:"Topic",type:"text",sortable:!0}],data:this.state.topicIds,noContent:r.a.createElement("tr",null,r.a.createElement("td",{colSpan:3},r.a.createElement("div",{className:"alert alert-warning mb-0",role:"alert"},"No offsets found."))),onDelete:function(t){e.handleOnDelete(t.topic)},actions:[H.o.TABLE_DELETE]})),r.a.createElement(Y.a,{show:this.state.showDeleteModal,handleCancel:this.closeDeleteModal,handleConfirm:this.deleteOffsets,message:this.state.deleteMessage}))}}]),a}(T.a),st=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={selectedCluster:e.props.clusterId,principalEncoded:e.props.principalEncoded,tableData:[],loading:!0},e.handleAcls=function(t){var a=t.acls.map((function(e){return{group:e.resource.name,patterntype:e.resource.patternType,host:e.host,permission:e.operation}}));e.setState({tableData:a,loading:!1})},e.handlePermission=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"badge badge-secondary"},e.permissionType)," ",e.operation)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getAcls()}},{key:"getAcls",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedCluster,n=t.principalEncoded,e.next=3,this.getApi(Object(m.c)(a,n,"GROUP"));case 3:(r=e.sent).data.acls?(c=r.data||[],this.handleAcls(c)):this.setState({tableData:[],loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.loading;return r.a.createElement(E.a,{loading:t,history:this.props.history,columns:[{id:"group",accessor:"group",colName:"Group",type:"text",sortable:!0},{id:"pattern-type",accessor:"patterntype",colName:"Pattern Type",type:"text",sortable:!0},{id:"host",accessor:"host",colName:"Host",type:"text",sortable:!0},{id:"permission",accessor:"permission",colName:"Permission",type:"text",cell:function(t){if(t.permission)return r.a.createElement("div",null,e.handlePermission(t.permission))}}],data:this.state.tableData,updateData:function(t){e.setState({tableData:t})},noContent:'No ACLS found, or the "authorizer.class.name" parameter is not configured on the cluster.'})}}]),a}(T.a),ot=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={selectedCluster:e.props.clusterId,principalEncoded:e.props.principalEncoded,tableData:[],loading:!0},e.handleAcls=function(t){var a=t.acls.map((function(e){return{topic:e.resource.name,patterntype:e.resource.patternType,host:e.host,permission:e.operation}}));e.setState({tableData:a,loading:!1})},e.handlePermission=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"badge badge-secondary"},e.permissionType)," ",e.operation)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getAcls()}},{key:"getAcls",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedCluster,n=t.principalEncoded,e.next=3,this.getApi(Object(m.c)(a,n,"TOPIC"));case 3:(r=e.sent).data.acls?(c=r.data||[],this.handleAcls(c)):this.setState({tableData:[],loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.loading;return r.a.createElement(E.a,{loading:t,history:this.props.history,columns:[{id:"topic",accessor:"topic",colName:"Topic",type:"text",sortable:!0},{id:"pattern-type",accessor:"patterntype",colName:"Pattern Type",type:"text",sortable:!0},{id:"host",accessor:"host",colName:"Host",type:"text",sortable:!0},{id:"permission",accessor:"permission",colName:"Permission",type:"text",cell:function(t){if(t.permission)return r.a.createElement("div",null,e.handlePermission(t.permission))}}],data:this.state.tableData,updateData:function(t){e.setState({tableData:t})},noContent:'No ACLS found, or the "authorizer.class.name" parameter is not configured on the cluster.'})}}]),a}(T.a),it=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={selectedCluster:e.props.clusterId,principalEncoded:e.props.principalEncoded,tableData:[],loading:!0},e.handleAcls=function(t){var a=t.acls.map((function(e){return{cluster:e.resource.name,patterntype:e.resource.patternType,host:e.host,permission:e.operation}}));e.setState({tableData:a,loading:!1})},e.handlePermission=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"badge badge-secondary"},e.permissionType)," ",e.operation)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getAcls()}},{key:"getAcls",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedCluster,n=t.principalEncoded,e.next=3,this.getApi(Object(m.c)(a,n,"CLUSTER"));case 3:(r=e.sent).data.acls?(c=r.data||[],this.handleAcls(c)):this.setState({tableData:[],loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.loading;return r.a.createElement(E.a,{loading:t,history:this.props.history,columns:[{id:"cluster",accessor:"cluster",colName:"Cluster",type:"text",sortable:!0},{id:"pattern-type",accessor:"patterntype",colName:"Pattern Type",type:"text",sortable:!0},{id:"host",accessor:"host",colName:"Host",type:"text",sortable:!0},{id:"permission",accessor:"permission",colName:"Permission",type:"text",cell:function(t){if(t.permission)return r.a.createElement("div",null,e.handlePermission(t.permission))}}],data:this.state.tableData,updateData:function(t){e.setState({tableData:t})},noContent:'No ACLS found, or the "authorizer.class.name" parameter is not configured on the cluster.'})}}]),a}(T.a),lt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={selectedCluster:e.props.clusterId,principalEncoded:e.props.principalEncoded,tableData:[],loading:!0},e.handleAcls=function(t){var a=t.acls.map((function(e){return{transactionalId:e.resource.name,patterntype:e.resource.patternType,host:e.host,permission:e.operation}}));e.setState({tableData:a,loading:!1})},e.handlePermission=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"badge badge-secondary"},e.permissionType)," ",e.operation)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getAcls()}},{key:"getAcls",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedCluster,n=t.principalEncoded,e.next=3,this.getApi(Object(m.c)(a,n,"TRANSACTIONAL_ID"));case 3:(r=e.sent).data.acls?(c=r.data||[],this.handleAcls(c)):this.setState({tableData:[],loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.loading;return r.a.createElement(E.a,{loading:t,history:this.props.history,columns:[{id:"transactionalId",accessor:"transactionalId",colName:"Transactional Id",type:"text",sortable:!0},{id:"pattern-type",accessor:"patterntype",colName:"Pattern Type",type:"text",sortable:!0},{id:"host",accessor:"host",colName:"Host",type:"text",sortable:!0},{id:"permission",accessor:"permission",colName:"Permission",type:"text",cell:function(t){if(t.permission)return r.a.createElement("div",null,e.handlePermission(t.permission))}}],data:this.state.tableData,updateData:function(t){e.setState({tableData:t})},noContent:'No ACLS found, or the "authorizer.class.name" parameter is not configured on the cluster.'})}}]),a}(T.a),ut=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={clusterId:e.props.match.params.clusterId,principalEncoded:e.props.match.params.principalEncoded,selectedTab:"topics"},e.tabs=["topics","groups","clusters","transactionalids"],e.tabClassName=function(t){return e.state.selectedTab===t?"nav-link active":"nav-link"},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,a=t.clusterId,n=t.principalEncoded,r=Object($.c)(this.props,this.tabs);this.setState({selectedTab:r||"topics"},(function(){e.props.history.replace("/ui/".concat(a,"/acls/").concat(n,"/").concat(e.state.selectedTab))}))}},{key:"componentDidUpdate",value:function(e,t){if(this.props.location.pathname!==e.location.pathname){var a=Object($.c)(this.props,this.tabs);this.setState({selectedTab:a})}}},{key:"renderSelectedTab",value:function(){var e=this.state,t=e.selectedTab,a=e.clusterId,n=e.principalEncoded,c=this.props.history;switch(t){case"groups":return r.a.createElement(st,{clusterId:a,principalEncoded:n,history:c});case"topics":return r.a.createElement(ot,{clusterId:a,principalEncoded:n,history:c});case"clusters":return r.a.createElement(it,{clusterId:a,principalEncoded:n,history:c});case"transactionalids":return r.a.createElement(lt,{clusterId:a,principalEncoded:n,history:c});default:return r.a.createElement(ot,{clusterId:a,principalEncoded:n,history:c})}}},{key:"render",value:function(){var e=this.state,t=e.principalEncoded,a=e.clusterId,n=this.props.history,c=atob(t);return r.a.createElement("div",null,r.a.createElement(w,{title:"Acl: ".concat(c),history:n}),r.a.createElement("div",{className:"tabs-container"},r.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(a,"/acls/").concat(t,"/topics"),className:this.tabClassName("topics")},"Topics")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(a,"/acls/").concat(t,"/groups"),className:this.tabClassName("groups")},"Groups")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(a,"/acls/").concat(t,"/clusters"),className:this.tabClassName("clusters")},"Clusters")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/ui/".concat(a,"/acls/").concat(t,"/transactionalids"),className:this.tabClassName("transactionalids")},"Transactional Ids"))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{className:"tab-pane active",role:"tabpanel"},this.renderSelectedTab()))))}}]),a}(n.Component),dt=a(169),mt=a.n(dt),pt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={formData:{username:"",password:""},errors:{},config:{formEnabled:!0,oidcAuths:[]}},e.schema={username:j.a.string().required().label("Username"),password:j.a.string().required().label("Password")},e}return Object(i.a)(a,[{key:"login",value:function(){var e=this,t=this.state.formData;try{var a={username:t.username,password:t.password};Object(O.b)(Object(m.D)(),a).then((function(){e.getData()}))}catch(n){k.b.error("Wrong Username or Password!")}}},{key:"getData",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getApi(Object(m.u)());case 2:t=e.sent,(a=t.data).logged?(sessionStorage.setItem("login",!0),sessionStorage.setItem("user",a.username),sessionStorage.setItem("roles",Object(N.e)(a.roles)),n=sessionStorage.getItem("returnTo"),sessionStorage.removeItem("returnTo"),this.props.history.push({pathname:n||"/ui"}),window.location.reload(!0)):k.b.error("Wrong Username or Password!");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=JSON.parse(sessionStorage.getItem("auths"));if(e&&e.loginEnabled){e.loginEnabled;var t=Object(_.a)(e,["loginEnabled"]);this.setState({config:t})}else this.props.history.push({pathname:"/ui"})}},{key:"_renderForm",value:function(){var e=this.state.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fa fa-user"}))),r.a.createElement("input",{type:"text",name:"username",className:"form-control",placeholder:"Username","aria-label":"Username",required:"",autoFocus:"",onChange:this.handleChange}),e.username&&r.a.createElement("div",{id:"input-error",className:"alert alert-danger mt-1 p-1"},e.username)),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fa fa-lock"}))),r.a.createElement("input",{type:"password",name:"password",className:"form-control",placeholder:"Password","aria-label":"Password",required:"",onChange:this.handleChange}),e.password&&r.a.createElement("div",{id:"input-error",className:"alert alert-danger mt-1 p-1"},e.password)),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-primary btn-lg",disabled:this.validate()})))}},{key:"_renderSeparator",value:function(){return r.a.createElement("div",{className:"khq-login-separator"},r.a.createElement("span",null,"or"))}},{key:"_renderOidc",value:function(e){return e.map((function(e){return r.a.createElement("a",{href:Object(m.K)(e.key),className:"btn btn-primary btn-block"},e.label)}))}},{key:"render",value:function(){var e=this,t=this.state.config,a=t.formEnabled,n=t.oidcAuths;return r.a.createElement("div",null,r.a.createElement("main",null,r.a.createElement("form",{className:"khq-login",onSubmit:function(t){t.preventDefault(),e.login()}},r.a.createElement("div",null,r.a.createElement("h3",{className:"logo"},r.a.createElement("img",{src:mt.a,alt:""}))),a&&this._renderForm(),a&&n&&this._renderSeparator(),n&&this._renderOidc(n))))}}]),a}(q),ht=(a(747),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={clusterId:"",formData:{topicDefaultView:"",topicDataSort:"",topicDataDateTimeFormat:"",skipConsumerGroups:!1,skipLastRecord:!1,showAllConsumerGroups:!0},errors:{}},e.topicDefaultView=Object.entries(H.d.TOPIC.TOPIC_DEFAULT_VIEW).map((function(e){var t=Object(Ue.a)(e,1)[0];return{_id:t,name:t}})),e.topicDataSort=Object.entries(H.d.TOPIC_DATA.SORT).map((function(e){var t=Object(Ue.a)(e,1)[0];return{_id:t,name:t}})),e.topicDataDateTimeFormat=Object.entries(H.d.TOPIC_DATA.DATE_TIME_FORMAT).map((function(e){var t=Object(Ue.a)(e,1)[0];return{_id:t,name:t}})),e.schema={topicDefaultView:j.a.string().optional(),topicDataSort:j.a.string().optional(),topicDataDateTimeFormat:j.a.string().required(),skipConsumerGroups:j.a.boolean().optional(),skipLastRecord:j.a.boolean().optional(),showAllConsumerGroups:j.a.boolean().optional()},e.checkedSkipConsumerGroups=function(t){var a=e.state.formData;a.skipConsumerGroups=t.target.checked,e.setState({formData:a})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.clusterId,t=Object(Be.a)(e);this.setState({clusterId:e,formData:{topicDefaultView:t&&t.topic?t.topic.defaultView:"",topicDataSort:t&&t.topicData?t.topicData.sort:"",topicDataDateTimeFormat:t&&t.topicData?t.topicData.dateTimeFormat:"",skipConsumerGroups:!(!t||!t.topic)&&t.topic.skipConsumerGroups,skipLastRecord:!(!t||!t.topic)&&t.topic.skipLastRecord,showAllConsumerGroups:!(!t||!t.topic)&&t.topic.showAllConsumerGroups}})}},{key:"doSubmit",value:function(){var e=this.state,t=e.clusterId,a=e.formData;Object(Be.d)(t,{topic:{defaultView:a.topicDefaultView,skipConsumerGroups:a.skipConsumerGroups,skipLastRecord:a.skipLastRecord,showAllConsumerGroups:a.showAllConsumerGroups},topicData:{sort:a.topicDataSort,dateTimeFormat:a.topicDataDateTimeFormat}}),k.b.success("Settings for cluster '".concat(t,"' updated successfully."))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{encType:"multipart/form-data",className:"khq-form khq-form-config",onSubmit:function(){return e.doSubmit()}},r.a.createElement(w,{title:"Settings",history:this.props.history}),r.a.createElement("fieldset",{id:"topic",key:"topic"},r.a.createElement("legend",{id:"topic"},"Topic"),this.renderSelect("topicDefaultView","Default View",this.topicDefaultView,(function(t){var a=t.currentTarget,n=e.state.formData;n.topicDefaultView=a.value,e.setState({formData:n})}),"col-sm-10","select-wrapper settings-wrapper",!0,{className:"form-control"}),r.a.createElement("div",{className:"select-wrapper settings-wrapper row"},r.a.createElement("span",{className:"col-sm-2 col-form-label"},"Skip Consumer Groups"),r.a.createElement("span",{className:"col-sm-10 row-checkbox-settings"},r.a.createElement("input",{type:"checkbox",value:"skipConsumerGroups",checked:this.state.formData.skipConsumerGroups||!1,onChange:this.checkedSkipConsumerGroups}))),r.a.createElement("div",{className:"select-wrapper settings-wrapper row"},r.a.createElement("span",{className:"col-sm-2 col-form-label"},"Skip Last Record Date"),r.a.createElement("span",{className:"col-sm-10 row-checkbox-settings"},r.a.createElement("input",{type:"checkbox",value:"skipLastRecord",checked:this.state.formData.skipLastRecord||!1,onChange:function(t){var a=e.state.formData;a.skipLastRecord=t.target.checked,e.setState({formData:a})}}))),r.a.createElement("div",{className:"select-wrapper settings-wrapper row"},r.a.createElement("span",{className:"col-sm-2 col-form-label"},"Show All Consumer Groups"),r.a.createElement("span",{className:"col-sm-10 row-checkbox-settings"},r.a.createElement("input",{type:"checkbox",value:"showAllConsumerGroups",checked:this.state.formData.showAllConsumerGroups||!1,onChange:function(t){var a=e.state.formData;a.showAllConsumerGroups=t.target.checked,e.setState({formData:a})}})))),r.a.createElement("fieldset",{id:"topicData",key:"topicData"},r.a.createElement("legend",{id:"topicData"},"Topic Data"),this.renderSelect("topicDataSort","Sort",this.topicDataSort,(function(t){var a=t.currentTarget,n=e.state.formData;n.topicDataSort=a.value,e.setState({formData:n})}),"col-sm-10","select-wrapper settings-wrapper",!0,{className:"form-control"}),this.renderSelect("topicDataDateTimeFormat","Time Format",this.topicDataDateTimeFormat,(function(t){var a=t.currentTarget,n=e.state.formData;n.topicDataDateTimeFormat=a.value,e.setState({formData:n})}),"col-sm-10","select-wrapper settings-wrapper",!0,{className:"form-control"})),this.renderButton("Update Settings",(function(){e.doSubmit()}),void 0,"button")))}}]),a}(q)),ft=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={clusters:[],clusterId:"",user:"",loading:!0},e}return Object(i.a)(a,[{key:"getClusters",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.clusterId,e.prev=1,e.next=4,this.getApi(Object(m.f)());case 4:a=e.sent,this.setState({clusters:a.data,clusterId:a.data?a.data[0].id:"",loading:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),401===e.t0.status&&(!t||t.length<=0)&&this.setState({clusterId:"401"}),console.error("Error:",e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"_initUserAndAuth",value:function(){var e=this,t=[this.getApi(Object(m.u)()),this.getApi(Object(m.e)())];Promise.all(t).then((function(t){e._setAuths(t[1]),e._setCurrentUser(t[0].data)})).catch((function(e){console.error("Error:",e)}))}},{key:"_setAuths",value:function(e){200===e.status&&(sessionStorage.setItem("auths",JSON.stringify(e.data)),sessionStorage.setItem("version",e.data.version))}},{key:"_setCurrentUser",value:function(e){sessionStorage.setItem("user",""),e.logged?(sessionStorage.setItem("login",!0),sessionStorage.setItem("user",e.username),sessionStorage.setItem("roles",Object(N.e)(e.roles)),this.setState({user:e.username})):(sessionStorage.setItem("login",!1),e.roles?(sessionStorage.setItem("user","default"),sessionStorage.setItem("roles",Object(N.e)(e.roles)),this.setState({user:"default"})):(sessionStorage.setItem("user",""),sessionStorage.setItem("roles",JSON.stringify({})),this.setState({user:"not_logged"}))),this.setState({loading:!1})}},{key:"handleRedirect",value:function(){var e=this.state.clusterId,t=JSON.parse(sessionStorage.getItem("roles"));return t&&t.topic&&t.topic["topic/read"]?"/ui/".concat(e,"/topic"):t&&t.node&&t.node["node/read"]?"/ui/".concat(e,"/node"):t&&t.group&&t.group["group/read"]?"/ui/".concat(e,"/group"):t&&t.acls&&t.acls["acls/read"]?"/ui/".concat(e,"/acls"):t&&t.registry&&t.registry["registry/read"]?"/ui/".concat(e,"/schema"):t&&Object.keys(t).length>0?"/ui/".concat(e,"/topic"):"/ui/login"}},{key:"render",value:function(){var e=this,t=this.props.location,a=this.state.clusters||[],n=JSON.parse(sessionStorage.getItem("roles"))||{},c=this.state.clusterId;return this.state.user.length<=0?(this._initUserAndAuth(),r.a.createElement(r.a.Fragment,null)):!(c.length<=0||"401"===c)||"true"!==sessionStorage.getItem("login")&&"default"!==this.state.user?(a.find((function(t){return t.id===e.state.clusterId}))||"401"===c||(c=a[0]||""),this.state.loading?r.a.createElement(ye,{show:!0}):c?r.a.createElement(Ne,{clusters:a},r.a.createElement(v.d,{location:t},r.a.createElement(v.b,{exact:!0,path:"/ui/login",component:pt}),n&&n.topic&&n.topic["topic/read"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/topic",component:te}),n&&n.topic&&n.topic["topic/insert"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/topic/create",component:Ge}),n&&n.topic&&n.topic["topic/data/insert"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/topic/:topicId/produce",component:Ke}),n&&n.topic&&n.topic["topic/data/insert"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/topic/:topicId/copy",component:ze}),n&&n.topic&&n.topic["topic/read"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/topic/:topicId/:tab?",component:ie}),n&&n.topic&&n.topic["topic/data/read"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/tail",component:je}),n&&n.node&&n.node["node/read"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/node",component:le}),n&&n.node&&n.node["node/read"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/node/:nodeId/:tab?",component:me}),n&&n.group&&n.group["group/read"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/group",component:Ye}),n&&n.group&&n.group["group/offsets/delete"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/group/:consumerGroupId/offsetsdelete",component:ct}),n&&n.group&&n.group["group/offsets/update"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/group/:consumerGroupId/offsets",component:rt}),n&&n.group&&n.group["group/read"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/group/:consumerGroupId/:tab?",component:Xe}),n&&n.acls&&n.acls["acls/read"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/acls",component:xe}),n&&n.acls&&n.acls["acls/read"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/acls/:principalEncoded/:tab?",component:ut}),n&&n.registry&&n.registry["registry/read"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/schema",component:at}),n&&n.registry&&n.registry["registry/insert"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/schema/create",component:nt}),n&&n.registry&&n.registry["registry/update"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/schema/details/:schemaId/update",component:tt}),n&&n.registry&&n.registry["registry/read"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/schema/details/:schemaId/:tab?",component:tt}),n&&n.connect&&n.connect["connect/insert"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/connect/:connectId/create",component:_e}),n&&n.connect&&n.connect["connect/read"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/connect/:connectId",component:Me}),n&&n.connect&&n.connect["connect/read"]&&r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/connect/:connectId/definition/:definitionId/:tab?",component:Ve}),r.a.createElement(v.b,{exact:!0,path:"/ui/:clusterId/settings",component:ht}),r.a.createElement(v.a,{from:"/",to:this.handleRedirect()}),r.a.createElement(v.a,{from:"/ui",to:this.handleRedirect()}),r.a.createElement(v.a,{from:"/ui/401",to:this.handleRedirect()}))):"false"===sessionStorage.getItem("login")&&"default"!==this.state.user?r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/ui/login",component:pt}),r.a.createElement(v.a,{from:"/ui",to:"/ui/login"}),r.a.createElement(v.a,{from:"/",to:"/ui/login"})):r.a.createElement(ye,{show:!0})):(this.getClusters(),r.a.createElement(r.a.Fragment,null))}}]),a}(T.a);ft.propTypes={location:b.a.object,history:b.a.object,clusterId:b.a.string,clusters:b.a.array};var gt=Object(v.g)(ft),bt=a(773),vt=a(170),yt=a(171),Et=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){Object(yt.loadProgressBar)()}},{key:"render",value:function(){return r.a.createElement(bt.a,{utils:vt.a},r.a.createElement(d.a,{basename:m.a},r.a.createElement(gt,null),r.a.createElement(k.a,{draggable:!1,closeOnClick:!1})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var St=a(83),Nt=Object(St.a)()+"/ui";s.a.render(r.a.createElement(Et,{pathPrefix:Nt}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},75:function(e,t,a){"use strict";var n=a(7),r=a(10),c=a(9),s=a(8),o=a(0),i=a.n(o),l=a(173),u=a(774),d=a(4),m=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.isoDateTimeString,t=i.a.createElement(l.a,{date:Date.parse(e),title:""});return i.a.createElement(u.a,{arrow:!0,title:this.props.dateTimeFormat===d.d.TOPIC_DATA.DATE_TIME_FORMAT.ISO?t:e,interactive:!0},i.a.createElement("span",null,this.props.dateTimeFormat===d.d.TOPIC_DATA.DATE_TIME_FORMAT.ISO?e:t))}}]),a}(o.Component);t.a=m},83:function(e,t,a){"use strict";t.a=function(){var e=AKHQ_PREFIX_PATH;return void 0===e&&(e="/"),e.endsWith("/")&&(e=e.substr(-1)),e}},97:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(307);t.a=function(e){var t=e.pageNumber,a=e.totalPageNumber,n=e.totalRecords,c=e.onChange,s=e.onSubmit,o=e.editPageNumber,i=e.showTotalPageNumber,l=void 0===i||i;return void 0===o&&(o=!0),r.a.createElement("ul",{className:"pagination mb-0"},r.a.createElement("li",{className:"page-item before"},r.a.createElement("a",{href:"#/",className:"before-button",onClick:function(e){e.preventDefault(),s(t-1)},disabled:1===+t},r.a.createElement("div",{className:"page-link"},r.a.createElement("span",{"aria-hidden":"true"},"\xab"),r.a.createElement("span",{className:" sr-only"},"Previous")))),r.a.createElement("li",{className:"page-item info"},r.a.createElement("div",{className:"page-link page-number"},void 0!==n?"\u2248 "+n:r.a.createElement("input",{className:"pagination-input page-input",disabled:!o,type:"number",value:t,onChange:c,onKeyDown:function(e){"Enter"===e.key&&s(t)}}),void 0!==a&&l&&"of ".concat(a))),r.a.createElement("li",{className:"page-item after"},r.a.createElement("a",{href:"#/",className:"after-button",onClick:function(e){e.preventDefault(),s(t+1)},disabled:+t===+a},r.a.createElement("div",{className:" page-link","aria-label":" Next"},r.a.createElement("span",{"aria-hidden":"true"},"\xbb"),r.a.createElement("span",{className:"sr-only"},"Next")))))}}},[[179,1,2]]]);
//# sourceMappingURL=main.6283c4fe.chunk.js.map